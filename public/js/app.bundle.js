/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={3739:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decode=void 0;const o=r(n(9700));var i;function s(t,e){let n="",r=!1,o=!1,i=t;for(;i;){const t=o;if(o=!1," "===i&&!r)break;if("="===i&&!r&&!t)break;'"'!==i||t?"\\"!==i||t?(n+=i,i=e.next()):(o=!0,i=e.next()):(r=!r,i=e.next())}return n}!function(t){t[t.Key=0]="Key",t[t.Value=1]="Value",t[t.Garbage=2]="Garbage"}(i||(i={})),e.decode=function(t){const e={},n=new o.default(t);let r,a=i.Garbage,c="",u="";for(;r=n.next();)switch(a){case i.Garbage:if(" "===r)continue;a=i.Key,n.rewind();break;case i.Key:c=s(r,n),a=i.Value;break;case i.Value:u=s(r,n),e[c]=u,a=i.Garbage}return e}},2135:(t,e)=>{"use strict";function n(t){if(""===t)return'""';let e=t.split(/\n/g).join(" ");return/["\\]/.test(e)&&(e=e.replace(/["\\]/g,"\\$&")),/[\s=]/.test(e)&&(e=`"${e}"`),e}Object.defineProperty(e,"__esModule",{value:!0}),e.encode=void 0,e.encode=function(t,e={}){let r="";for(const o in t){const i=t[o];let s=i;s=null==i?"":n(String(i)),r+=`${e.encodeKeys?n(o):o}=${s} `}return r.trim()}},6416:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(3739),e),o(n(2135),e),o(n(4096),e)},4096:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;const r=n(2135);class o{context;timers={};stream;constructor({stream:t,context:e}={}){this.stream=t||process.stdout,this.context=e||{}}static log(t,e={}){const n=e.stream||process.stdout,o=(0,r.encode)(t);n.write(`${o}\n`)}appendContext(t){this.context=this.mergeContext(t)}log(t={}){const e=this.getTimersState(),n=(0,r.encode)(this.mergeContext(e,t));this.stream.write(`${n}\n`)}logError(t,e={}){const n=this.merge(this.context,e),r=new o({stream:this.stream,context:n}),i={error_id:this.pseudorandomId()},s=t.stack?t.stack.split("\n"):[];[this.merge(i,{name:t.name,message:t.message}),...s.map((t=>this.merge(i,{stackLine:t})))].forEach(r.log.bind(r))}time(t){this.timers[t]=Date.now()}getTimersState(){const t=Date.now(),e={};for(const n in this.timers)e[n]=t-this.timers[n];return e}merge(...t){return Object.assign({},...t)}mergeContext(...t){return Object.assign({},this.context,...t)}pseudorandomId(){return Math.floor(1e9*Math.random())}}e.Logger=o},9700:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{data;constructor(t){this.data=t,this.pos=0}next(){return this.data[this.pos++]}peek(){return this.data[this.pos+1]}rewind(){const t=this.pos-1;this.pos=t<0?0:t}}},4537:t=>{"use strict";t.exports=function(t,e){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,s){n[r]=function(t){if(i)if(i=!1,t)s(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,s(t))}}))}},7419:(t,e)=>{"use strict";var n=e;n.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(t,e,n){for(var o,i=null,s=[],a=0,c=0;e<n;){var u=t[e++];switch(c){case 0:s[a++]=r[u>>2],o=(3&u)<<4,c=1;break;case 1:s[a++]=r[o|u>>4],o=(15&u)<<2,c=2;break;case 2:s[a++]=r[o|u>>6],s[a++]=r[63&u],c=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=r[o],s[a++]=61,1===c&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";n.decode=function(t,e,n){for(var r,i=n,a=0,c=0;c<t.length;){var u=t.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error(s);switch(a){case 0:r=u,a=1;break;case 1:e[n++]=r<<2|(48&u)>>4,r=u,a=2;break;case 2:e[n++]=(15&r)<<4|(60&u)>>2,r=u,a=3;break;case 3:e[n++]=(3&r)<<6|u,a=0}}if(1===a)throw Error(s);return n-i},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},9211:t=>{"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},e.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},e.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},945:t=>{"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function s(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function a(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?s:a,t.readFloatBE=r?a:s}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function s(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,s=8388607&r;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,r),t.readFloatLE=s.bind(null,o),t.readFloatBE=s.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function s(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function a(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?s:a,t.readDoubleBE=r?a:s}():function(){function e(t,e,n,r,o,i){var s=r<0?1:0;if(s&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((s<<31|2146435072)>>>0,o,i+n);else{var a;if(r<22250738585072014e-324)t((a=r/5e-324)>>>0,o,i+e),t((s<<31|a/4294967296)>>>0,o,i+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(a=r*Math.pow(2,-c))>>>0,o,i+e),t((s<<31|c+1023<<20|1048576*a&1048575)>>>0,o,i+n)}}}function s(t,e,n,r,o){var i=t(r,o+e),s=t(r,o+n),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+i;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,r,4,0),t.readDoubleLE=s.bind(null,o,0,4),t.readDoubleBE=s.bind(null,i,4,0)}(),t}function n(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function r(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function i(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=e(e)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:t=>{"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,s=r;return function(n){if(n<1||n>o)return t(n);s+n>r&&(i=t(r),s=0);var a=e.call(i,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},4997:(t,e)=>{"use strict";var n=e;n.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},n.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],s=0;e<n;)(r=t[e++])<128?i[s++]=r:r>191&&r<224?i[s++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[s++]=55296+(r>>10),i[s++]=56320+(1023&r)):i[s++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},n.write=function(t,e,n){for(var r,o,i=n,s=0;s<t.length;++s)(r=t.charCodeAt(s))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&o),++s,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},2044:t=>{function e(t){const e=new globalThis.AbortController;function n(){e.abort();for(const e of t)e&&e.removeEventListener&&e.removeEventListener("abort",n)}for(const e of t)if(e&&e.addEventListener){if(e.aborted){n();break}e.addEventListener("abort",n)}return e.signal}t.exports=e,t.exports.anySignal=e},4409:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)((function(e,n){var o;try{o=t.apply(this,e)}catch(t){return n(t)}(0,r.default)(o)&&"function"==typeof o.then?o.then((function(t){a(n,null,t)}),(function(t){a(n,t.message?t:new Error(t))})):n(null,o)}))};var r=s(n(3218)),o=s(n(3519)),i=s(n(3111));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){try{t(e,n)}catch(t){(0,i.default)(c,t)}}function c(t){throw t}t.exports=e.default},8626:(t,e)=>{"use strict";function n(){this.head=this.tail=null,this.length=0}function r(t,e){t.length=1,t.head=t.tail=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,n.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},n.prototype.empty=function(){for(;this.head;)this.shift();return this},n.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},n.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},n.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):r(this,t)},n.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):r(this,t)},n.prototype.shift=function(){return this.head&&this.removeLink(this.head)},n.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},n.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},n.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this},t.exports=e.default},3519:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),n=e.pop();t.call(this,e,n)}};var r,o=(r=n(3033))&&r.__esModule?r:{default:r};t.exports=e.default},3362:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},4506:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var l=(0,u.default)(t),f=0,h=[],d=!1;function p(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(m.started=!0,(0,o.default)(t)||(t=[t]),0===t.length&&m.idle())return(0,a.default)((function(){m.drain()}));for(var r=0,s=t.length;r<s;r++){var c={data:t[r],callback:n||i.default};e?m._tasks.unshift(c):m._tasks.push(c)}d||(d=!0,(0,a.default)((function(){d=!1,m.process()})))}function g(t){return function(e){f-=1;for(var n=0,o=t.length;n<o;n++){var i=t[n],s=(0,r.default)(h,i,0);0===s?h.shift():s>0&&h.splice(s,1),i.callback.apply(i,arguments),null!=e&&m.error(e,i.data)}f<=m.concurrency-m.buffer&&m.unsaturated(),m.idle()&&m.drain(),m.process()}}var y=!1,m={_tasks:new c.default,concurrency:e,payload:n,saturated:i.default,unsaturated:i.default,buffer:e/4,empty:i.default,drain:i.default,error:i.default,started:!1,paused:!1,push:function(t,e){p(t,!1,e)},kill:function(){m.drain=i.default,m._tasks.empty()},unshift:function(t,e){p(t,!0,e)},remove:function(t){m._tasks.remove(t)},process:function(){if(!y){for(y=!0;!m.paused&&f<m.concurrency&&m._tasks.length;){var t=[],e=[],n=m._tasks.length;m.payload&&(n=Math.min(n,m.payload));for(var r=0;r<n;r++){var o=m._tasks.shift();t.push(o),h.push(o),e.push(o.data)}f+=1,0===m._tasks.length&&m.empty(),f===m.concurrency&&m.saturated();var i=(0,s.default)(g(t));l(e,i)}y=!1}},length:function(){return m._tasks.length},running:function(){return f},workersList:function(){return h},idle:function(){return m._tasks.length+f===0},pause:function(){m.paused=!0},resume:function(){!1!==m.paused&&(m.paused=!1,(0,a.default)(m.process))}};return m};var r=l(n(2118)),o=l(n(1469)),i=l(n(308)),s=l(n(3362)),a=l(n(3111)),c=l(n(8626)),u=l(n(8993));function l(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},3111:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=c,e.wrap=u;var r,o,i=(r=n(3033))&&r.__esModule?r:{default:r},s=e.hasSetImmediate="function"==typeof setImmediate&&setImmediate,a=e.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function c(t){setTimeout(t,0)}function u(t){return function(e){var n=(0,i.default)(arguments,1);t((function(){e.apply(null,n)}))}}o=s?setImmediate:a?process.nextTick:c,e.default=u(o)},3033:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=t[e+o];return r},t.exports=e.default},8993:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var r,o=(r=n(4409))&&r.__esModule?r:{default:r},i="function"==typeof Symbol;function s(t){return i&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return s(t)?(0,o.default)(t):t},e.isAsync=s},5735:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,o.default)(t);return(0,r.default)((function(t,e){n(t[0],e)}),e,1)};var r=i(n(4506)),o=i(n(8993));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=a(t),s=i[0],c=i[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,c)),l=0,f=c>0?s-4:s;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[l++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],s=16383,a=0,u=r-o;a<u;a+=s)i.push(c(t,a,a+s>u?u:a+s));return 1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var o,i,s=[],a=e;a<r;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3294:(t,e,n)=>{"use strict";const r=n(6154);t.exports=function(t){return"function"==typeof t.stream?r(t.stream()):r(new Response(t).body)}},6154:t=>{"use strict";t.exports=async function*(t,e={}){const n=t.getReader();try{for(;;){const t=await n.read();if(t.done)return;yield t.value}}finally{!0!==e.preventCancel&&n.cancel(),n.releaseLock()}}},8764:(t,e,n)=>{"use strict";const r=n(9742),o=n(645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const o=r.write(t,e);return o!==n&&(r=r.slice(0,o)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const o=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||K(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(t).length;default:if(o)return r?-1:q(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return D(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,o){let i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(t,i+r)!==u(e,r)){n=!1;break}if(n)return i}return-1}function v(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(K(r))return s;t[n+s]=r}return s}function _(t,e,n,r){return G(q(e,t.length-n),t,n,r)}function E(t,e,n,r){return G(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function k(t,e,n,r){return G(J(e),t,n,r)}function x(t,e,n,r){return G(function(t,e){let n,r,o;const i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(i=c));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=t[o+1],r=t[o+2],a=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(t){const e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))o+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,o){if(Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(i,s),u=this.slice(r,o),l=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==l[t]){i=u[t],s=l[t];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function I(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function D(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=X[t[r]];return o}function O(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r,o){z(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function N(t,e,n,r,o){z(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function U(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,i){return e=+e,n>>>=0,i||U(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,i){return e=+e,n>>>=0,i||U(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Z((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Z((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Z((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Z((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let o=0,i=1,s=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Z((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=c.isBuffer(t)?t:c.from(t,r),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%s]}return this};const M={};function $(t,e,n){M[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function z(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new M.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||H(e,t.length-(n+1))}(r,o,i)}function W(t,e){if("number"!=typeof t)throw new M.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,n){if(Math.floor(t)!==t)throw W(t,n),new M.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=F(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=F(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function q(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function J(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function K(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},1804:(t,e,n)=>{"use strict";var r=n(5618),o=n(7205),i=n(7191),s=n(5516),a=n(9981);(t.exports=function(t,e){var n,o,c,u,l;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],r(t)?(n=a.call(t,"c"),o=a.call(t,"e"),c=a.call(t,"w")):(n=c=!0,o=!1),l={value:e,configurable:n,enumerable:o,writable:c},u?i(s(u),l):l}).gs=function(t,e,n){var c,u,l,f;return"string"!=typeof t?(l=n,n=e,e=t,t=null):l=arguments[3],r(e)?o(e)?r(n)?o(n)||(l=n,n=void 0):n=void 0:(l=e,e=n=void 0):e=void 0,r(t)?(c=a.call(t,"c"),u=a.call(t,"e")):(c=!0,u=!1),f={get:e,set:n,configurable:c,enumerable:u},l?i(s(l),f):f}},8254:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7135);function o(t){const e={};return t.encrypted_key&&(e.encrypted_key=r.fromBase64url(t.encrypted_key)),t.header&&(e.header=t.header),e}function i(t){const e={};return t.encrypted_key&&(e.encrypted_key=r.toBase64url(t.encrypted_key)),t.header&&(e.header=t.header),e}e.default={fromSplit:function(t){const[e,n,r,o,i]=t,s={ciphertext:o,iv:r,protected:e,tag:i};return n&&(s.recipients=[{encrypted_key:n}]),s},decode:function(t){const e={ciphertext:r.toBase64url(t.ciphertext),protected:r.toBase64url(t.protected),iv:r.toBase64url(t.iv),tag:r.toBase64url(t.tag)};return t.aad&&(e.aad=r.toBase64url(t.aad)),t.recipients&&(e.recipients=t.recipients.map(i)),t.unprotected&&(e.unprotected=t.unprotected),e},encode:function(t){const e={ciphertext:r.fromBase64url(t.ciphertext),protected:r.fromBase64url(t.protected),iv:r.fromBase64url(t.iv),tag:r.fromBase64url(t.tag)};return t.aad&&(e.aad=r.fromBase64url(t.aad)),t.recipients&&(e.recipients=t.recipients.map(o)),t.unprotected&&(e.unprotected=t.unprotected),e}}},8630:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=e.toGeneral=e.code=e.name=void 0;const a=s(n(1446)),c=s(n(8254)),u=i(n(7548));function l(t){return"payload"in t&&"string"==typeof t.payload&&"signatures"in t&&Array.isArray(t.signatures)}function f(t){return"ciphertext"in t&&"string"==typeof t.ciphertext&&"iv"in t&&"string"==typeof t.iv&&"protected"in t&&"string"==typeof t.protected&&"tag"in t&&"string"==typeof t.tag}function h(t){if("string"==typeof t){const e=t.split(".");if(3===e.length)return a.default.fromSplit(e);if(5===e.length)return c.default.fromSplit(e);throw new Error("Not a valid JOSE string")}if(l(t)||f(t))return t;throw new Error("Not a valid unencoded JOSE object")}e.name="dag-jose",e.code=133,e.toGeneral=h,e.encode=function(t){let e;if("string"==typeof t&&(t=h(t)),l(t))e=a.default.encode(t);else{if(!f(t))throw new Error("Not a valid JOSE object");e=c.default.encode(t)}return new Uint8Array(u.encode(e))},e.decode=function(t){let e;try{e=u.decode(t)}catch(t){throw new Error("Not a valid DAG-JOSE object")}if("payload"in(n=e)&&n.payload instanceof Uint8Array&&"signatures"in n&&Array.isArray(n.signatures))return a.default.decode(e);if(function(t){return"ciphertext"in t&&t.ciphertext instanceof Uint8Array&&"iv"in t&&t.iv instanceof Uint8Array&&"protected"in t&&t.protected instanceof Uint8Array&&"tag"in t&&t.tag instanceof Uint8Array}(e))return c.default.decode(e);throw new Error("Not a valid DAG-JOSE object");var n}},1446:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7135),o=n(1362);function i(t){const e={signature:r.fromBase64url(t.signature)};return t.header&&(e.header=t.header),t.protected&&(e.protected=r.fromBase64url(t.protected)),e}function s(t){const e={signature:r.toBase64url(t.signature)};return t.header&&(e.header=t.header),t.protected&&(e.protected=r.toBase64url(t.protected)),e}e.default={fromSplit:function(t){const[e,n,i]=t;return{payload:n,signatures:[{protected:e,signature:i}],link:o.CID.decode(r.fromBase64url(n))}},encode:function(t){const e=r.fromBase64url(t.payload);try{o.CID.decode(e)}catch(t){throw new Error("Not a valid DagJWS")}return{payload:e,signatures:t.signatures.map(i)}},decode:function(t){const e={payload:r.toBase64url(t.payload),signatures:t.signatures.map(s)};return e.link=o.CID.decode(new Uint8Array(t.payload)),e}}},7135:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromBase64url=e.toBase64url=void 0;const r=n(9885);e.toBase64url=function(t){return r.base64url.encode(t).slice(1)},e.fromBase64url=function(t){return r.base64url.decode(`u${t}`)}},8266:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(5349));function i(t){return void 0===t&&(t=n(1227)),(0,o.default)(t)}t.exports=i,e.default=i},5349:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(4156));e.default=function(t){var e=(0,i.default)((function(e){var n,o=t(e);return o.enabled?(n=o,Object.assign((function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if("function"==typeof t){var i=t(),s=Array.isArray(i)?i:[i];return n.apply(void 0,s)}return n.apply(void 0,r([t],e,!1))}),n)):Object.assign((function(){}),o)}));return Object.assign(e,t)}},6810:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function r(t,n){void 0===t&&(t=""),void 0===n&&(n="");var r=n?[t,n].join(":"):t,i=e(r);return i.spawn=o,i}function o(t){return r(this.namespace,t)}return void 0===t&&(t=""),void 0===e&&(e=n(8266)()),r(t)}},2131:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(8266)),a=i(n(6810));o(n(4335),e);var c=Object.assign(s.default,{spawnable:a.default});t.exports=c,e.default=c},4335:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},8006:(t,e,n)=>{"use strict";const{encode:r}=n(6416),o=n(2131)(n(1227)),i=["info","warn","error"],s=t=>(...e)=>t(e.map((t=>"string"==typeof t?t:r(t))).join(" "));t.exports=(t,{levels:e=i}={})=>{const n=s(o(t));return e.forEach((e=>n[e]=s(o(`${t}:${e}`)))),n}},1227:(t,e,n)=>{e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(2447)(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},2447:(t,e,n)=>{t.exports=function(t){function e(t){let n,o,i,s=null;function a(...t){if(!a.enabled)return;const r=a,o=Number(new Date),i=o-(n||o);r.diff=i,r.prev=n,r.curr=o,n=o,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";s++;const i=e.formatters[o];if("function"==typeof i){const e=t[s];n=i.call(r,e),t.splice(s,1),s--}return n})),e.formatArgs.call(r,t),(r.log||e.log).apply(r,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=r,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==e.namespaces&&(o=e.namespaces,i=e.enabled(t)),i),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function r(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(o),...e.skips.map(o).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(7824),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},2114:t=>{"use strict";function e(t,e){for(const n in e)Object.defineProperty(t,n,{value:e[n],enumerable:!0,configurable:!0});return t}t.exports=function(t,n,r){if(!t||"string"==typeof t)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof n&&(r=n,n=""),n&&(r.code=n);try{return e(t,r)}catch(n){r.message=t.message,r.stack=t.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(t)),e(new o,r)}}},2041:(t,e,n)=>{"use strict";var r=n(9980),o=n(3902),i=n(2745),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,c=Math.abs,u=Math.floor;t.exports=function(t){var e,n,l,f;if(!r(t))return s.apply(this,arguments);for(n=o(i(this).length),l=arguments[1],e=l=isNaN(l)?0:l>=0?u(l):o(this.length)-u(c(l));e<n;++e)if(a.call(this,e)&&(f=this[e],r(f)))return e;return-1}},4616:(t,e,n)=>{"use strict";t.exports=n(7379)()?Array.from:n(2669)},7379:t=>{"use strict";t.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},2669:(t,e,n)=>{"use strict";var r=n(8641).iterator,o=n(6766),i=n(1216),s=n(3902),a=n(1290),c=n(2745),u=n(6914),l=n(4349),f=Array.isArray,h=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(t){var e,n,g,y,m,w,b,v,_,E,k=arguments[1],x=arguments[2];if(t=Object(c(t)),u(k)&&a(k),this&&this!==Array&&i(this))e=this;else{if(!k){if(o(t))return 1!==(m=t.length)?Array.apply(null,t):((y=new Array(1))[0]=t[0],y);if(f(t)){for(y=new Array(m=t.length),n=0;n<m;++n)y[n]=t[n];return y}}y=[]}if(!f(t))if(void 0!==(_=t[r])){for(b=a(_).call(t),e&&(y=new e),v=b.next(),n=0;!v.done;)E=k?h.call(k,x,v.value,n):v.value,e?(d.value=E,p(y,n,d)):y[n]=E,v=b.next(),++n;m=n}else if(l(t)){for(m=t.length,e&&(y=new e),n=0,g=0;n<m;++n)E=t[n],n+1<m&&(w=E.charCodeAt(0))>=55296&&w<=56319&&(E+=t[++n]),E=k?h.call(k,x,E,g):E,e?(d.value=E,p(y,g,d)):y[g]=E,++g;m=g}if(void 0===m)for(m=s(t.length),e&&(y=new e(m)),n=0;n<m;++n)E=k?h.call(k,x,t[n],n):t[n],e?(d.value=E,p(y,n,d)):y[n]=E;return e&&(d.value=null,y.length=m),y}},5083:(t,e,n)=>{"use strict";var r=n(4616),o=Array.isArray;t.exports=function(t){return o(t)?t:r(t)}},6380:(t,e,n)=>{"use strict";var r=n(7191),o=n(6191),i=n(6914),s=Error.captureStackTrace;t.exports=function(e){var n=new Error(e),a=arguments[1],c=arguments[2];return i(c)||o(a)&&(c=a,a=null),i(c)&&r(n,c),i(a)&&(n.code=a),s&&s(n,t.exports),n}},5459:(t,e,n)=>{"use strict";var r,o,i,s,a,c=n(3902),u=function(t,e){return e};try{Object.defineProperty(u,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(t){}1===u.length?(r={configurable:!0,writable:!1,enumerable:!1},o=Object.defineProperty,t.exports=function(t,e){return e=c(e),t.length===e?t:(r.value=e,o(t,"length",r))}):(s=n(1726),a=[],i=function(t){var e,n=0;if(a[t])return a[t];for(e=[];t--;)e.push("a"+(++n).toString(36));return new Function("fn","return function ("+e.join(", ")+") { return fn.apply(this, arguments); };")},t.exports=function(t,e){var n;if(e=c(e),t.length===e)return t;n=i(e)(t);try{s(n,t)}catch(t){}return n})},6766:t=>{"use strict";var e=Object.prototype.toString,n=e.call(function(){return arguments}());t.exports=function(t){return e.call(t)===n}},1216:t=>{"use strict";var e=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(t){return"function"==typeof t&&n(e.call(t))}},430:t=>{"use strict";t.exports=function(){}},5875:(t,e,n)=>{"use strict";t.exports=n(5448)()?Math.sign:n(4592)},5448:t=>{"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&1===t(10)&&-1===t(-20)}},4592:t=>{"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},9980:(t,e,n)=>{"use strict";t.exports=n(9496)()?Number.isNaN:n(4517)},9496:t=>{"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&!t({})&&t(NaN)&&!t(34)}},4517:t=>{"use strict";t.exports=function(t){return t!=t}},3478:(t,e,n)=>{"use strict";var r=n(5875),o=Math.abs,i=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*i(o(t)):t}},3902:(t,e,n)=>{"use strict";var r=n(3478),o=Math.max;t.exports=function(t){return o(0,r(t))}},4214:(t,e,n)=>{"use strict";var r=n(1290),o=n(2745),i=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,c=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,u){var l,f=arguments[2],h=arguments[3];return n=Object(o(n)),r(u),l=a(n),h&&l.sort("function"==typeof h?i.call(h,n):void 0),"function"!=typeof t&&(t=l[t]),s.call(t,l,(function(t,r){return c.call(n,t)?s.call(u,f,n[t],t,n,r):e}))}}},7191:(t,e,n)=>{"use strict";t.exports=n(6560)()?Object.assign:n(7346)},6560:t=>{"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},7346:(t,e,n)=>{"use strict";var r=n(5103),o=n(2745),i=Math.max;t.exports=function(t,e){var n,s,a,c=i(arguments.length,2);for(t=Object(o(t)),a=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},s=1;s<c;++s)r(e=arguments[s]).forEach(a);if(void 0!==n)throw n;return t}},7031:(t,e,n)=>{"use strict";t.exports=n(4214)("forEach")},6458:t=>{"use strict";t.exports=function(t){return"function"==typeof t}},6191:(t,e,n)=>{"use strict";var r=n(6914),o={function:!0,object:!0};t.exports=function(t){return r(t)&&o[typeof t]||!1}},6914:(t,e,n)=>{"use strict";var r=n(430)();t.exports=function(t){return t!==r&&null!==t}},5103:(t,e,n)=>{"use strict";t.exports=n(7446)()?Object.keys:n(6137)},7446:t=>{"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},6137:(t,e,n)=>{"use strict";var r=n(6914),o=Object.keys;t.exports=function(t){return o(r(t)?Object(t):t)}},1465:(t,e,n)=>{"use strict";var r=n(1290),o=n(7031),i=Function.prototype.call;t.exports=function(t,e){var n={},s=arguments[2];return r(e),o(t,(function(t,r,o,a){n[r]=i.call(e,s,t,r,o,a)})),n}},1726:(t,e,n)=>{"use strict";var r=n(2745),o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;t.exports=function(t,e){var n,c=Object(r(e));if(t=Object(r(t)),s(c).forEach((function(r){try{o(t,r,i(e,r))}catch(t){n=t}})),"function"==typeof a&&a(c).forEach((function(r){try{o(t,r,i(e,r))}catch(t){n=t}})),void 0!==n)throw n;return t}},5516:(t,e,n)=>{"use strict";var r=n(6914),o=Array.prototype.forEach,i=Object.create;t.exports=function(t){var e=i(null);return o.call(arguments,(function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)})),e}},9474:t=>{"use strict";var e=Array.prototype.forEach,n=Object.create;t.exports=function(t){var r=n(null);return e.call(arguments,(function(t){r[t]=!0})),r}},1290:t=>{"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},2745:(t,e,n)=>{"use strict";var r=n(6914);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},7197:(t,e,n)=>{"use strict";var r=n(2745),o=n(8553);t.exports=function(t){return o(r(t))}},8553:(t,e,n)=>{"use strict";var r=n(6458);t.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(t){throw new TypeError("Passed argument cannot be stringifed")}}},3947:(t,e,n)=>{"use strict";var r=n(6458);t.exports=function(t){try{return t&&r(t.toString)?t.toString():String(t)}catch(t){return"<Non-coercible to string value>"}}},9981:(t,e,n)=>{"use strict";t.exports=n(3591)()?String.prototype.contains:n(6042)},3591:t=>{"use strict";var e="razdwatrzy";t.exports=function(){return"function"==typeof e.contains&&!0===e.contains("dwa")&&!1===e.contains("foo")}},6042:t=>{"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},4349:t=>{"use strict";var e=Object.prototype.toString,n=e.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||e.call(t)===n)||!1}},8979:(t,e,n)=>{"use strict";var r=n(3947),o=/[\n\r\u2028\u2029]/g;t.exports=function(t){var e=r(t);return e.length>100&&(e=e.slice(0,99)+""),e.replace(o,(function(t){return JSON.stringify(t).slice(1,-1)}))}},8641:(t,e,n)=>{"use strict";t.exports=n(8821)()?n(7933).Symbol:n(5127)},8821:(t,e,n)=>{"use strict";var r=n(7933),o={object:!0,symbol:!0};t.exports=function(){var t,e=r.Symbol;if("function"!=typeof e)return!1;t=e("test symbol");try{String(t)}catch(t){return!1}return!!o[typeof e.iterator]&&!!o[typeof e.toPrimitive]&&!!o[typeof e.toStringTag]}},5386:t=>{"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&"Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag])}},7451:(t,e,n)=>{"use strict";var r=n(1804),o=Object.create,i=Object.defineProperty,s=Object.prototype,a=o(null);t.exports=function(t){for(var e,n,o=0;a[t+(o||"")];)++o;return a[t+=o||""]=!0,i(s,e="@@"+t,r.gs(null,(function(t){n||(n=!0,i(this,e,r(t)),n=!1)}))),e}},7628:(t,e,n)=>{"use strict";var r=n(1804),o=n(7933).Symbol;t.exports=function(t){return Object.defineProperties(t,{hasInstance:r("",o&&o.hasInstance||t("hasInstance")),isConcatSpreadable:r("",o&&o.isConcatSpreadable||t("isConcatSpreadable")),iterator:r("",o&&o.iterator||t("iterator")),match:r("",o&&o.match||t("match")),replace:r("",o&&o.replace||t("replace")),search:r("",o&&o.search||t("search")),species:r("",o&&o.species||t("species")),split:r("",o&&o.split||t("split")),toPrimitive:r("",o&&o.toPrimitive||t("toPrimitive")),toStringTag:r("",o&&o.toStringTag||t("toStringTag")),unscopables:r("",o&&o.unscopables||t("unscopables"))})}},277:(t,e,n)=>{"use strict";var r=n(1804),o=n(8541),i=Object.create(null);t.exports=function(t){return Object.defineProperties(t,{for:r((function(e){return i[e]?i[e]:i[e]=t(String(e))})),keyFor:r((function(t){var e;for(e in o(t),i)if(i[e]===t)return e}))})}},5127:(t,e,n)=>{"use strict";var r,o,i,s=n(1804),a=n(8541),c=n(7933).Symbol,u=n(7451),l=n(7628),f=n(277),h=Object.create,d=Object.defineProperties,p=Object.defineProperty;if("function"==typeof c)try{String(c()),i=!0}catch(t){}else c=null;o=function(t){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return r(t)},t.exports=r=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return i?c(e):(n=h(o.prototype),e=void 0===e?"":String(e),d(n,{__description__:s("",e),__name__:s("",u(e))}))},l(r),f(r),d(o.prototype,{constructor:s(r),toString:s("",(function(){return this.__name__}))}),d(r.prototype,{toString:s((function(){return"Symbol ("+a(this).__description__+")"})),valueOf:s((function(){return a(this)}))}),p(r.prototype,r.toPrimitive,s("",(function(){var t=a(this);return"symbol"==typeof t?t:t.toString()}))),p(r.prototype,r.toStringTag,s("c","Symbol")),p(o.prototype,r.toStringTag,s("c",r.prototype[r.toStringTag])),p(o.prototype,r.toPrimitive,s("c",r.prototype[r.toPrimitive]))},8541:(t,e,n)=>{"use strict";var r=n(5386);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},8370:(t,e,n)=>{"use strict";var r,o,i,s,a,c,u,l=n(1804),f=n(1290),h=Function.prototype.apply,d=Function.prototype.call,p=Object.create,g=Object.defineProperty,y=Object.defineProperties,m=Object.prototype.hasOwnProperty,w={configurable:!0,enumerable:!1,writable:!0};o=function(t,e){var n,o;return f(e),o=this,r.call(this,t,n=function(){i.call(o,t,n),h.call(e,this,arguments)}),n.__eeOnceListener__=e,this},a={on:r=function(t,e){var n;return f(e),m.call(this,"__ee__")?n=this.__ee__:(n=w.value=p(null),g(this,"__ee__",w),w.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:o,off:i=function(t,e){var n,r,o,i;if(f(e),!m.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(i=0;o=r[i];++i)o!==e&&o.__eeOnceListener__!==e||(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:s=function(t){var e,n,r,o,i;if(m.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)h.call(r,this,i)}else switch(arguments.length){case 1:d.call(o,this);break;case 2:d.call(o,this,arguments[1]);break;case 3:d.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];h.call(o,this,i)}}},c={on:l(r),once:l(o),off:l(i),emit:l(s)},u=y({},c),t.exports=e=function(t){return null==t?p(u):y(Object(t),c)},e.methods=a},7187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}g(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function u(t,e,n,r){var o,i,s,u;if(a(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]),void 0===s)s=i[e]=n,++t._eventsCount;else if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(t))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):p(o,o.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)r(c,this,e);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,e)}return!0},i.prototype.addListener=function(t,e){return u(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return u(this,t,e,!0)},i.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,o,i,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return h(this,t,!0)},i.prototype.rawListeners=function(t){return h(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},7145:t=>{var e=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}()},7933:(t,e,n)=>{"use strict";t.exports=n(6344)()?globalThis:n(7145)},6344:t=>{"use strict";t.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},7529:t=>{var e=-1,n=1,r=0;function o(t,g,y,m,w){if(t===g)return t?[[r,t]]:[];if(null!=y){var v=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,i=t.length,s=e.length;if(0===r.length&&(null===o||0===o.length)){var a=r.index,c=t.slice(0,a),u=t.slice(a),l=o?o.index:null,f=a+s-i;if((null===l||l===f)&&!(f<0||f>s)){var h=e.slice(0,f);if((g=e.slice(f))===u){var d=Math.min(a,f);if((m=c.slice(0,d))===(v=h.slice(0,d)))return b(m,c.slice(d),h.slice(d),u)}}if(null===l||l===a){var p=a,g=(h=e.slice(0,p),e.slice(p));if(h===c){var y=Math.min(i-p,s-p);if((w=u.slice(u.length-y))===(_=g.slice(g.length-y)))return b(c,u.slice(0,u.length-y),g.slice(0,g.length-y),w)}}}if(r.length>0&&o&&0===o.length){var m=t.slice(0,r.index),w=t.slice(r.index+r.length);if(!(s<(d=m.length)+(y=w.length))){var v=e.slice(0,d),_=e.slice(s-y);if(m===v&&w===_)return b(m,t.slice(d,i-y),e.slice(d,s-y),w)}}return null}(t,g,y);if(v)return v}var _=s(t,g),E=t.substring(0,_);_=c(t=t.substring(_),g=g.substring(_));var k=t.substring(t.length-_),x=function(t,a){var u;if(!t)return[[n,a]];if(!a)return[[e,t]];var l=t.length>a.length?t:a,f=t.length>a.length?a:t,h=l.indexOf(f);if(-1!==h)return u=[[n,l.substring(0,h)],[r,f],[n,l.substring(h+f.length)]],t.length>a.length&&(u[0][0]=u[2][0]=e),u;if(1===f.length)return[[e,t],[n,a]];var d=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){for(var r,o,i,a,u=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!==(l=e.indexOf(u,l+1));){var h=s(t.substring(n),e.substring(l)),d=c(t.substring(0,n),e.substring(0,l));f.length<d+h&&(f=e.substring(l-d,l)+e.substring(l,l+h),r=t.substring(0,n-d),o=t.substring(n+h),i=e.substring(0,l-d),a=e.substring(l+h))}return 2*f.length>=t.length?[r,o,i,a,f]:null}var i,a,u,l,f,h=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));return h||d?(i=d?h&&h[4].length>d[4].length?h:d:h,t.length>e.length?(a=i[0],u=i[1],l=i[2],f=i[3]):(l=i[0],f=i[1],a=i[2],u=i[3]),[a,u,l,f,i[4]]):null}(t,a);if(d){var p=d[0],g=d[1],y=d[2],m=d[3],w=d[4],b=o(p,y),v=o(g,m);return b.concat([[r,w]],v)}return function(t,r){for(var o=t.length,s=r.length,a=Math.ceil((o+s)/2),c=a,u=2*a,l=new Array(u),f=new Array(u),h=0;h<u;h++)l[h]=-1,f[h]=-1;l[c+1]=0,f[c+1]=0;for(var d=o-s,p=d%2!=0,g=0,y=0,m=0,w=0,b=0;b<a;b++){for(var v=-b+g;v<=b-y;v+=2){for(var _=c+v,E=(A=v===-b||v!==b&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-v;A<o&&E<s&&t.charAt(A)===r.charAt(E);)A++,E++;if(l[_]=A,A>o)y+=2;else if(E>s)g+=2;else if(p&&(C=c+d-v)>=0&&C<u&&-1!==f[C]&&A>=(x=o-f[C]))return i(t,r,A,E)}for(var k=-b+m;k<=b-w;k+=2){for(var x,C=c+k,S=(x=k===-b||k!==b&&f[C-1]<f[C+1]?f[C+1]:f[C-1]+1)-k;x<o&&S<s&&t.charAt(o-x-1)===r.charAt(s-S-1);)x++,S++;if(f[C]=x,x>o)w+=2;else if(S>s)m+=2;else if(!p){var A;if((_=c+d-k)>=0&&_<u&&-1!==l[_])if(E=c+(A=l[_])-_,A>=(x=o-x))return i(t,r,A,E)}}}return[[e,t],[n,r]]}(t,a)}(t=t.substring(0,t.length-_),g=g.substring(0,g.length-_));return E&&x.unshift([r,E]),k&&x.push([r,k]),p(x,w),m&&function(t){for(var o=!1,i=[],s=0,g=null,y=0,m=0,w=0,b=0,v=0;y<t.length;)t[y][0]==r?(i[s++]=y,m=b,w=v,b=0,v=0,g=t[y][1]):(t[y][0]==n?b+=t[y][1].length:v+=t[y][1].length,g&&g.length<=Math.max(m,w)&&g.length<=Math.max(b,v)&&(t.splice(i[s-1],0,[e,g]),t[i[s-1]+1][0]=n,s--,y=--s>0?i[s-1]:-1,m=0,w=0,b=0,v=0,g=null,o=!0)),y++;for(o&&p(t),function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),r=e.charAt(0),o=n.match(u),i=r.match(u),s=o&&n.match(l),a=i&&r.match(l),c=s&&n.match(f),p=a&&r.match(f),g=c&&t.match(h),y=p&&e.match(d);return g||y?5:c||p?4:o&&!s&&a?3:s||a?2:o||i?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==r&&t[n+1][0]==r){var o=t[n-1][1],i=t[n][1],s=t[n+1][1],a=c(o,i);if(a){var p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}for(var g=o,y=i,m=s,w=e(o,i)+e(i,s);i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var b=e(o,i)+e(i,s);b>=w&&(w=b,g=o,y=i,m=s)}t[n-1][1]!=g&&(g?t[n-1][1]=g:(t.splice(n-1,1),n--),t[n][1]=y,m?t[n+1][1]=m:(t.splice(n+1,1),n--))}n++}}(t),y=1;y<t.length;){if(t[y-1][0]==e&&t[y][0]==n){var _=t[y-1][1],E=t[y][1],k=a(_,E),x=a(E,_);k>=x?(k>=_.length/2||k>=E.length/2)&&(t.splice(y,0,[r,E.substring(0,k)]),t[y-1][1]=_.substring(0,_.length-k),t[y+1][1]=E.substring(k),y++):(x>=_.length/2||x>=E.length/2)&&(t.splice(y,0,[r,_.substring(0,x)]),t[y-1][0]=n,t[y-1][1]=E.substring(0,E.length-x),t[y+1][0]=e,t[y+1][1]=_.substring(x),y++),y++}y++}}(x),x}function i(t,e,n,r){var i=t.substring(0,n),s=e.substring(0,r),a=t.substring(n),c=e.substring(r),u=o(i,s),l=o(a,c);return u.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return g(t.charCodeAt(o-1))&&o--,o}function a(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var o=Math.min(n,r);if(t==e)return o;for(var i=0,s=1;;){var a=t.substring(o-s),c=e.indexOf(a);if(-1==c)return i;s+=c,0!=c&&t.substring(o-s)!=e.substring(0,s)||(i=s,s++)}}function c(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return y(t.charCodeAt(t.length-o))&&o--,o}var u=/[^a-zA-Z0-9]/,l=/\s/,f=/[\r\n]/,h=/\n\r?\n$/,d=/^\r?\n\r?\n/;function p(t,o){t.push([r,""]);for(var i,a=0,u=0,l=0,f="",h="";a<t.length;)if(a<t.length-1&&!t[a][1])t.splice(a,1);else switch(t[a][0]){case n:l++,h+=t[a][1],a++;break;case e:u++,f+=t[a][1],a++;break;case r:var d=a-l-u-1;if(o){if(d>=0&&w(t[d][1])){var g=t[d][1].slice(-1);if(t[d][1]=t[d][1].slice(0,-1),f=g+f,h=g+h,!t[d][1]){t.splice(d,1),a--;var y=d-1;t[y]&&t[y][0]===n&&(l++,h=t[y][1]+h,y--),t[y]&&t[y][0]===e&&(u++,f=t[y][1]+f,y--),d=y}}m(t[a][1])&&(g=t[a][1].charAt(0),t[a][1]=t[a][1].slice(1),f+=g,h+=g)}if(a<t.length-1&&!t[a][1]){t.splice(a,1);break}if(f.length>0||h.length>0){f.length>0&&h.length>0&&(0!==(i=s(h,f))&&(d>=0?t[d][1]+=h.substring(0,i):(t.splice(0,0,[r,h.substring(0,i)]),a++),h=h.substring(i),f=f.substring(i)),0!==(i=c(h,f))&&(t[a][1]=h.substring(h.length-i)+t[a][1],h=h.substring(0,h.length-i),f=f.substring(0,f.length-i)));var b=l+u;0===f.length&&0===h.length?(t.splice(a-b,b),a-=b):0===f.length?(t.splice(a-b,b,[n,h]),a=a-b+1):0===h.length?(t.splice(a-b,b,[e,f]),a=a-b+1):(t.splice(a-b,b,[e,f],[n,h]),a=a-b+2)}0!==a&&t[a-1][0]===r?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,l=0,u=0,f="",h=""}""===t[t.length-1][1]&&t.pop();var v=!1;for(a=1;a<t.length-1;)t[a-1][0]===r&&t[a+1][0]===r&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)===t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),v=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),v=!0)),a++;v&&p(t,o)}function g(t){return t>=55296&&t<=56319}function y(t){return t>=56320&&t<=57343}function m(t){return y(t.charCodeAt(0))}function w(t){return g(t.charCodeAt(t.length-1))}function b(t,o,i,s){return w(t)||m(s)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[r,t],[e,o],[n,i],[r,s]])}function v(t,e,n,r){return o(t,e,n,r,!0)}v.INSERT=n,v.DELETE=e,v.EQUAL=r,t.exports=v},9464:(t,e,n)=>{"use strict";const{pullAt:r,cloneDeep:o}=n(6486),i=n(8006)("hyperdiff");function s(t,e){return t.indexOf(e)}function a(t,e,n){return t.findIndex((function(t){return function(t,e,n){return n.every((n=>e[n]===t[n]))}(t,e,n)}))}t.exports=function(t,e,n){const c=n?[].concat(n):[],{first:u,second:l}=function(t,e){return{first:t,second:o(e)}}(t,e),f=function(t,e){return e?a:s}(0,n);i(`preconditions first=${JSON.stringify(u)} second=${JSON.stringify(l)} findIndex=${f.name}`);const h=u.reduce((function(t,e,n){const o=f(l,e,c),s=(t=>-1!==t)(o)?"common":"removed";return t[s].push(e),r(l,o),i(`index=${n} value=${JSON.stringify(e)} collection=${s}`),t}),{common:[],removed:[]});return h.added=l,i(`added=${JSON.stringify(h.added)} removed=${JSON.stringify(h.removed)} common=${JSON.stringify(h.common)}`),h}},645:(t,e)=>{e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?o-1:0,h=n?-1:1,d=t[e+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=a;l>0;i=256*i+t[e+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=u}return(d?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*g}},1476:t=>{"use strict";const e="[a-fA-F\\d:]",n=t=>t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=${e})|(?<=${e})(?=\\s|$))`:"",r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",i=`\n(?:\n(?:${o}:){7}(?:${o}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${o}:){6}(?:${r}|:${o}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${o}:){5}(?::${r}|(?::${o}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${o}:){4}(?:(?::${o}){0,1}:${r}|(?::${o}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${o}:){3}(?:(?::${o}){0,2}:${r}|(?::${o}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${o}:){2}(?:(?::${o}){0,3}:${r}|(?::${o}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${o}:){1}(?:(?::${o}){0,4}:${r}|(?::${o}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${o}){0,5}:${r}|(?::${o}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp(`(?:^${r}$)|(?:^${i}$)`),a=new RegExp(`^${r}$`),c=new RegExp(`^${i}$`),u=t=>t&&t.exact?s:new RegExp(`(?:${n(t)}${r}${n(t)})|(?:${n(t)}${i}${n(t)})`,"g");u.v4=t=>t&&t.exact?a:new RegExp(`${n(t)}${r}${n(t)}`,"g"),u.v6=t=>t&&t.exact?c:new RegExp(`${n(t)}${i}${n(t)}`,"g"),t.exports=u},6316:(t,e,n)=>{"use strict";const r=n(7187),o=n(8218),i=n(1920),s=n(7102),a=n(9347),c=n(2221),u=n(6861);t.exports=class extends r{constructor(t,e,n){super(),this._id=t,this._ipfs=e,this._room=n,this._connection=null,this._connecting=!1}push(t){this._connection?this._connection.push(a(t)):(this.once("connect",(()=>this.push(t))),this._connecting||this._getConnection())}stop(){this._connection&&this._connection.end()}_getConnection(){this._connecting=!0,this._getPeerAddresses(this._id,((t,e)=>{t?this.emit("error",t):e.length?u(this._ipfs).dialProtocol(e[0],s,((t,e)=>{if(t)return void this.emit("disconnect");this._connecting=!1;const n=i();this._connection=n,o(n,e,o.onEnd((()=>{delete this._connection,this.emit("disconnect")}))),this.emit("connect",n)})):this.emit("disconnect")}))}_getPeerAddresses(t,e){this._ipfs.swarm.peers(((n,r)=>{n?e(n):e(null,r.filter((e=>c(e.peer)===t)).map((t=>t.peer)))}))}}},137:(t,e,n)=>{"use strict";const r=n(8218),o=new(n(7187));t.exports={handler:function(t,e){e.getPeerInfo(((t,n)=>{if(t)return void console.log(t);const i=n.id.toB58String();r(e,r.map((t=>{let e;try{e=JSON.parse(t.toString())}catch(t){return void o.emit("warning",t.message)}if(i!==e.from)return void o.emit("warning","no peerid match "+e.from);const n=e.topicIDs;if(Array.isArray(n))return e.data=Buffer.from(e.data,"hex"),e.seqno=Buffer.from(e.seqno,"hex"),n.forEach((t=>{o.emit(t,e)})),e;o.emit("warning","no topic IDs")})),r.onEnd((()=>{})))}))},emitter:o}},9347:t=>{"use strict";t.exports=t=>{let e=t;return Buffer.isBuffer(e)||(e=Buffer.from(e)),e}},7142:(t,e,n)=>{"use strict";const r=n(9464),o=n(7187),i=n(5475),s=n(3465),a=n(7102),c=n(6316),u=n(9347),l=n(137),f=n(6861),h={pollInterval:1e3};t.exports=(t,e,n)=>new d(t,e,n);class d extends o{constructor(t,e,n){if(super(),this._ipfs=t,this._topic=e,this._options=Object.assign({},s(h),s(n)),this._peers=[],this._connections={},this._handleDirectMessage=this._handleDirectMessage.bind(this),!this._ipfs.pubsub)throw new Error("This IPFS node does not have pubsub.");this._ipfs.isOnline()?this._start():this._ipfs.on("ready",this._start.bind(this)),this._ipfs.on("stop",this.leave.bind(this))}getPeers(){return this._peers.slice(0)}hasPeer(t){return this._peers.indexOf(t)>=0}leave(){return new Promise(((t,e)=>{i.clearInterval(this._interval),Object.keys(this._connections).forEach((t=>{this._connections[t].stop()})),l.emitter.removeListener(this._topic,this._handleDirectMessage),this.once("stopped",(()=>t())),this.emit("stopping")}))}broadcast(t){let e=u(t);this._ipfs.pubsub.publish(this._topic,e,(t=>{t&&this.emit("error",t)}))}sendTo(t,e){let n=this._connections[t];n||(n=new c(t,this._ipfs,this),n.on("error",(t=>this.emit("error",t))),this._connections[t]=n,n.once("disconnect",(()=>{delete this._connections[t],this._peers=this._peers.filter((e=>e!==t)),this.emit("peer left",t)})));const r=Buffer.from([0]),o={to:t,from:this._ipfs._peerInfo.id.toB58String(),data:Buffer.from(e).toString("hex"),seqno:r.toString("hex"),topicIDs:[this._topic],topicCIDs:[this._topic]};n.push(Buffer.from(JSON.stringify(o)))}_start(){this._interval=i.setInterval(this._pollPeers.bind(this),this._options.pollInterval);const t=this._onMessage.bind(this);this._ipfs.pubsub.subscribe(this._topic,t,{},(t=>{t?this.emit("error",t):this.emit("subscribed",this._topic)})),this.once("stopping",(()=>{this._ipfs.pubsub.unsubscribe(this._topic,t,(t=>{t?this.emit("error",t):this.emit("stopped")}))})),f(this._ipfs).handle(a,l.handler),l.emitter.on(this._topic,this._handleDirectMessage)}_pollPeers(){this._ipfs.pubsub.peers(this._topic,((t,e)=>{if(t)return void this.emit("error",t);const n=e.sort();this._emitChanges(n)&&(this._peers=n)}))}_emitChanges(t){const e=r(this._peers,t);return e.added.forEach((t=>this.emit("peer joined",t))),e.removed.forEach((t=>this.emit("peer left",t))),e.added.length>0||e.removed.length>0}_onMessage(t){this.emit("message",t)}_handleDirectMessage(t){if(t.to===this._ipfs._peerInfo.id.toB58String()){const e=Object.assign({},t);delete e.to,this.emit("message",e)}}}},6861:t=>{"use strict";t.exports=t=>t._libp2pNode||t.libp2p},2221:t=>{"use strict";t.exports=t=>(t.id&&"function"==typeof t.id.toB58String&&(t=t.id),t.toB58String())},7102:t=>{"use strict";t.exports="ipfs-pubsub-room/v2"},106:(t,e,n)=>{"use strict";const r=n(9134),o="object"==typeof window&&"object"==typeof document&&9===document.nodeType,i=r(),s=o&&!i,a=i&&!o,c=i&&o,u="undefined"!=typeof process&&void 0!==process.release&&"node"===process.release.name&&!i,l="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,f="undefined"!=typeof process&&void 0!==process.env&&!1,h="undefined"!=typeof navigator&&"ReactNative"===navigator.product;t.exports={isTest:f,isElectron:i,isElectronMain:a,isElectronRenderer:c,isNode:u,isBrowser:s,isWebWorker:l,isEnvWithDom:o,isReactNative:h}},8688:(t,e,n)=>{"use strict";t.exports=n(700)},6953:(t,e,n)=>{"use strict";const r=n(7137);async function*o(t,e){const n=new r,o=await n.get(t,e);yield*o.iterator()}t.exports=(t,e)=>({path:decodeURIComponent(new URL(t).pathname.split("/").pop()||""),content:o(t,e)})},7137:(t,e,n)=>{"use strict";const{fetch:r,Request:o,Headers:i}=n(730),{TimeoutError:s,HTTPError:a}=n(4171),c=n(942).bind({ignoreUndefined:!0}),{URL:u,URLSearchParams:l}=n(7745),f=n(2044),h=n(6154),{isBrowser:d,isWebWorker:p}=n(106),g=n(1303),y={throwHttpErrors:!0,credentials:"same-origin"};class m{constructor(t={}){this.opts=c(y,t)}async fetch(t,e={}){const n=c(this.opts,e),y=new i(n.headers);if("string"!=typeof t&&!(t instanceof u||t instanceof o))throw new TypeError("`resource` must be a string, URL, or Request");const m=new u(t.toString(),n.base),{searchParams:v,transformSearchParams:_,json:E}=n;v&&(m.search="function"==typeof _?_(new l(n.searchParams)):new l(n.searchParams)),E&&(n.body=JSON.stringify(n.json),y.set("content-type","application/json"));const k=new AbortController,x=f([k.signal,n.signal]);null!=globalThis.ReadableStream&&n.body instanceof globalThis.ReadableStream&&(d||p)&&(n.body=new Blob(await g(h(n.body))));const C=await((t,e,n)=>{if(void 0===e)return t;const r=Date.now(),o=()=>Date.now()-r>=e;return new Promise(((r,i)=>{const a=setTimeout((()=>{o()&&(i(new s),n.abort())}),e),c=t=>e=>{clearTimeout(a),o()?i(new s):t(e)};t.then(c(r),c(i))}))})(r(m.toString(),{...n,signal:x,timeout:void 0,headers:y,duplex:"half"}),n.timeout,k);if(!C.ok&&n.throwHttpErrors)throw n.handleError&&await n.handleError(C),new a(C);return C.iterator=async function*(){yield*b(C.body)},C.ndjson=async function*(){for await(const t of w(C.iterator()))e.transform?yield e.transform(t):yield t},C}post(t,e={}){return this.fetch(t,{...e,method:"POST"})}get(t,e={}){return this.fetch(t,{...e,method:"GET"})}put(t,e={}){return this.fetch(t,{...e,method:"PUT"})}delete(t,e={}){return this.fetch(t,{...e,method:"DELETE"})}options(t,e={}){return this.fetch(t,{...e,method:"OPTIONS"})}}const w=async function*(t){const e=new TextDecoder;let n="";for await(const r of t){n+=e.decode(r,{stream:!0});const t=n.split(/\r?\n/);for(let e=0;e<t.length-1;e++){const n=t[e].trim();n.length>0&&(yield JSON.parse(n))}n=t[t.length-1]}n+=e.decode(),n=n.trim(),0!==n.length&&(yield JSON.parse(n))},b=t=>{if(v(t))return t;if(E(t)){const e=t[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:e.next.bind(e),return:n=>(t.destroy(),"function"==typeof e.return?e.return():Promise.resolve({done:!0,value:n}))})}}if(_(t)){const e=t.getReader();return async function*(){try{for(;;){const{done:t,value:n}=await e.read();if(t)return;n&&(yield n)}}finally{e.releaseLock()}}()}throw new TypeError("Body can't be converted to AsyncIterable")},v=t=>"object"==typeof t&&null!==t&&"function"==typeof t[Symbol.asyncIterator],_=t=>t&&"function"==typeof t.getReader,E=t=>Object.prototype.hasOwnProperty.call(t,"readable")&&Object.prototype.hasOwnProperty.call(t,"writable");m.HTTPError=a,m.TimeoutError=s,m.streamToAsyncIterator=b,m.post=(t,e)=>new m(e).post(t,e),m.get=(t,e)=>new m(e).get(t,e),m.put=(t,e)=>new m(e).put(t,e),m.delete=(t,e)=>new m(e).delete(t,e),m.options=(t,e)=>new m(e).options(t,e),t.exports=m},4171:(t,e)=>{"use strict";class n extends Error{constructor(t="Request timed out"){super(t),this.name="TimeoutError"}}e.TimeoutError=n;class r extends Error{constructor(t="The operation was aborted."){super(t),this.name="AbortError"}}e.AbortError=r;class o extends Error{constructor(t){super(t.statusText),this.name="HTTPError",this.response=t}}e.HTTPError=o},730:(t,e,n)=>{"use strict";const{TimeoutError:r,AbortError:o}=n(4171),{Response:i,Request:s,Headers:a,default:c}=n(8688),u=c,l=t=>{const e=new a;for(const n of t.trim().split(/[\r\n]+/)){const t=n.indexOf(": ");t>0&&e.set(n.slice(0,t),n.slice(t+1))}return e};class f extends i{constructor(t,e,n){super(e,n),Object.defineProperty(this,"url",{value:t})}}t.exports={fetch:(t,e={})=>null!=e.onUploadProgress?((t,e={})=>{const n=new XMLHttpRequest;n.open(e.method||"GET",t.toString(),!0);const{timeout:s,headers:c}=e;if(s&&s>0&&s<1/0&&(n.timeout=s),null!=e.overrideMimeType&&n.overrideMimeType(e.overrideMimeType),c)for(const[t,e]of new a(c))n.setRequestHeader(t,e);return e.signal&&(e.signal.onabort=()=>n.abort()),e.onUploadProgress&&(n.upload.onprogress=e.onUploadProgress),n.responseType="arraybuffer",new Promise(((t,s)=>{const a=e=>{switch(e.type){case"error":t(i.error());break;case"load":t(new f(n.responseURL,n.response,{status:n.status,statusText:n.statusText,headers:l(n.getAllResponseHeaders())}));break;case"timeout":s(new r);break;case"abort":s(new o)}};n.onerror=a,n.onload=a,n.ontimeout=a,n.onabort=a,n.send(e.body)}))})(t,e):u(t,e),Request:s,Headers:a}},9134:t=>{t.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},5003:(t,e,n)=>{"use strict";const r=n(1476),o=t=>r({exact:!0}).test(t);o.v4=t=>r.v4({exact:!0}).test(t),o.v6=t=>r.v6({exact:!0}).test(t),o.version=t=>o(t)?o.v4(t)?4:6:void 0,t.exports=o},3310:t=>{"use strict";t.exports=t=>{if("[object Object]"!==Object.prototype.toString.call(t))return!1;const e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}},6141:t=>{function e(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}t.exports=e,t.exports.default=e},7745:(t,e,n)=>{"use strict";const{URLWithLegacySupport:r,format:o,URLSearchParams:i,defaultBase:s}=n(2049),a=n(5939);t.exports={URL:r,URLSearchParams:i,format:o,relative:a,defaultBase:s}},5939:(t,e,n)=>{"use strict";const{URLWithLegacySupport:r,format:o}=n(2049);t.exports=(t,e={},n={},i)=>{let s,a=e.protocol?e.protocol.replace(":",""):"http";a=(n[a]||i||a)+":";try{s=new r(t)}catch(t){s={}}const c=Object.assign({},e,{protocol:a||s.protocol,host:e.host||s.host});return new r(t,o(c)).toString()}},2049:t=>{"use strict";const e="undefined"!=typeof navigator&&"ReactNative"===navigator.product,n=self.URL,r=e?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:"";t.exports={URLWithLegacySupport:class{constructor(t="",e=r){this.super=new n(t,e),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set username(t){this.super.username=t}static createObjectURL(t){return n.createObjectURL(t)}static revokeObjectURL(t){n.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:r,format:function(t){if("string"==typeof t)return new n(t).toString();if(!(t instanceof n)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",n=t.auth?t.auth+"@":"",r=t.port?":"+t.port:"",o=t.protocol?t.protocol+"//":"",i=t.host||"",s=t.hostname||"",a=t.search||(t.query?"?"+t.query:""),c=t.hash||"",u=t.pathname||"";return`${o}${e||n}${i||s+r}${t.path||u+a}${c}`}}}},1303:t=>{"use strict";t.exports=async t=>{const e=[];for await(const n of t)e.push(n);return e}},2262:t=>{"use strict";t.exports=async t=>{for await(const e of t)return e}},3093:t=>{"use strict";t.exports=async t=>{let e;for await(const n of t)e=n;return e}},2121:t=>{"use strict";t.exports=async function*(t,e){for await(const n of t)yield e(n)}},8132:t=>{"use strict";t.exports=function(t){const[e,n]=t[Symbol.asyncIterator]?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>e.next(),push:t=>{r.push(t)},next:()=>r.length?{done:!1,value:r.shift()}:e.next(),[n](){return this}}}},3465:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",d="[object Promise]",p="[object RegExp]",g="[object Set]",y="[object String]",m="[object Symbol]",w="[object WeakMap]",b="[object ArrayBuffer]",v="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",k="[object Int8Array]",x="[object Int16Array]",C="[object Int32Array]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",I="[object Uint16Array]",D="[object Uint32Array]",T=/\w*$/,O=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,P={};P[i]=P["[object Array]"]=P[b]=P[v]=P[s]=P[a]=P[_]=P[E]=P[k]=P[x]=P[C]=P[l]=P[f]=P[h]=P[p]=P[g]=P[y]=P[m]=P[S]=P[A]=P[I]=P[D]=!0,P["[object Error]"]=P[c]=P[w]=!1;var B="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,N="object"==typeof self&&self&&self.Object===Object&&self,U=B||N||Function("return this")(),L=e&&!e.nodeType&&e,R=L&&t&&!t.nodeType&&t,M=R&&R.exports===L;function $(t,e){return t.set(e[0],e[1]),t}function F(t,e){return t.add(e),t}function z(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function V(t,e){return function(n){return t(e(n))}}function q(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var J,G=Array.prototype,Y=Function.prototype,K=Object.prototype,X=U["__core-js_shared__"],Z=(J=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",Q=Y.toString,tt=K.hasOwnProperty,et=K.toString,nt=RegExp("^"+Q.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=M?U.Buffer:void 0,ot=U.Symbol,it=U.Uint8Array,st=V(Object.getPrototypeOf,Object),at=Object.create,ct=K.propertyIsEnumerable,ut=G.splice,lt=Object.getOwnPropertySymbols,ft=rt?rt.isBuffer:void 0,ht=V(Object.keys,Object),dt=Ut(U,"DataView"),pt=Ut(U,"Map"),gt=Ut(U,"Promise"),yt=Ut(U,"Set"),mt=Ut(U,"WeakMap"),wt=Ut(Object,"create"),bt=Ft(dt),vt=Ft(pt),_t=Ft(gt),Et=Ft(yt),kt=Ft(mt),xt=ot?ot.prototype:void 0,Ct=xt?xt.valueOf:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dt(t){this.__data__=new At(t)}function Tt(t,e,n){var r=t[e];tt.call(t,e)&&zt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Ot(t,e){for(var n=t.length;n--;)if(zt(t[n][0],e))return n;return-1}function jt(t,e,n,r,o,d,w){var O;if(r&&(O=d?r(t,o,d,w):r(t)),void 0!==O)return O;if(!Jt(t))return t;var j=Wt(t);if(j){if(O=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&tt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,O)}else{var B=Rt(t),N=B==c||B==u;if(Vt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(B==h||B==i||N&&!d){if(W(t))return d?t:{};if(O=function(t){return"function"!=typeof t.constructor||$t(t)?{}:Jt(e=st(t))?at(e):{};var e}(N?{}:t),!e)return function(t,e){return Bt(t,Lt(t),e)}(t,function(t,e){return t&&Bt(e,Gt(e),t)}(O,t))}else{if(!P[B])return d?t:{};O=function(t,e,n,r){var o,i=t.constructor;switch(e){case b:return Pt(t);case s:case a:return new i(+t);case v:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case _:case E:case k:case x:case C:case S:case A:case I:case D:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case l:return function(t,e,n){return z(e?n(H(t),!0):H(t),$,new t.constructor)}(t,r,n);case f:case y:return new i(t);case p:return function(t){var e=new t.constructor(t.source,T.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,n){return z(e?n(q(t),!0):q(t),F,new t.constructor)}(t,r,n);case m:return o=t,Ct?Object(Ct.call(o)):{}}}(t,B,jt,e)}}w||(w=new Dt);var U=w.get(t);if(U)return U;if(w.set(t,O),!j)var L=n?function(t){return function(t,e,n){var r=e(t);return Wt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Gt,Lt)}(t):Gt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n););}(L||t,(function(o,i){L&&(o=t[i=o]),Tt(O,i,jt(o,e,n,r,i,t,w))})),O}function Pt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Bt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var s=e[o],a=r?r(n[s],t[s],s,n,t):void 0;Tt(n,s,void 0===a?t[s]:a)}return n}function Nt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Ut(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Jt(t)||(e=t,Z&&Z in e))&&(qt(t)||W(t)?nt:O).test(Ft(t));var e}(n)?n:void 0}St.prototype.clear=function(){this.__data__=wt?wt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(wt){var n=e[t];return n===r?void 0:n}return tt.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return wt?void 0!==e[t]:tt.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=wt&&void 0===e?r:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,n=Ot(e,t);return!(n<0||(n==e.length-1?e.pop():ut.call(e,n,1),0))},At.prototype.get=function(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]},At.prototype.has=function(t){return Ot(this.__data__,t)>-1},At.prototype.set=function(t,e){var n=this.__data__,r=Ot(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},It.prototype.clear=function(){this.__data__={hash:new St,map:new(pt||At),string:new St}},It.prototype.delete=function(t){return Nt(this,t).delete(t)},It.prototype.get=function(t){return Nt(this,t).get(t)},It.prototype.has=function(t){return Nt(this,t).has(t)},It.prototype.set=function(t,e){return Nt(this,t).set(t,e),this},Dt.prototype.clear=function(){this.__data__=new At},Dt.prototype.delete=function(t){return this.__data__.delete(t)},Dt.prototype.get=function(t){return this.__data__.get(t)},Dt.prototype.has=function(t){return this.__data__.has(t)},Dt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof At){var r=n.__data__;if(!pt||r.length<199)return r.push([t,e]),this;n=this.__data__=new It(r)}return n.set(t,e),this};var Lt=lt?V(lt,Object):function(){return[]},Rt=function(t){return et.call(t)};function Mt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||j.test(t))&&t>-1&&t%1==0&&t<e}function $t(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function Ft(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(dt&&Rt(new dt(new ArrayBuffer(1)))!=v||pt&&Rt(new pt)!=l||gt&&Rt(gt.resolve())!=d||yt&&Rt(new yt)!=g||mt&&Rt(new mt)!=w)&&(Rt=function(t){var e=et.call(t),n=e==h?t.constructor:void 0,r=n?Ft(n):void 0;if(r)switch(r){case bt:return v;case vt:return l;case _t:return d;case Et:return g;case kt:return w}return e});var Wt=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!qt(t)}var Vt=ft||function(){return!1};function qt(t){var e=Jt(t)?et.call(t):"";return e==c||e==u}function Jt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Gt(t){return Ht(t)?function(t,e){var n=Wt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&tt.call(t,"callee")&&(!ct.call(t,"callee")||et.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var s in t)!e&&!tt.call(t,s)||o&&("length"==s||Mt(s,r))||n.push(s);return n}(t):function(t){if(!$t(t))return ht(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return jt(t,!0,!0)}},1848:t=>{t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},2118:(t,e,n)=>{var r=n(1848),o=n(2722),i=n(2351);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},2722:t=>{t.exports=function(t){return t!=t}},2351:t=>{t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},1469:t=>{var e=Array.isArray;t.exports=e},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},6486:function(t,e,n){var r;t=n.nmd(t),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,f=9007199254740991,h=NaN,d=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",y="[object Array]",m="[object Boolean]",w="[object Date]",b="[object Error]",v="[object Function]",_="[object GeneratorFunction]",E="[object Map]",k="[object Number]",x="[object Object]",C="[object Promise]",S="[object RegExp]",A="[object Set]",I="[object String]",D="[object Symbol]",T="[object WeakMap]",O="[object ArrayBuffer]",j="[object DataView]",P="[object Float32Array]",B="[object Float64Array]",N="[object Int8Array]",U="[object Int16Array]",L="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",$="[object Uint16Array]",F="[object Uint32Array]",z=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,J=RegExp(V.source),G=RegExp(q.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,ot=/\s/,it=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,vt=/['\n\r\u2028\u2029\\]/g,_t="\\ud800-\\udfff",Et="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",xt="a-z\\xdf-\\xf6\\xf8-\\xff",Ct="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\ufe0e\\ufe0f",At="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",It="["+_t+"]",Dt="["+At+"]",Tt="["+Et+"]",Ot="\\d+",jt="["+kt+"]",Pt="["+xt+"]",Bt="[^"+_t+At+Ot+kt+xt+Ct+"]",Nt="\\ud83c[\\udffb-\\udfff]",Ut="[^"+_t+"]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",Rt="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="["+Ct+"]",$t="\\u200d",Ft="(?:"+Pt+"|"+Bt+")",zt="(?:"+Mt+"|"+Bt+")",Wt="(?:['](?:d|ll|m|re|s|t|ve))?",Ht="(?:['](?:D|LL|M|RE|S|T|VE))?",Vt="(?:"+Tt+"|"+Nt+")?",qt="["+St+"]?",Jt=qt+Vt+"(?:"+$t+"(?:"+[Ut,Lt,Rt].join("|")+")"+qt+Vt+")*",Gt="(?:"+[jt,Lt,Rt].join("|")+")"+Jt,Yt="(?:"+[Ut+Tt+"?",Tt,Lt,Rt,It].join("|")+")",Kt=RegExp("[']","g"),Xt=RegExp(Tt,"g"),Zt=RegExp(Nt+"(?="+Nt+")|"+Yt+Jt,"g"),Qt=RegExp([Mt+"?"+Pt+"+"+Wt+"(?="+[Dt,Mt,"$"].join("|")+")",zt+"+"+Ht+"(?="+[Dt,Mt+Ft,"$"].join("|")+")",Mt+"?"+Ft+"+"+Wt,Mt+"+"+Ht,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ot,Gt].join("|"),"g"),te=RegExp("["+$t+_t+Et+St+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,oe={};oe[P]=oe[B]=oe[N]=oe[U]=oe[L]=oe[R]=oe[M]=oe[$]=oe[F]=!0,oe[g]=oe[y]=oe[O]=oe[m]=oe[j]=oe[w]=oe[b]=oe[v]=oe[E]=oe[k]=oe[x]=oe[S]=oe[A]=oe[I]=oe[T]=!1;var ie={};ie[g]=ie[y]=ie[O]=ie[j]=ie[m]=ie[w]=ie[P]=ie[B]=ie[N]=ie[U]=ie[L]=ie[E]=ie[k]=ie[x]=ie[S]=ie[A]=ie[I]=ie[D]=ie[R]=ie[M]=ie[$]=ie[F]=!0,ie[b]=ie[v]=ie[T]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ce=parseInt,ue="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,le="object"==typeof self&&self&&self.Object===Object&&self,fe=ue||le||Function("return this")(),he=e&&!e.nodeType&&e,de=he&&t&&!t.nodeType&&t,pe=de&&de.exports===he,ge=pe&&ue.process,ye=function(){try{return de&&de.require&&de.require("util").types||ge&&ge.binding&&ge.binding("util")}catch(t){}}(),me=ye&&ye.isArrayBuffer,we=ye&&ye.isDate,be=ye&&ye.isMap,ve=ye&&ye.isRegExp,_e=ye&&ye.isSet,Ee=ye&&ye.isTypedArray;function ke(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xe(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var s=t[o];e(r,s,n(s),t)}return r}function Ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ie(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function De(t,e){return!(null==t||!t.length)&&Me(t,e,0)>-1}function Te(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Oe(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function je(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Pe(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Be(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function Ne(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ue=We("length");function Le(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Re(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function Me(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Re(t,Fe,n)}function $e(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function Fe(t){return t!=t}function ze(t,e){var n=null==t?0:t.length;return n?qe(t,e)/n:h}function We(t){return function(e){return null==e?o:e[t]}}function He(t){return function(e){return null==t?o:t[e]}}function Ve(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function qe(t,e){for(var n,r=-1,i=t.length;++r<i;){var s=e(t[r]);s!==o&&(n=n===o?s:n+s)}return n}function Je(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ge(t){return t?t.slice(0,hn(t)+1).replace(rt,""):t}function Ye(t){return function(e){return t(e)}}function Ke(t,e){return Oe(e,(function(e){return t[e]}))}function Xe(t,e){return t.has(e)}function Ze(t,e){for(var n=-1,r=t.length;++n<r&&Me(e,t[n],0)>-1;);return n}function Qe(t,e){for(var n=t.length;n--&&Me(e,t[n],0)>-1;);return n}var tn=He({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),en=He({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(t){return"\\"+se[t]}function rn(t){return te.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function sn(t,e){return function(n){return t(e(n))}}function an(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,i[o++]=n)}return i}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ln(t){return rn(t)?function(t){for(var e=Zt.lastIndex=0;Zt.test(t);)++e;return e}(t):Ue(t)}function fn(t){return rn(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.split("")}(t)}function hn(t){for(var e=t.length;e--&&ot.test(t.charAt(e)););return e}var dn=He({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function t(e){var n,r=(e=null==e?fe:pn.defaults(fe.Object(),e,pn.pick(fe,ne))).Array,ot=e.Date,_t=e.Error,Et=e.Function,kt=e.Math,xt=e.Object,Ct=e.RegExp,St=e.String,At=e.TypeError,It=r.prototype,Dt=Et.prototype,Tt=xt.prototype,Ot=e["__core-js_shared__"],jt=Dt.toString,Pt=Tt.hasOwnProperty,Bt=0,Nt=(n=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ut=Tt.toString,Lt=jt.call(xt),Rt=fe._,Mt=Ct("^"+jt.call(Pt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=pe?e.Buffer:o,Ft=e.Symbol,zt=e.Uint8Array,Wt=$t?$t.allocUnsafe:o,Ht=sn(xt.getPrototypeOf,xt),Vt=xt.create,qt=Tt.propertyIsEnumerable,Jt=It.splice,Gt=Ft?Ft.isConcatSpreadable:o,Yt=Ft?Ft.iterator:o,Zt=Ft?Ft.toStringTag:o,te=function(){try{var t=ui(xt,"defineProperty");return t({},"",{}),t}catch(t){}}(),se=e.clearTimeout!==fe.clearTimeout&&e.clearTimeout,ue=ot&&ot.now!==fe.Date.now&&ot.now,le=e.setTimeout!==fe.setTimeout&&e.setTimeout,he=kt.ceil,de=kt.floor,ge=xt.getOwnPropertySymbols,ye=$t?$t.isBuffer:o,Ue=e.isFinite,He=It.join,gn=sn(xt.keys,xt),yn=kt.max,mn=kt.min,wn=ot.now,bn=e.parseInt,vn=kt.random,_n=It.reverse,En=ui(e,"DataView"),kn=ui(e,"Map"),xn=ui(e,"Promise"),Cn=ui(e,"Set"),Sn=ui(e,"WeakMap"),An=ui(xt,"create"),In=Sn&&new Sn,Dn={},Tn=Li(En),On=Li(kn),jn=Li(xn),Pn=Li(Cn),Bn=Li(Sn),Nn=Ft?Ft.prototype:o,Un=Nn?Nn.valueOf:o,Ln=Nn?Nn.toString:o;function Rn(t){if(ta(t)&&!Ws(t)&&!(t instanceof zn)){if(t instanceof Fn)return t;if(Pt.call(t,"__wrapped__"))return Ri(t)}return new Fn(t)}var Mn=function(){function t(){}return function(e){if(!Qs(e))return{};if(Vt)return Vt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function $n(){}function Fn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Vn;++e<n;)this.add(t[e])}function Jn(t){var e=this.__data__=new Hn(t);this.size=e.size}function Gn(t,e){var n=Ws(t),r=!n&&zs(t),o=!n&&!r&&Js(t),i=!n&&!r&&!o&&ca(t),s=n||r||o||i,a=s?Je(t.length,St):[],c=a.length;for(var u in t)!e&&!Pt.call(t,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yi(u,c))||a.push(u);return a}function Yn(t){var e=t.length;return e?t[Vr(0,e-1)]:o}function Kn(t,e){return ji(Ao(t),ir(e,0,t.length))}function Xn(t){return ji(Ao(t))}function Zn(t,e,n){(n!==o&&!Ms(t[e],n)||n===o&&!(e in t))&&rr(t,e,n)}function Qn(t,e,n){var r=t[e];Pt.call(t,e)&&Ms(r,n)&&(n!==o||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Ms(t[n][0],e))return n;return-1}function er(t,e,n,r){return lr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function nr(t,e){return t&&Io(e,Ta(e),t)}function rr(t,e,n){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function or(t,e){for(var n=-1,i=e.length,s=r(i),a=null==t;++n<i;)s[n]=a?o:Ca(t,e[n]);return s}function ir(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function sr(t,e,n,r,i,s){var a,c=1&e,u=2&e,l=4&e;if(n&&(a=i?n(t,r,i,s):n(t)),a!==o)return a;if(!Qs(t))return t;var f=Ws(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return Ao(t,a)}else{var h=hi(t),d=h==v||h==_;if(Js(t))return _o(t,c);if(h==x||h==g||d&&!i){if(a=u||d?{}:pi(t),!c)return u?function(t,e){return Io(t,fi(t),e)}(t,function(t,e){return t&&Io(e,Oa(e),t)}(a,t)):function(t,e){return Io(t,li(t),e)}(t,nr(a,t))}else{if(!ie[h])return i?t:{};a=function(t,e,n){var r,o=t.constructor;switch(e){case O:return Eo(t);case m:case w:return new o(+t);case j:return function(t,e){var n=e?Eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case P:case B:case N:case U:case L:case R:case M:case $:case F:return ko(t,n);case E:return new o;case k:case I:return new o(t);case S:return function(t){var e=new t.constructor(t.source,ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return new o;case D:return r=t,Un?xt(Un.call(r)):{}}}(t,h,c)}}s||(s=new Jn);var p=s.get(t);if(p)return p;s.set(t,a),ia(t)?t.forEach((function(r){a.add(sr(r,e,n,r,t,s))})):ea(t)&&t.forEach((function(r,o){a.set(o,sr(r,e,n,o,t,s))}));var y=f?o:(l?u?ni:ei:u?Oa:Ta)(t);return Ce(y||t,(function(r,o){y&&(r=t[o=r]),Qn(a,o,sr(r,e,n,o,t,s))})),a}function ar(t,e,n){var r=n.length;if(null==t)return!r;for(t=xt(t);r--;){var i=n[r],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new At(i);return Ii((function(){t.apply(o,n)}),e)}function ur(t,e,n,r){var o=-1,i=De,s=!0,a=t.length,c=[],u=e.length;if(!a)return c;n&&(e=Oe(e,Ye(n))),r?(i=Te,s=!1):e.length>=200&&(i=Xe,s=!1,e=new qn(e));t:for(;++o<a;){var l=t[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var h=u;h--;)if(e[h]===f)continue t;c.push(l)}else i(e,f,r)||c.push(l)}return c}Rn.templateSettings={escape:Y,evaluate:K,interpolate:X,variable:"",imports:{_:Rn}},Rn.prototype=$n.prototype,Rn.prototype.constructor=Rn,Fn.prototype=Mn($n.prototype),Fn.prototype.constructor=Fn,zn.prototype=Mn($n.prototype),zn.prototype.constructor=zn,Wn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn.prototype.get=function(t){var e=this.__data__;if(An){var n=e[t];return n===s?o:n}return Pt.call(e,t)?e[t]:o},Wn.prototype.has=function(t){var e=this.__data__;return An?e[t]!==o:Pt.call(e,t)},Wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=An&&e===o?s:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():Jt.call(e,n,1),--this.size,0))},Hn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?o:e[n][1]},Hn.prototype.has=function(t){return tr(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(kn||Hn),string:new Wn}},Vn.prototype.delete=function(t){var e=ai(this,t).delete(t);return this.size-=e?1:0,e},Vn.prototype.get=function(t){return ai(this,t).get(t)},Vn.prototype.has=function(t){return ai(this,t).has(t)},Vn.prototype.set=function(t,e){var n=ai(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(t){return this.__data__.set(t,s),this},qn.prototype.has=function(t){return this.__data__.has(t)},Jn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Jn.prototype.get=function(t){return this.__data__.get(t)},Jn.prototype.has=function(t){return this.__data__.has(t)},Jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!kn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(t,e),this.size=n.size,this};var lr=Oo(wr),fr=Oo(br,!0);function hr(t,e){var n=!0;return lr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function dr(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(null!=a&&(c===o?a==a&&!aa(a):n(a,c)))var c=a,u=s}return u}function pr(t,e){var n=[];return lr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function gr(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=gi),o||(o=[]);++i<s;){var a=t[i];e>0&&n(a)?e>1?gr(a,e-1,n,r,o):je(o,a):r||(o[o.length]=a)}return o}var yr=jo(),mr=jo(!0);function wr(t,e){return t&&yr(t,e,Ta)}function br(t,e){return t&&mr(t,e,Ta)}function vr(t,e){return Ie(e,(function(e){return Ks(t[e])}))}function _r(t,e){for(var n=0,r=(e=mo(e,t)).length;null!=t&&n<r;)t=t[Ui(e[n++])];return n&&n==r?t:o}function Er(t,e,n){var r=e(t);return Ws(t)?r:je(r,n(t))}function kr(t){return null==t?t===o?"[object Undefined]":"[object Null]":Zt&&Zt in xt(t)?function(t){var e=Pt.call(t,Zt),n=t[Zt];try{t[Zt]=o;var r=!0}catch(t){}var i=Ut.call(t);return r&&(e?t[Zt]=n:delete t[Zt]),i}(t):function(t){return Ut.call(t)}(t)}function xr(t,e){return t>e}function Cr(t,e){return null!=t&&Pt.call(t,e)}function Sr(t,e){return null!=t&&e in xt(t)}function Ar(t,e,n){for(var i=n?Te:De,s=t[0].length,a=t.length,c=a,u=r(a),l=1/0,f=[];c--;){var h=t[c];c&&e&&(h=Oe(h,Ye(e))),l=mn(h.length,l),u[c]=!n&&(e||s>=120&&h.length>=120)?new qn(c&&h):o}h=t[0];var d=-1,p=u[0];t:for(;++d<s&&f.length<l;){var g=h[d],y=e?e(g):g;if(g=n||0!==g?g:0,!(p?Xe(p,y):i(f,y,n))){for(c=a;--c;){var m=u[c];if(!(m?Xe(m,y):i(t[c],y,n)))continue t}p&&p.push(y),f.push(g)}}return f}function Ir(t,e,n){var r=null==(t=Ci(t,e=mo(e,t)))?t:t[Ui(Yi(e))];return null==r?o:ke(r,t,n)}function Dr(t){return ta(t)&&kr(t)==g}function Tr(t,e,n,r,i){return t===e||(null==t||null==e||!ta(t)&&!ta(e)?t!=t&&e!=e:function(t,e,n,r,i,s){var a=Ws(t),c=Ws(e),u=a?y:hi(t),l=c?y:hi(e),f=(u=u==g?x:u)==x,h=(l=l==g?x:l)==x,d=u==l;if(d&&Js(t)){if(!Js(e))return!1;a=!0,f=!1}if(d&&!f)return s||(s=new Jn),a||ca(t)?Qo(t,e,n,r,i,s):function(t,e,n,r,o,i,s){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!i(new zt(t),new zt(e)));case m:case w:case k:return Ms(+t,+e);case b:return t.name==e.name&&t.message==e.message;case S:case I:return t==e+"";case E:var a=on;case A:var c=1&r;if(a||(a=cn),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=2,s.set(t,e);var l=Qo(a(t),a(e),r,o,i,s);return s.delete(t),l;case D:if(Un)return Un.call(t)==Un.call(e)}return!1}(t,e,u,n,r,i,s);if(!(1&n)){var p=f&&Pt.call(t,"__wrapped__"),v=h&&Pt.call(e,"__wrapped__");if(p||v){var _=p?t.value():t,C=v?e.value():e;return s||(s=new Jn),i(_,C,n,r,s)}}return!!d&&(s||(s=new Jn),function(t,e,n,r,i,s){var a=1&n,c=ei(t),u=c.length;if(u!=ei(e).length&&!a)return!1;for(var l=u;l--;){var f=c[l];if(!(a?f in e:Pt.call(e,f)))return!1}var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var p=!0;s.set(t,e),s.set(e,t);for(var g=a;++l<u;){var y=t[f=c[l]],m=e[f];if(r)var w=a?r(m,y,f,e,t,s):r(y,m,f,t,e,s);if(!(w===o?y===m||i(y,m,n,r,s):w)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var b=t.constructor,v=e.constructor;b==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,r,i,s))}(t,e,n,r,Tr,i))}function Or(t,e,n,r){var i=n.length,s=i,a=!r;if(null==t)return!s;for(t=xt(t);i--;){var c=n[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<s;){var u=(c=n[i])[0],l=t[u],f=c[1];if(a&&c[2]){if(l===o&&!(u in t))return!1}else{var h=new Jn;if(r)var d=r(l,f,u,t,e,h);if(!(d===o?Tr(f,l,3,r,h):d))return!1}}return!0}function jr(t){return!(!Qs(t)||(e=t,Nt&&Nt in e))&&(Ks(t)?Mt:gt).test(Li(t));var e}function Pr(t){return"function"==typeof t?t:null==t?nc:"object"==typeof t?Ws(t)?Rr(t[0],t[1]):Lr(t):fc(t)}function Br(t){if(!_i(t))return gn(t);var e=[];for(var n in xt(t))Pt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Nr(t,e){return t<e}function Ur(t,e){var n=-1,o=Vs(t)?r(t.length):[];return lr(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function Lr(t){var e=ci(t);return 1==e.length&&e[0][2]?ki(e[0][0],e[0][1]):function(n){return n===t||Or(n,t,e)}}function Rr(t,e){return wi(t)&&Ei(e)?ki(Ui(t),e):function(n){var r=Ca(n,t);return r===o&&r===e?Sa(n,t):Tr(e,r,3)}}function Mr(t,e,n,r,i){t!==e&&yr(e,(function(s,a){if(i||(i=new Jn),Qs(s))!function(t,e,n,r,i,s,a){var c=Si(t,n),u=Si(e,n),l=a.get(u);if(l)Zn(t,n,l);else{var f=s?s(c,u,n+"",t,e,a):o,h=f===o;if(h){var d=Ws(u),p=!d&&Js(u),g=!d&&!p&&ca(u);f=u,d||p||g?Ws(c)?f=c:qs(c)?f=Ao(c):p?(h=!1,f=_o(u,!0)):g?(h=!1,f=ko(u,!0)):f=[]:ra(u)||zs(u)?(f=c,zs(c)?f=ya(c):Qs(c)&&!Ks(c)||(f=pi(u))):h=!1}h&&(a.set(u,f),i(f,u,r,s,a),a.delete(u)),Zn(t,n,f)}}(t,e,a,n,Mr,r,i);else{var c=r?r(Si(t,a),s,a+"",t,e,i):o;c===o&&(c=s),Zn(t,a,c)}}),Oa)}function $r(t,e){var n=t.length;if(n)return yi(e+=e<0?n:0,n)?t[e]:o}function Fr(t,e,n){e=e.length?Oe(e,(function(t){return Ws(t)?function(e){return _r(e,1===t.length?t[0]:t)}:t})):[nc];var r=-1;e=Oe(e,Ye(si()));var o=Ur(t,(function(t,n,o){var i=Oe(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,s=o.length,a=n.length;++r<s;){var c=xo(o[r],i[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(o)}function zr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var s=e[r],a=_r(t,s);n(a,s)&&Kr(i,mo(s,t),a)}return i}function Wr(t,e,n,r){var o=r?$e:Me,i=-1,s=e.length,a=t;for(t===e&&(e=Ao(e)),n&&(a=Oe(t,Ye(n)));++i<s;)for(var c=0,u=e[i],l=n?n(u):u;(c=o(a,l,c,r))>-1;)a!==t&&Jt.call(a,c,1),Jt.call(t,c,1);return t}function Hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;yi(o)?Jt.call(t,o,1):co(t,o)}}return t}function Vr(t,e){return t+de(vn()*(e-t+1))}function qr(t,e){var n="";if(!t||e<1||e>f)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return Di(xi(t,e,nc),t+"")}function Gr(t){return Yn(Ma(t))}function Yr(t,e){var n=Ma(t);return ji(n,ir(e,0,n.length))}function Kr(t,e,n,r){if(!Qs(t))return t;for(var i=-1,s=(e=mo(e,t)).length,a=s-1,c=t;null!=c&&++i<s;){var u=Ui(e[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var f=c[u];(l=r?r(f,u,c):o)===o&&(l=Qs(f)?f:yi(e[i+1])?[]:{})}Qn(c,u,l),c=c[u]}return t}var Xr=In?function(t,e){return In.set(t,e),t}:nc,Zr=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:Qa(e),writable:!0})}:nc;function Qr(t){return ji(Ma(t))}function to(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=r(i);++o<i;)s[o]=t[o+e];return s}function eo(t,e){var n;return lr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function no(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=t[i];null!==s&&!aa(s)&&(n?s<=e:s<e)?r=i+1:o=i}return o}return ro(t,e,nc,n)}function ro(t,e,n,r){var i=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,c=null===e,u=aa(e),l=e===o;i<s;){var f=de((i+s)/2),h=n(t[f]),d=h!==o,p=null===h,g=h==h,y=aa(h);if(a)var m=r||g;else m=l?g&&(r||d):c?g&&d&&(r||!p):u?g&&d&&!p&&(r||!y):!p&&!y&&(r?h<=e:h<e);m?i=f+1:s=f}return mn(s,4294967294)}function oo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Ms(a,c)){var c=a;i[o++]=0===s?0:s}}return i}function io(t){return"number"==typeof t?t:aa(t)?h:+t}function so(t){if("string"==typeof t)return t;if(Ws(t))return Oe(t,so)+"";if(aa(t))return Ln?Ln.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ao(t,e,n){var r=-1,o=De,i=t.length,s=!0,a=[],c=a;if(n)s=!1,o=Te;else if(i>=200){var u=e?null:Jo(t);if(u)return cn(u);s=!1,o=Xe,c=new qn}else c=e?[]:a;t:for(;++r<i;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,s&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),a.push(l)}else o(c,f,n)||(c!==a&&c.push(f),a.push(l))}return a}function co(t,e){return null==(t=Ci(t,e=mo(e,t)))||delete t[Ui(Yi(e))]}function uo(t,e,n,r){return Kr(t,e,n(_r(t,e)),r)}function lo(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?to(t,r?0:i,r?i+1:o):to(t,r?i+1:0,r?o:i)}function fo(t,e){var n=t;return n instanceof zn&&(n=n.value()),Pe(e,(function(t,e){return e.func.apply(e.thisArg,je([t],e.args))}),n)}function ho(t,e,n){var o=t.length;if(o<2)return o?ao(t[0]):[];for(var i=-1,s=r(o);++i<o;)for(var a=t[i],c=-1;++c<o;)c!=i&&(s[i]=ur(s[i]||a,t[c],e,n));return ao(gr(s,1),e,n)}function po(t,e,n){for(var r=-1,i=t.length,s=e.length,a={};++r<i;){var c=r<s?e[r]:o;n(a,t[r],c)}return a}function go(t){return qs(t)?t:[]}function yo(t){return"function"==typeof t?t:nc}function mo(t,e){return Ws(t)?t:wi(t,e)?[t]:Ni(ma(t))}var wo=Jr;function bo(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:to(t,e,n)}var vo=se||function(t){return fe.clearTimeout(t)};function _o(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function Eo(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e}function ko(t,e){var n=e?Eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function xo(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,s=aa(t),a=e!==o,c=null===e,u=e==e,l=aa(e);if(!c&&!l&&!s&&t>e||s&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!s&&!l&&t<e||l&&n&&i&&!r&&!s||c&&n&&i||!a&&i||!u)return-1}return 0}function Co(t,e,n,o){for(var i=-1,s=t.length,a=n.length,c=-1,u=e.length,l=yn(s-a,0),f=r(u+l),h=!o;++c<u;)f[c]=e[c];for(;++i<a;)(h||i<s)&&(f[n[i]]=t[i]);for(;l--;)f[c++]=t[i++];return f}function So(t,e,n,o){for(var i=-1,s=t.length,a=-1,c=n.length,u=-1,l=e.length,f=yn(s-c,0),h=r(f+l),d=!o;++i<f;)h[i]=t[i];for(var p=i;++u<l;)h[p+u]=e[u];for(;++a<c;)(d||i<s)&&(h[p+n[a]]=t[i++]);return h}function Ao(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function Io(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var c=e[s],u=r?r(n[c],t[c],c,n,t):o;u===o&&(u=t[c]),i?rr(n,c,u):Qn(n,c,u)}return n}function Do(t,e){return function(n,r){var o=Ws(n)?xe:er,i=e?e():{};return o(n,t,si(r,2),i)}}function To(t){return Jr((function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(i--,s):o,a&&mi(n[0],n[1],a)&&(s=i<3?o:s,i=1),e=xt(e);++r<i;){var c=n[r];c&&t(e,c,r,s)}return e}))}function Oo(t,e){return function(n,r){if(null==n)return n;if(!Vs(n))return t(n,r);for(var o=n.length,i=e?o:-1,s=xt(n);(e?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function jo(t){return function(e,n,r){for(var o=-1,i=xt(e),s=r(e),a=s.length;a--;){var c=s[t?a:++o];if(!1===n(i[c],c,i))break}return e}}function Po(t){return function(e){var n=rn(e=ma(e))?fn(e):o,r=n?n[0]:e.charAt(0),i=n?bo(n,1).join(""):e.slice(1);return r[t]()+i}}function Bo(t){return function(e){return Pe(Ka(za(e).replace(Kt,"")),t,"")}}function No(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Mn(t.prototype),r=t.apply(n,e);return Qs(r)?r:n}}function Uo(t){return function(e,n,r){var i=xt(e);if(!Vs(e)){var s=si(n,3);e=Ta(e),n=function(t){return s(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:o}}function Lo(t){return ti((function(e){var n=e.length,r=n,s=Fn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new At(i);if(s&&!c&&"wrapper"==oi(a))var c=new Fn([],!0)}for(r=c?r:n;++r<n;){var u=oi(a=e[r]),l="wrapper"==u?ri(a):o;c=l&&bi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[oi(l[0])].apply(c,l[3]):1==a.length&&bi(a)?c[u]():c.thru(a)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Ws(r))return c.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Ro(t,e,n,i,s,a,c,l,f,h){var d=e&u,p=1&e,g=2&e,y=24&e,m=512&e,w=g?o:No(t);return function u(){for(var b=arguments.length,v=r(b),_=b;_--;)v[_]=arguments[_];if(y)var E=ii(u),k=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(v,E);if(i&&(v=Co(v,i,s,y)),a&&(v=So(v,a,c,y)),b-=k,y&&b<h){var x=an(v,E);return Vo(t,e,Ro,u.placeholder,n,v,x,l,f,h-b)}var C=p?n:this,S=g?C[t]:t;return b=v.length,l?v=function(t,e){for(var n=t.length,r=mn(e.length,n),i=Ao(t);r--;){var s=e[r];t[r]=yi(s,n)?i[s]:o}return t}(v,l):m&&b>1&&v.reverse(),d&&f<b&&(v.length=f),this&&this!==fe&&this instanceof u&&(S=w||No(S)),S.apply(C,v)}}function Mo(t,e){return function(n,r){return function(t,e,n,r){return wr(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function $o(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=so(n),r=so(r)):(n=io(n),r=io(r)),i=t(n,r)}return i}}function Fo(t){return ti((function(e){return e=Oe(e,Ye(si())),Jr((function(n){var r=this;return t(e,(function(t){return ke(t,r,n)}))}))}))}function zo(t,e){var n=(e=e===o?" ":so(e)).length;if(n<2)return n?qr(e,t):e;var r=qr(e,he(t/ln(e)));return rn(e)?bo(fn(r),0,t).join(""):r.slice(0,t)}function Wo(t){return function(e,n,i){return i&&"number"!=typeof i&&mi(e,n,i)&&(n=i=o),e=ha(e),n===o?(n=e,e=0):n=ha(n),function(t,e,n,o){for(var i=-1,s=yn(he((e-t)/(n||1)),0),a=r(s);s--;)a[o?s:++i]=t,t+=n;return a}(e,n,i=i===o?e<n?1:-1:ha(i),t)}}function Ho(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ga(e),n=ga(n)),t(e,n)}}function Vo(t,e,n,r,i,s,a,u,l,f){var h=8&e;e|=h?c:64,4&(e&=~(h?64:c))||(e&=-4);var d=[t,e,i,h?s:o,h?a:o,h?o:s,h?o:a,u,l,f],p=n.apply(o,d);return bi(t)&&Ai(p,d),p.placeholder=r,Ti(p,t,e)}function qo(t){var e=kt[t];return function(t,n){if(t=ga(t),(n=null==n?0:mn(da(n),292))&&Ue(t)){var r=(ma(t)+"e").split("e");return+((r=(ma(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Jo=Cn&&1/cn(new Cn([,-0]))[1]==l?function(t){return new Cn(t)}:ac;function Go(t){return function(e){var n=hi(e);return n==E?on(e):n==A?un(e):function(t,e){return Oe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yo(t,e,n,s,l,f,h,d){var p=2&e;if(!p&&"function"!=typeof t)throw new At(i);var g=s?s.length:0;if(g||(e&=-97,s=l=o),h=h===o?h:yn(da(h),0),d=d===o?d:da(d),g-=l?l.length:0,64&e){var y=s,m=l;s=l=o}var w=p?o:ri(t),b=[t,e,n,s,l,y,m,f,h,d];if(w&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,s=r==u&&8==n||r==u&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!s)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var c=e[3];if(c){var l=t[3];t[3]=l?Co(l,c,e[4]):c,t[4]=l?an(t[3],a):e[4]}(c=e[5])&&(l=t[5],t[5]=l?So(l,c,e[6]):c,t[6]=l?an(t[5],a):e[6]),(c=e[7])&&(t[7]=c),r&u&&(t[8]=null==t[8]?e[8]:mn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(b,w),t=b[0],e=b[1],n=b[2],s=b[3],l=b[4],!(d=b[9]=b[9]===o?p?0:t.length:yn(b[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var i=No(t);return function s(){for(var a=arguments.length,c=r(a),u=a,l=ii(s);u--;)c[u]=arguments[u];var f=a<3&&c[0]!==l&&c[a-1]!==l?[]:an(c,l);return(a-=f.length)<n?Vo(t,e,Ro,s.placeholder,o,c,f,o,o,n-a):ke(this&&this!==fe&&this instanceof s?i:t,this,c)}}(t,e,d):e!=c&&33!=e||l.length?Ro.apply(o,b):function(t,e,n,o){var i=1&e,s=No(t);return function e(){for(var a=-1,c=arguments.length,u=-1,l=o.length,f=r(l+c),h=this&&this!==fe&&this instanceof e?s:t;++u<l;)f[u]=o[u];for(;c--;)f[u++]=arguments[++a];return ke(h,i?n:this,f)}}(t,e,n,s);else var v=function(t,e,n){var r=1&e,o=No(t);return function e(){return(this&&this!==fe&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return Ti((w?Xr:Ai)(v,b),t,e)}function Ko(t,e,n,r){return t===o||Ms(t,Tt[n])&&!Pt.call(r,n)?e:t}function Xo(t,e,n,r,i,s){return Qs(t)&&Qs(e)&&(s.set(e,t),Mr(t,e,o,Xo,s),s.delete(e)),t}function Zo(t){return ra(t)?o:t}function Qo(t,e,n,r,i,s){var a=1&n,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(t),f=s.get(e);if(l&&f)return l==e&&f==t;var h=-1,d=!0,p=2&n?new qn:o;for(s.set(t,e),s.set(e,t);++h<c;){var g=t[h],y=e[h];if(r)var m=a?r(y,g,h,e,t,s):r(g,y,h,t,e,s);if(m!==o){if(m)continue;d=!1;break}if(p){if(!Ne(e,(function(t,e){if(!Xe(p,e)&&(g===t||i(g,t,n,r,s)))return p.push(e)}))){d=!1;break}}else if(g!==y&&!i(g,y,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function ti(t){return Di(xi(t,o,Hi),t+"")}function ei(t){return Er(t,Ta,li)}function ni(t){return Er(t,Oa,fi)}var ri=In?function(t){return In.get(t)}:ac;function oi(t){for(var e=t.name+"",n=Dn[e],r=Pt.call(Dn,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function ii(t){return(Pt.call(Rn,"placeholder")?Rn:t).placeholder}function si(){var t=Rn.iteratee||rc;return t=t===rc?Pr:t,arguments.length?t(arguments[0],arguments[1]):t}function ai(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function ci(t){for(var e=Ta(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ei(o)]}return e}function ui(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return jr(n)?n:o}var li=ge?function(t){return null==t?[]:(t=xt(t),Ie(ge(t),(function(e){return qt.call(t,e)})))}:pc,fi=ge?function(t){for(var e=[];t;)je(e,li(t)),t=Ht(t);return e}:pc,hi=kr;function di(t,e,n){for(var r=-1,o=(e=mo(e,t)).length,i=!1;++r<o;){var s=Ui(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Zs(o)&&yi(s,o)&&(Ws(t)||zs(t))}function pi(t){return"function"!=typeof t.constructor||_i(t)?{}:Mn(Ht(t))}function gi(t){return Ws(t)||zs(t)||!!(Gt&&t&&t[Gt])}function yi(t,e){var n=typeof t;return!!(e=null==e?f:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function mi(t,e,n){if(!Qs(n))return!1;var r=typeof e;return!!("number"==r?Vs(n)&&yi(e,n.length):"string"==r&&e in n)&&Ms(n[e],t)}function wi(t,e){if(Ws(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!aa(t))||Q.test(t)||!Z.test(t)||null!=e&&t in xt(e)}function bi(t){var e=oi(t),n=Rn[e];if("function"!=typeof n||!(e in zn.prototype))return!1;if(t===n)return!0;var r=ri(n);return!!r&&t===r[0]}(En&&hi(new En(new ArrayBuffer(1)))!=j||kn&&hi(new kn)!=E||xn&&hi(xn.resolve())!=C||Cn&&hi(new Cn)!=A||Sn&&hi(new Sn)!=T)&&(hi=function(t){var e=kr(t),n=e==x?t.constructor:o,r=n?Li(n):"";if(r)switch(r){case Tn:return j;case On:return E;case jn:return C;case Pn:return A;case Bn:return T}return e});var vi=Ot?Ks:gc;function _i(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function Ei(t){return t==t&&!Qs(t)}function ki(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in xt(n))}}function xi(t,e,n){return e=yn(e===o?t.length-1:e,0),function(){for(var o=arguments,i=-1,s=yn(o.length-e,0),a=r(s);++i<s;)a[i]=o[e+i];i=-1;for(var c=r(e+1);++i<e;)c[i]=o[i];return c[e]=n(a),ke(t,this,c)}}function Ci(t,e){return e.length<2?t:_r(t,to(e,0,-1))}function Si(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ai=Oi(Xr),Ii=le||function(t,e){return fe.setTimeout(t,e)},Di=Oi(Zr);function Ti(t,e,n){var r=e+"";return Di(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(it,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ce(p,(function(n){var r="_."+n[0];e&n[1]&&!De(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(r),n)))}function Oi(t){var e=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function ji(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var s=Vr(n,i),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Pi,Bi,Ni=(Pi=Ps((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,o){e.push(r?o.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===Bi.size&&Bi.clear(),t})),Bi=Pi.cache,Pi);function Ui(t){if("string"==typeof t||aa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Li(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ri(t){if(t instanceof zn)return t.clone();var e=new Fn(t.__wrapped__,t.__chain__);return e.__actions__=Ao(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Mi=Jr((function(t,e){return qs(t)?ur(t,gr(e,1,qs,!0)):[]})),$i=Jr((function(t,e){var n=Yi(e);return qs(n)&&(n=o),qs(t)?ur(t,gr(e,1,qs,!0),si(n,2)):[]})),Fi=Jr((function(t,e){var n=Yi(e);return qs(n)&&(n=o),qs(t)?ur(t,gr(e,1,qs,!0),o,n):[]}));function zi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:da(n);return o<0&&(o=yn(r+o,0)),Re(t,si(e,3),o)}function Wi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=da(n),i=n<0?yn(r+i,0):mn(i,r-1)),Re(t,si(e,3),i,!0)}function Hi(t){return null!=t&&t.length?gr(t,1):[]}function Vi(t){return t&&t.length?t[0]:o}var qi=Jr((function(t){var e=Oe(t,go);return e.length&&e[0]===t[0]?Ar(e):[]})),Ji=Jr((function(t){var e=Yi(t),n=Oe(t,go);return e===Yi(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Ar(n,si(e,2)):[]})),Gi=Jr((function(t){var e=Yi(t),n=Oe(t,go);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Ar(n,o,e):[]}));function Yi(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ki=Jr(Xi);function Xi(t,e){return t&&t.length&&e&&e.length?Wr(t,e):t}var Zi=ti((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Hr(t,Oe(e,(function(t){return yi(t,n)?+t:t})).sort(xo)),r}));function Qi(t){return null==t?t:_n.call(t)}var ts=Jr((function(t){return ao(gr(t,1,qs,!0))})),es=Jr((function(t){var e=Yi(t);return qs(e)&&(e=o),ao(gr(t,1,qs,!0),si(e,2))})),ns=Jr((function(t){var e=Yi(t);return e="function"==typeof e?e:o,ao(gr(t,1,qs,!0),o,e)}));function rs(t){if(!t||!t.length)return[];var e=0;return t=Ie(t,(function(t){if(qs(t))return e=yn(t.length,e),!0})),Je(e,(function(e){return Oe(t,We(e))}))}function os(t,e){if(!t||!t.length)return[];var n=rs(t);return null==e?n:Oe(n,(function(t){return ke(e,o,t)}))}var is=Jr((function(t,e){return qs(t)?ur(t,e):[]})),ss=Jr((function(t){return ho(Ie(t,qs))})),as=Jr((function(t){var e=Yi(t);return qs(e)&&(e=o),ho(Ie(t,qs),si(e,2))})),cs=Jr((function(t){var e=Yi(t);return e="function"==typeof e?e:o,ho(Ie(t,qs),o,e)})),us=Jr(rs),ls=Jr((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,os(t,n)}));function fs(t){var e=Rn(t);return e.__chain__=!0,e}function hs(t,e){return e(t)}var ds=ti((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof zn&&yi(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:hs,args:[i],thisArg:o}),new Fn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)})),ps=Do((function(t,e,n){Pt.call(t,n)?++t[n]:rr(t,n,1)})),gs=Uo(zi),ys=Uo(Wi);function ms(t,e){return(Ws(t)?Ce:lr)(t,si(e,3))}function ws(t,e){return(Ws(t)?Se:fr)(t,si(e,3))}var bs=Do((function(t,e,n){Pt.call(t,n)?t[n].push(e):rr(t,n,[e])})),vs=Jr((function(t,e,n){var o=-1,i="function"==typeof e,s=Vs(t)?r(t.length):[];return lr(t,(function(t){s[++o]=i?ke(e,t,n):Ir(t,e,n)})),s})),_s=Do((function(t,e,n){rr(t,n,e)}));function Es(t,e){return(Ws(t)?Oe:Ur)(t,si(e,3))}var ks=Do((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),xs=Jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&mi(t,e[0],e[1])?e=[]:n>2&&mi(e[0],e[1],e[2])&&(e=[e[0]]),Fr(t,gr(e,1),[])})),Cs=ue||function(){return fe.Date.now()};function Ss(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Yo(t,u,o,o,o,o,e)}function As(t,e){var n;if("function"!=typeof e)throw new At(i);return t=da(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Is=Jr((function(t,e,n){var r=1;if(n.length){var o=an(n,ii(Is));r|=c}return Yo(t,r,e,n,o)})),Ds=Jr((function(t,e,n){var r=3;if(n.length){var o=an(n,ii(Ds));r|=c}return Yo(e,r,t,n,o)}));function Ts(t,e,n){var r,s,a,c,u,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new At(i);function g(e){var n=r,i=s;return r=s=o,f=e,c=t.apply(i,n)}function y(t){var n=t-l;return l===o||n>=e||n<0||d&&t-f>=a}function m(){var t=Cs();if(y(t))return w(t);u=Ii(m,function(t){var n=e-(t-l);return d?mn(n,a-(t-f)):n}(t))}function w(t){return u=o,p&&r?g(t):(r=s=o,c)}function b(){var t=Cs(),n=y(t);if(r=arguments,s=this,l=t,n){if(u===o)return function(t){return f=t,u=Ii(m,e),h?g(t):c}(l);if(d)return vo(u),u=Ii(m,e),g(l)}return u===o&&(u=Ii(m,e)),c}return e=ga(e)||0,Qs(n)&&(h=!!n.leading,a=(d="maxWait"in n)?yn(ga(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){u!==o&&vo(u),f=0,r=l=s=u=o},b.flush=function(){return u===o?c:w(Cs())},b}var Os=Jr((function(t,e){return cr(t,1,e)})),js=Jr((function(t,e,n){return cr(t,ga(e)||0,n)}));function Ps(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new At(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Ps.Cache||Vn),n}function Bs(t){if("function"!=typeof t)throw new At(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ps.Cache=Vn;var Ns=wo((function(t,e){var n=(e=1==e.length&&Ws(e[0])?Oe(e[0],Ye(si())):Oe(gr(e,1),Ye(si()))).length;return Jr((function(r){for(var o=-1,i=mn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return ke(t,this,r)}))})),Us=Jr((function(t,e){var n=an(e,ii(Us));return Yo(t,c,o,e,n)})),Ls=Jr((function(t,e){var n=an(e,ii(Ls));return Yo(t,64,o,e,n)})),Rs=ti((function(t,e){return Yo(t,256,o,o,o,e)}));function Ms(t,e){return t===e||t!=t&&e!=e}var $s=Ho(xr),Fs=Ho((function(t,e){return t>=e})),zs=Dr(function(){return arguments}())?Dr:function(t){return ta(t)&&Pt.call(t,"callee")&&!qt.call(t,"callee")},Ws=r.isArray,Hs=me?Ye(me):function(t){return ta(t)&&kr(t)==O};function Vs(t){return null!=t&&Zs(t.length)&&!Ks(t)}function qs(t){return ta(t)&&Vs(t)}var Js=ye||gc,Gs=we?Ye(we):function(t){return ta(t)&&kr(t)==w};function Ys(t){if(!ta(t))return!1;var e=kr(t);return e==b||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Ks(t){if(!Qs(t))return!1;var e=kr(t);return e==v||e==_||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xs(t){return"number"==typeof t&&t==da(t)}function Zs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function Qs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ta(t){return null!=t&&"object"==typeof t}var ea=be?Ye(be):function(t){return ta(t)&&hi(t)==E};function na(t){return"number"==typeof t||ta(t)&&kr(t)==k}function ra(t){if(!ta(t)||kr(t)!=x)return!1;var e=Ht(t);if(null===e)return!0;var n=Pt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&jt.call(n)==Lt}var oa=ve?Ye(ve):function(t){return ta(t)&&kr(t)==S},ia=_e?Ye(_e):function(t){return ta(t)&&hi(t)==A};function sa(t){return"string"==typeof t||!Ws(t)&&ta(t)&&kr(t)==I}function aa(t){return"symbol"==typeof t||ta(t)&&kr(t)==D}var ca=Ee?Ye(Ee):function(t){return ta(t)&&Zs(t.length)&&!!oe[kr(t)]},ua=Ho(Nr),la=Ho((function(t,e){return t<=e}));function fa(t){if(!t)return[];if(Vs(t))return sa(t)?fn(t):Ao(t);if(Yt&&t[Yt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Yt]());var e=hi(t);return(e==E?on:e==A?cn:Ma)(t)}function ha(t){return t?(t=ga(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function da(t){var e=ha(t),n=e%1;return e==e?n?e-n:e:0}function pa(t){return t?ir(da(t),0,d):0}function ga(t){if("number"==typeof t)return t;if(aa(t))return h;if(Qs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Qs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ge(t);var n=pt.test(t);return n||yt.test(t)?ce(t.slice(2),n?2:8):dt.test(t)?h:+t}function ya(t){return Io(t,Oa(t))}function ma(t){return null==t?"":so(t)}var wa=To((function(t,e){if(_i(e)||Vs(e))Io(e,Ta(e),t);else for(var n in e)Pt.call(e,n)&&Qn(t,n,e[n])})),ba=To((function(t,e){Io(e,Oa(e),t)})),va=To((function(t,e,n,r){Io(e,Oa(e),t,r)})),_a=To((function(t,e,n,r){Io(e,Ta(e),t,r)})),Ea=ti(or),ka=Jr((function(t,e){t=xt(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&mi(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],a=Oa(s),c=-1,u=a.length;++c<u;){var l=a[c],f=t[l];(f===o||Ms(f,Tt[l])&&!Pt.call(t,l))&&(t[l]=s[l])}return t})),xa=Jr((function(t){return t.push(o,Xo),ke(Pa,o,t)}));function Ca(t,e,n){var r=null==t?o:_r(t,e);return r===o?n:r}function Sa(t,e){return null!=t&&di(t,e,Sr)}var Aa=Mo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ut.call(e)),t[e]=n}),Qa(nc)),Ia=Mo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ut.call(e)),Pt.call(t,e)?t[e].push(n):t[e]=[n]}),si),Da=Jr(Ir);function Ta(t){return Vs(t)?Gn(t):Br(t)}function Oa(t){return Vs(t)?Gn(t,!0):function(t){if(!Qs(t))return function(t){var e=[];if(null!=t)for(var n in xt(t))e.push(n);return e}(t);var e=_i(t),n=[];for(var r in t)("constructor"!=r||!e&&Pt.call(t,r))&&n.push(r);return n}(t)}var ja=To((function(t,e,n){Mr(t,e,n)})),Pa=To((function(t,e,n,r){Mr(t,e,n,r)})),Ba=ti((function(t,e){var n={};if(null==t)return n;var r=!1;e=Oe(e,(function(e){return e=mo(e,t),r||(r=e.length>1),e})),Io(t,ni(t),n),r&&(n=sr(n,7,Zo));for(var o=e.length;o--;)co(n,e[o]);return n})),Na=ti((function(t,e){return null==t?{}:function(t,e){return zr(t,e,(function(e,n){return Sa(t,n)}))}(t,e)}));function Ua(t,e){if(null==t)return{};var n=Oe(ni(t),(function(t){return[t]}));return e=si(e),zr(t,n,(function(t,n){return e(t,n[0])}))}var La=Go(Ta),Ra=Go(Oa);function Ma(t){return null==t?[]:Ke(t,Ta(t))}var $a=Bo((function(t,e,n){return e=e.toLowerCase(),t+(n?Fa(e):e)}));function Fa(t){return Ya(ma(t).toLowerCase())}function za(t){return(t=ma(t))&&t.replace(wt,tn).replace(Xt,"")}var Wa=Bo((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ha=Bo((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Va=Po("toLowerCase"),qa=Bo((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ja=Bo((function(t,e,n){return t+(n?" ":"")+Ya(e)})),Ga=Bo((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ya=Po("toUpperCase");function Ka(t,e,n){return t=ma(t),(e=n?o:e)===o?function(t){return ee.test(t)}(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var Xa=Jr((function(t,e){try{return ke(t,o,e)}catch(t){return Ys(t)?t:new _t(t)}})),Za=ti((function(t,e){return Ce(e,(function(e){e=Ui(e),rr(t,e,Is(t[e],t))})),t}));function Qa(t){return function(){return t}}var tc=Lo(),ec=Lo(!0);function nc(t){return t}function rc(t){return Pr("function"==typeof t?t:sr(t,1))}var oc=Jr((function(t,e){return function(n){return Ir(n,t,e)}})),ic=Jr((function(t,e){return function(n){return Ir(t,n,e)}}));function sc(t,e,n){var r=Ta(e),o=vr(e,r);null!=n||Qs(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=vr(e,Ta(e)));var i=!(Qs(n)&&"chain"in n&&!n.chain),s=Ks(t);return Ce(o,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=Ao(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,je([this.value()],arguments))})})),t}function ac(){}var cc=Fo(Oe),uc=Fo(Ae),lc=Fo(Ne);function fc(t){return wi(t)?We(Ui(t)):function(t){return function(e){return _r(e,t)}}(t)}var hc=Wo(),dc=Wo(!0);function pc(){return[]}function gc(){return!1}var yc,mc=$o((function(t,e){return t+e}),0),wc=qo("ceil"),bc=$o((function(t,e){return t/e}),1),vc=qo("floor"),_c=$o((function(t,e){return t*e}),1),Ec=qo("round"),kc=$o((function(t,e){return t-e}),0);return Rn.after=function(t,e){if("function"!=typeof e)throw new At(i);return t=da(t),function(){if(--t<1)return e.apply(this,arguments)}},Rn.ary=Ss,Rn.assign=wa,Rn.assignIn=ba,Rn.assignInWith=va,Rn.assignWith=_a,Rn.at=Ea,Rn.before=As,Rn.bind=Is,Rn.bindAll=Za,Rn.bindKey=Ds,Rn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ws(t)?t:[t]},Rn.chain=fs,Rn.chunk=function(t,e,n){e=(n?mi(t,e,n):e===o)?1:yn(da(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,c=r(he(i/e));s<i;)c[a++]=to(t,s,s+=e);return c},Rn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},Rn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return je(Ws(n)?Ao(n):[n],gr(e,1))},Rn.cond=function(t){var e=null==t?0:t.length,n=si();return t=e?Oe(t,(function(t){if("function"!=typeof t[1])throw new At(i);return[n(t[0]),t[1]]})):[],Jr((function(n){for(var r=-1;++r<e;){var o=t[r];if(ke(o[0],this,n))return ke(o[1],this,n)}}))},Rn.conforms=function(t){return function(t){var e=Ta(t);return function(n){return ar(n,t,e)}}(sr(t,1))},Rn.constant=Qa,Rn.countBy=ps,Rn.create=function(t,e){var n=Mn(t);return null==e?n:nr(n,e)},Rn.curry=function t(e,n,r){var i=Yo(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Rn.curryRight=function t(e,n,r){var i=Yo(e,16,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Rn.debounce=Ts,Rn.defaults=ka,Rn.defaultsDeep=xa,Rn.defer=Os,Rn.delay=js,Rn.difference=Mi,Rn.differenceBy=$i,Rn.differenceWith=Fi,Rn.drop=function(t,e,n){var r=null==t?0:t.length;return r?to(t,(e=n||e===o?1:da(e))<0?0:e,r):[]},Rn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?to(t,0,(e=r-(e=n||e===o?1:da(e)))<0?0:e):[]},Rn.dropRightWhile=function(t,e){return t&&t.length?lo(t,si(e,3),!0,!0):[]},Rn.dropWhile=function(t,e){return t&&t.length?lo(t,si(e,3),!0):[]},Rn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&mi(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=da(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:da(r))<0&&(r+=i),r=n>r?0:pa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Rn.filter=function(t,e){return(Ws(t)?Ie:pr)(t,si(e,3))},Rn.flatMap=function(t,e){return gr(Es(t,e),1)},Rn.flatMapDeep=function(t,e){return gr(Es(t,e),l)},Rn.flatMapDepth=function(t,e,n){return n=n===o?1:da(n),gr(Es(t,e),n)},Rn.flatten=Hi,Rn.flattenDeep=function(t){return null!=t&&t.length?gr(t,l):[]},Rn.flattenDepth=function(t,e){return null!=t&&t.length?gr(t,e=e===o?1:da(e)):[]},Rn.flip=function(t){return Yo(t,512)},Rn.flow=tc,Rn.flowRight=ec,Rn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Rn.functions=function(t){return null==t?[]:vr(t,Ta(t))},Rn.functionsIn=function(t){return null==t?[]:vr(t,Oa(t))},Rn.groupBy=bs,Rn.initial=function(t){return null!=t&&t.length?to(t,0,-1):[]},Rn.intersection=qi,Rn.intersectionBy=Ji,Rn.intersectionWith=Gi,Rn.invert=Aa,Rn.invertBy=Ia,Rn.invokeMap=vs,Rn.iteratee=rc,Rn.keyBy=_s,Rn.keys=Ta,Rn.keysIn=Oa,Rn.map=Es,Rn.mapKeys=function(t,e){var n={};return e=si(e,3),wr(t,(function(t,r,o){rr(n,e(t,r,o),t)})),n},Rn.mapValues=function(t,e){var n={};return e=si(e,3),wr(t,(function(t,r,o){rr(n,r,e(t,r,o))})),n},Rn.matches=function(t){return Lr(sr(t,1))},Rn.matchesProperty=function(t,e){return Rr(t,sr(e,1))},Rn.memoize=Ps,Rn.merge=ja,Rn.mergeWith=Pa,Rn.method=oc,Rn.methodOf=ic,Rn.mixin=sc,Rn.negate=Bs,Rn.nthArg=function(t){return t=da(t),Jr((function(e){return $r(e,t)}))},Rn.omit=Ba,Rn.omitBy=function(t,e){return Ua(t,Bs(si(e)))},Rn.once=function(t){return As(2,t)},Rn.orderBy=function(t,e,n,r){return null==t?[]:(Ws(e)||(e=null==e?[]:[e]),Ws(n=r?o:n)||(n=null==n?[]:[n]),Fr(t,e,n))},Rn.over=cc,Rn.overArgs=Ns,Rn.overEvery=uc,Rn.overSome=lc,Rn.partial=Us,Rn.partialRight=Ls,Rn.partition=ks,Rn.pick=Na,Rn.pickBy=Ua,Rn.property=fc,Rn.propertyOf=function(t){return function(e){return null==t?o:_r(t,e)}},Rn.pull=Ki,Rn.pullAll=Xi,Rn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,si(n,2)):t},Rn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,o,n):t},Rn.pullAt=Zi,Rn.range=hc,Rn.rangeRight=dc,Rn.rearg=Rs,Rn.reject=function(t,e){return(Ws(t)?Ie:pr)(t,Bs(si(e,3)))},Rn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=si(e,3);++r<i;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return Hr(t,o),n},Rn.rest=function(t,e){if("function"!=typeof t)throw new At(i);return Jr(t,e=e===o?e:da(e))},Rn.reverse=Qi,Rn.sampleSize=function(t,e,n){return e=(n?mi(t,e,n):e===o)?1:da(e),(Ws(t)?Kn:Yr)(t,e)},Rn.set=function(t,e,n){return null==t?t:Kr(t,e,n)},Rn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Kr(t,e,n,r)},Rn.shuffle=function(t){return(Ws(t)?Xn:Qr)(t)},Rn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&mi(t,e,n)?(e=0,n=r):(e=null==e?0:da(e),n=n===o?r:da(n)),to(t,e,n)):[]},Rn.sortBy=xs,Rn.sortedUniq=function(t){return t&&t.length?oo(t):[]},Rn.sortedUniqBy=function(t,e){return t&&t.length?oo(t,si(e,2)):[]},Rn.split=function(t,e,n){return n&&"number"!=typeof n&&mi(t,e,n)&&(e=n=o),(n=n===o?d:n>>>0)?(t=ma(t))&&("string"==typeof e||null!=e&&!oa(e))&&!(e=so(e))&&rn(t)?bo(fn(t),0,n):t.split(e,n):[]},Rn.spread=function(t,e){if("function"!=typeof t)throw new At(i);return e=null==e?0:yn(da(e),0),Jr((function(n){var r=n[e],o=bo(n,0,e);return r&&je(o,r),ke(t,this,o)}))},Rn.tail=function(t){var e=null==t?0:t.length;return e?to(t,1,e):[]},Rn.take=function(t,e,n){return t&&t.length?to(t,0,(e=n||e===o?1:da(e))<0?0:e):[]},Rn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?to(t,(e=r-(e=n||e===o?1:da(e)))<0?0:e,r):[]},Rn.takeRightWhile=function(t,e){return t&&t.length?lo(t,si(e,3),!1,!0):[]},Rn.takeWhile=function(t,e){return t&&t.length?lo(t,si(e,3)):[]},Rn.tap=function(t,e){return e(t),t},Rn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new At(i);return Qs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ts(t,e,{leading:r,maxWait:e,trailing:o})},Rn.thru=hs,Rn.toArray=fa,Rn.toPairs=La,Rn.toPairsIn=Ra,Rn.toPath=function(t){return Ws(t)?Oe(t,Ui):aa(t)?[t]:Ao(Ni(ma(t)))},Rn.toPlainObject=ya,Rn.transform=function(t,e,n){var r=Ws(t),o=r||Js(t)||ca(t);if(e=si(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:Qs(t)&&Ks(i)?Mn(Ht(t)):{}}return(o?Ce:wr)(t,(function(t,r,o){return e(n,t,r,o)})),n},Rn.unary=function(t){return Ss(t,1)},Rn.union=ts,Rn.unionBy=es,Rn.unionWith=ns,Rn.uniq=function(t){return t&&t.length?ao(t):[]},Rn.uniqBy=function(t,e){return t&&t.length?ao(t,si(e,2)):[]},Rn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?ao(t,o,e):[]},Rn.unset=function(t,e){return null==t||co(t,e)},Rn.unzip=rs,Rn.unzipWith=os,Rn.update=function(t,e,n){return null==t?t:uo(t,e,yo(n))},Rn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:uo(t,e,yo(n),r)},Rn.values=Ma,Rn.valuesIn=function(t){return null==t?[]:Ke(t,Oa(t))},Rn.without=is,Rn.words=Ka,Rn.wrap=function(t,e){return Us(yo(e),t)},Rn.xor=ss,Rn.xorBy=as,Rn.xorWith=cs,Rn.zip=us,Rn.zipObject=function(t,e){return po(t||[],e||[],Qn)},Rn.zipObjectDeep=function(t,e){return po(t||[],e||[],Kr)},Rn.zipWith=ls,Rn.entries=La,Rn.entriesIn=Ra,Rn.extend=ba,Rn.extendWith=va,sc(Rn,Rn),Rn.add=mc,Rn.attempt=Xa,Rn.camelCase=$a,Rn.capitalize=Fa,Rn.ceil=wc,Rn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=ga(n))==n?n:0),e!==o&&(e=(e=ga(e))==e?e:0),ir(ga(t),e,n)},Rn.clone=function(t){return sr(t,4)},Rn.cloneDeep=function(t){return sr(t,5)},Rn.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:o)},Rn.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:o)},Rn.conformsTo=function(t,e){return null==e||ar(t,e,Ta(e))},Rn.deburr=za,Rn.defaultTo=function(t,e){return null==t||t!=t?e:t},Rn.divide=bc,Rn.endsWith=function(t,e,n){t=ma(t),e=so(e);var r=t.length,i=n=n===o?r:ir(da(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Rn.eq=Ms,Rn.escape=function(t){return(t=ma(t))&&G.test(t)?t.replace(q,en):t},Rn.escapeRegExp=function(t){return(t=ma(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Rn.every=function(t,e,n){var r=Ws(t)?Ae:hr;return n&&mi(t,e,n)&&(e=o),r(t,si(e,3))},Rn.find=gs,Rn.findIndex=zi,Rn.findKey=function(t,e){return Le(t,si(e,3),wr)},Rn.findLast=ys,Rn.findLastIndex=Wi,Rn.findLastKey=function(t,e){return Le(t,si(e,3),br)},Rn.floor=vc,Rn.forEach=ms,Rn.forEachRight=ws,Rn.forIn=function(t,e){return null==t?t:yr(t,si(e,3),Oa)},Rn.forInRight=function(t,e){return null==t?t:mr(t,si(e,3),Oa)},Rn.forOwn=function(t,e){return t&&wr(t,si(e,3))},Rn.forOwnRight=function(t,e){return t&&br(t,si(e,3))},Rn.get=Ca,Rn.gt=$s,Rn.gte=Fs,Rn.has=function(t,e){return null!=t&&di(t,e,Cr)},Rn.hasIn=Sa,Rn.head=Vi,Rn.identity=nc,Rn.includes=function(t,e,n,r){t=Vs(t)?t:Ma(t),n=n&&!r?da(n):0;var o=t.length;return n<0&&(n=yn(o+n,0)),sa(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Me(t,e,n)>-1},Rn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:da(n);return o<0&&(o=yn(r+o,0)),Me(t,e,o)},Rn.inRange=function(t,e,n){return e=ha(e),n===o?(n=e,e=0):n=ha(n),function(t,e,n){return t>=mn(e,n)&&t<yn(e,n)}(t=ga(t),e,n)},Rn.invoke=Da,Rn.isArguments=zs,Rn.isArray=Ws,Rn.isArrayBuffer=Hs,Rn.isArrayLike=Vs,Rn.isArrayLikeObject=qs,Rn.isBoolean=function(t){return!0===t||!1===t||ta(t)&&kr(t)==m},Rn.isBuffer=Js,Rn.isDate=Gs,Rn.isElement=function(t){return ta(t)&&1===t.nodeType&&!ra(t)},Rn.isEmpty=function(t){if(null==t)return!0;if(Vs(t)&&(Ws(t)||"string"==typeof t||"function"==typeof t.splice||Js(t)||ca(t)||zs(t)))return!t.length;var e=hi(t);if(e==E||e==A)return!t.size;if(_i(t))return!Br(t).length;for(var n in t)if(Pt.call(t,n))return!1;return!0},Rn.isEqual=function(t,e){return Tr(t,e)},Rn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Tr(t,e,o,n):!!r},Rn.isError=Ys,Rn.isFinite=function(t){return"number"==typeof t&&Ue(t)},Rn.isFunction=Ks,Rn.isInteger=Xs,Rn.isLength=Zs,Rn.isMap=ea,Rn.isMatch=function(t,e){return t===e||Or(t,e,ci(e))},Rn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Or(t,e,ci(e),n)},Rn.isNaN=function(t){return na(t)&&t!=+t},Rn.isNative=function(t){if(vi(t))throw new _t("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(t)},Rn.isNil=function(t){return null==t},Rn.isNull=function(t){return null===t},Rn.isNumber=na,Rn.isObject=Qs,Rn.isObjectLike=ta,Rn.isPlainObject=ra,Rn.isRegExp=oa,Rn.isSafeInteger=function(t){return Xs(t)&&t>=-9007199254740991&&t<=f},Rn.isSet=ia,Rn.isString=sa,Rn.isSymbol=aa,Rn.isTypedArray=ca,Rn.isUndefined=function(t){return t===o},Rn.isWeakMap=function(t){return ta(t)&&hi(t)==T},Rn.isWeakSet=function(t){return ta(t)&&"[object WeakSet]"==kr(t)},Rn.join=function(t,e){return null==t?"":He.call(t,e)},Rn.kebabCase=Wa,Rn.last=Yi,Rn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=da(n))<0?yn(r+i,0):mn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Re(t,Fe,i,!0)},Rn.lowerCase=Ha,Rn.lowerFirst=Va,Rn.lt=ua,Rn.lte=la,Rn.max=function(t){return t&&t.length?dr(t,nc,xr):o},Rn.maxBy=function(t,e){return t&&t.length?dr(t,si(e,2),xr):o},Rn.mean=function(t){return ze(t,nc)},Rn.meanBy=function(t,e){return ze(t,si(e,2))},Rn.min=function(t){return t&&t.length?dr(t,nc,Nr):o},Rn.minBy=function(t,e){return t&&t.length?dr(t,si(e,2),Nr):o},Rn.stubArray=pc,Rn.stubFalse=gc,Rn.stubObject=function(){return{}},Rn.stubString=function(){return""},Rn.stubTrue=function(){return!0},Rn.multiply=_c,Rn.nth=function(t,e){return t&&t.length?$r(t,da(e)):o},Rn.noConflict=function(){return fe._===this&&(fe._=Rt),this},Rn.noop=ac,Rn.now=Cs,Rn.pad=function(t,e,n){t=ma(t);var r=(e=da(e))?ln(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return zo(de(o),n)+t+zo(he(o),n)},Rn.padEnd=function(t,e,n){t=ma(t);var r=(e=da(e))?ln(t):0;return e&&r<e?t+zo(e-r,n):t},Rn.padStart=function(t,e,n){t=ma(t);var r=(e=da(e))?ln(t):0;return e&&r<e?zo(e-r,n)+t:t},Rn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(ma(t).replace(rt,""),e||0)},Rn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&mi(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ha(t),e===o?(e=t,t=0):e=ha(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=vn();return mn(t+i*(e-t+ae("1e-"+((i+"").length-1))),e)}return Vr(t,e)},Rn.reduce=function(t,e,n){var r=Ws(t)?Pe:Ve,o=arguments.length<3;return r(t,si(e,4),n,o,lr)},Rn.reduceRight=function(t,e,n){var r=Ws(t)?Be:Ve,o=arguments.length<3;return r(t,si(e,4),n,o,fr)},Rn.repeat=function(t,e,n){return e=(n?mi(t,e,n):e===o)?1:da(e),qr(ma(t),e)},Rn.replace=function(){var t=arguments,e=ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Rn.result=function(t,e,n){var r=-1,i=(e=mo(e,t)).length;for(i||(i=1,t=o);++r<i;){var s=null==t?o:t[Ui(e[r])];s===o&&(r=i,s=n),t=Ks(s)?s.call(t):s}return t},Rn.round=Ec,Rn.runInContext=t,Rn.sample=function(t){return(Ws(t)?Yn:Gr)(t)},Rn.size=function(t){if(null==t)return 0;if(Vs(t))return sa(t)?ln(t):t.length;var e=hi(t);return e==E||e==A?t.size:Br(t).length},Rn.snakeCase=qa,Rn.some=function(t,e,n){var r=Ws(t)?Ne:eo;return n&&mi(t,e,n)&&(e=o),r(t,si(e,3))},Rn.sortedIndex=function(t,e){return no(t,e)},Rn.sortedIndexBy=function(t,e,n){return ro(t,e,si(n,2))},Rn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=no(t,e);if(r<n&&Ms(t[r],e))return r}return-1},Rn.sortedLastIndex=function(t,e){return no(t,e,!0)},Rn.sortedLastIndexBy=function(t,e,n){return ro(t,e,si(n,2),!0)},Rn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=no(t,e,!0)-1;if(Ms(t[n],e))return n}return-1},Rn.startCase=Ja,Rn.startsWith=function(t,e,n){return t=ma(t),n=null==n?0:ir(da(n),0,t.length),e=so(e),t.slice(n,n+e.length)==e},Rn.subtract=kc,Rn.sum=function(t){return t&&t.length?qe(t,nc):0},Rn.sumBy=function(t,e){return t&&t.length?qe(t,si(e,2)):0},Rn.template=function(t,e,n){var r=Rn.templateSettings;n&&mi(t,e,n)&&(e=o),t=ma(t),e=va({},e,r,Ko);var i,s,a=va({},e.imports,r.imports,Ko),c=Ta(a),u=Ke(a,c),l=0,f=e.interpolate||bt,h="__p += '",d=Ct((e.escape||bt).source+"|"+f.source+"|"+(f===X?ft:bt).source+"|"+(e.evaluate||bt).source+"|$","g"),p="//# sourceURL="+(Pt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(d,(function(e,n,r,o,a,c){return r||(r=o),h+=t.slice(l,c).replace(vt,nn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),h+="';\n";var g=Pt.call(e,"variable")&&e.variable;if(g){if(ut.test(g))throw new _t("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(z,""):h).replace(W,"$1").replace(H,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Xa((function(){return Et(c,p+"return "+h).apply(o,u)}));if(y.source=h,Ys(y))throw y;return y},Rn.times=function(t,e){if((t=da(t))<1||t>f)return[];var n=d,r=mn(t,d);e=si(e),t-=d;for(var o=Je(r,e);++n<t;)e(n);return o},Rn.toFinite=ha,Rn.toInteger=da,Rn.toLength=pa,Rn.toLower=function(t){return ma(t).toLowerCase()},Rn.toNumber=ga,Rn.toSafeInteger=function(t){return t?ir(da(t),-9007199254740991,f):0===t?t:0},Rn.toString=ma,Rn.toUpper=function(t){return ma(t).toUpperCase()},Rn.trim=function(t,e,n){if((t=ma(t))&&(n||e===o))return Ge(t);if(!t||!(e=so(e)))return t;var r=fn(t),i=fn(e);return bo(r,Ze(r,i),Qe(r,i)+1).join("")},Rn.trimEnd=function(t,e,n){if((t=ma(t))&&(n||e===o))return t.slice(0,hn(t)+1);if(!t||!(e=so(e)))return t;var r=fn(t);return bo(r,0,Qe(r,fn(e))+1).join("")},Rn.trimStart=function(t,e,n){if((t=ma(t))&&(n||e===o))return t.replace(rt,"");if(!t||!(e=so(e)))return t;var r=fn(t);return bo(r,Ze(r,fn(e))).join("")},Rn.truncate=function(t,e){var n=30,r="...";if(Qs(e)){var i="separator"in e?e.separator:i;n="length"in e?da(e.length):n,r="omission"in e?so(e.omission):r}var s=(t=ma(t)).length;if(rn(t)){var a=fn(t);s=a.length}if(n>=s)return t;var c=n-ln(r);if(c<1)return r;var u=a?bo(a,0,c).join(""):t.slice(0,c);if(i===o)return u+r;if(a&&(c+=u.length-c),oa(i)){if(t.slice(c).search(i)){var l,f=u;for(i.global||(i=Ct(i.source,ma(ht.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;u=u.slice(0,h===o?c:h)}}else if(t.indexOf(so(i),c)!=c){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r},Rn.unescape=function(t){return(t=ma(t))&&J.test(t)?t.replace(V,dn):t},Rn.uniqueId=function(t){var e=++Bt;return ma(t)+e},Rn.upperCase=Ga,Rn.upperFirst=Ya,Rn.each=ms,Rn.eachRight=ws,Rn.first=Vi,sc(Rn,(yc={},wr(Rn,(function(t,e){Pt.call(Rn.prototype,e)||(yc[e]=t)})),yc),{chain:!1}),Rn.VERSION="4.17.21",Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Rn[t].placeholder=Rn})),Ce(["drop","take"],(function(t,e){zn.prototype[t]=function(n){n=n===o?1:yn(da(n),0);var r=this.__filtered__&&!e?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,d),type:t+(r.__dir__<0?"Right":"")}),r},zn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ce(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:si(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ce(["head","last"],(function(t,e){var n="take"+(e?"Right":"");zn.prototype[t]=function(){return this[n](1).value()[0]}})),Ce(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");zn.prototype[t]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(nc)},zn.prototype.find=function(t){return this.filter(t).head()},zn.prototype.findLast=function(t){return this.reverse().find(t)},zn.prototype.invokeMap=Jr((function(t,e){return"function"==typeof t?new zn(this):this.map((function(n){return Ir(n,t,e)}))})),zn.prototype.reject=function(t){return this.filter(Bs(si(t)))},zn.prototype.slice=function(t,e){t=da(t);var n=this;return n.__filtered__&&(t>0||e<0)?new zn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=da(e))<0?n.dropRight(-e):n.take(e-t)),n)},zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zn.prototype.toArray=function(){return this.take(d)},wr(zn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Rn[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);i&&(Rn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,c=e instanceof zn,u=a[0],l=c||Ws(e),f=function(t){var e=i.apply(Rn,je([t],a));return r&&h?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,g=c&&!d;if(!s&&l){e=g?e:new zn(this);var y=t.apply(e,a);return y.__actions__.push({func:hs,args:[f],thisArg:o}),new Fn(y,h)}return p&&g?t.apply(this,a):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=It[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Rn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ws(o)?o:[],t)}return this[n]((function(n){return e.apply(Ws(n)?n:[],t)}))}})),wr(zn.prototype,(function(t,e){var n=Rn[e];if(n){var r=n.name+"";Pt.call(Dn,r)||(Dn[r]=[]),Dn[r].push({name:e,func:n})}})),Dn[Ro(o,2).name]=[{name:"wrapper",func:o}],zn.prototype.clone=function(){var t=new zn(this.__wrapped__);return t.__actions__=Ao(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ao(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ao(this.__views__),t},zn.prototype.reverse=function(){if(this.__filtered__){var t=new zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ws(t),r=e<0,o=n?t.length:0,i=function(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=mn(e,t+s);break;case"takeRight":t=yn(t,e-s)}}return{start:t,end:e}}(0,o,this.__views__),s=i.start,a=i.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,d=mn(c,this.__takeCount__);if(!n||!r&&o==c&&d==c)return fo(t,this.__actions__);var p=[];t:for(;c--&&h<d;){for(var g=-1,y=t[u+=e];++g<f;){var m=l[g],w=m.iteratee,b=m.type,v=w(y);if(2==b)y=v;else if(!v){if(1==b)continue t;break t}}p[h++]=y}return p},Rn.prototype.at=ds,Rn.prototype.chain=function(){return fs(this)},Rn.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},Rn.prototype.next=function(){this.__values__===o&&(this.__values__=fa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Rn.prototype.plant=function(t){for(var e,n=this;n instanceof $n;){var r=Ri(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Rn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zn){var e=t;return this.__actions__.length&&(e=new zn(this)),(e=e.reverse()).__actions__.push({func:hs,args:[Qi],thisArg:o}),new Fn(e,this.__chain__)}return this.thru(Qi)},Rn.prototype.toJSON=Rn.prototype.valueOf=Rn.prototype.value=function(){return fo(this.__wrapped__,this.__actions__)},Rn.prototype.first=Rn.prototype.head,Yt&&(Rn.prototype[Yt]=function(){return this}),Rn}();fe._=pn,(r=function(){return pn}.call(e,n,e,t))===o||(t.exports=r)}.call(this)},308:t=>{t.exports=function(){}},3390:(t,e,n)=>{"use strict";var r=n(3902),o=Object.create,i=Object.prototype.hasOwnProperty;t.exports=function(t){var e,n=0,s=1,a=o(null),c=o(null),u=0;return t=r(t),{hit:function(r){var o=c[r],l=++u;if(a[l]=r,c[r]=l,!o){if(++n<=t)return;return r=a[s],e(r),r}if(delete a[o],s===o)for(;!i.call(a,++s);)continue},delete:e=function(t){var e=c[t];if(e&&(delete a[e],delete c[t],--n,s===e)){if(!n)return u=0,void(s=1);for(;!i.call(a,++s);)continue}},clear:function(){n=0,s=1,a=o(null),c=o(null),u=0}}}},4758:(t,e,n)=>{"use strict";var r=n(4616),o=n(1465),i=n(1726),s=n(5459),a=n(7473),c=Array.prototype.slice,u=Function.prototype.apply,l=Object.create;n(3992).async=function(t,e){var n,f,h,d=l(null),p=l(null),g=e.memoized,y=e.original;e.memoized=s((function(t){var e=arguments,r=e[e.length-1];return"function"==typeof r&&(n=r,e=c.call(e,0,-1)),g.apply(f=this,h=e)}),g);try{i(e.memoized,g)}catch(t){}e.on("get",(function(t){var r,o,i;if(n){if(d[t])return"function"==typeof d[t]?d[t]=[d[t],n]:d[t].push(n),void(n=null);r=n,o=f,i=h,n=f=h=null,a((function(){var s;hasOwnProperty.call(p,t)?(s=p[t],e.emit("getasync",t,i,o),u.call(r,s.context,s.args)):(n=r,f=o,h=i,g.apply(o,i))}))}})),e.original=function(){var t,o,i,s;return n?(t=r(arguments),o=function t(n){var o,i,c=t.id;if(null!=c){if(delete t.id,o=d[c],delete d[c],o)return i=r(arguments),e.has(c)&&(n?e.delete(c):(p[c]={context:this,args:i},e.emit("setasync",c,"function"==typeof o?1:o.length))),"function"==typeof o?s=u.call(o,this,i):o.forEach((function(t){s=u.call(t,this,i)}),this),s}else a(u.bind(t,this,arguments))},i=n,n=f=h=null,t.push(o),s=u.call(y,this,t),o.cb=i,n=o,s):u.call(y,this,arguments)},e.on("set",(function(t){n?(d[t]?"function"==typeof d[t]?d[t]=[d[t],n.cb]:d[t].push(n.cb):d[t]=n.cb,delete n.cb,n.id=t,n=null):e.delete(t)})),e.on("delete",(function(t){var n;hasOwnProperty.call(d,t)||p[t]&&(n=p[t],delete p[t],e.emit("deleteasync",t,c.call(n.args,1)))})),e.on("clear",(function(){var t=p;p=l(null),e.emit("clearasync",o(t,(function(t){return c.call(t.args,1)})))}))}},5545:(t,e,n)=>{"use strict";var r=n(1290),o=n(7031),i=n(3992),s=Function.prototype.apply;i.dispose=function(t,e,n){var a;if(r(t),n.async&&i.async||n.promise&&i.promise)return e.on("deleteasync",a=function(e,n){s.call(t,null,n)}),void e.on("clearasync",(function(t){o(t,(function(t,e){a(e,t)}))}));e.on("delete",a=function(e,n){t(n)}),e.on("clear",(function(t){o(t,(function(t,e){a(e,t)}))}))}},9333:(t,e,n)=>{"use strict";var r=n(4616),o=n(7031),i=n(7473),s=n(6141),a=n(4284),c=n(3992),u=Function.prototype,l=Math.max,f=Math.min,h=Object.create;c.maxAge=function(t,e,n){var d,p,g,y;(t=a(t))&&(d=h(null),p=n.async&&c.async||n.promise&&c.promise?"async":"",e.on("set"+p,(function(n){d[n]=setTimeout((function(){e.delete(n)}),t),"function"==typeof d[n].unref&&d[n].unref(),y&&(y[n]&&"nextTick"!==y[n]&&clearTimeout(y[n]),y[n]=setTimeout((function(){delete y[n]}),g),"function"==typeof y[n].unref&&y[n].unref())})),e.on("delete"+p,(function(t){clearTimeout(d[t]),delete d[t],y&&("nextTick"!==y[t]&&clearTimeout(y[t]),delete y[t])})),n.preFetch&&(g=!0===n.preFetch||isNaN(n.preFetch)?.333:l(f(Number(n.preFetch),1),0))&&(y={},g=(1-g)*t,e.on("get"+p,(function(t,o,a){y[t]||(y[t]="nextTick",i((function(){var i;"nextTick"===y[t]&&(delete y[t],e.delete(t),n.async&&(o=r(o)).push(u),i=e.memoized.apply(a,o),n.promise&&s(i)&&("function"==typeof i.done?i.done(u,u):i.then(u,u)))})))}))),e.on("clear"+p,(function(){o(d,(function(t){clearTimeout(t)})),d={},y&&(o(y,(function(t){"nextTick"!==t&&clearTimeout(t)})),y={})})))}},3896:(t,e,n)=>{"use strict";var r=n(3902),o=n(3390),i=n(3992);i.max=function(t,e,n){var s,a,c;(t=r(t))&&(a=o(t),s=n.async&&i.async||n.promise&&i.promise?"async":"",e.on("set"+s,c=function(t){void 0!==(t=a.hit(t))&&e.delete(t)}),e.on("get"+s,c),e.on("delete"+s,a.delete),e.on("clear"+s,a.clear))}},3217:(t,e,n)=>{"use strict";var r=n(1465),o=n(9474),i=n(7197),s=n(8979),a=n(6141),c=n(7473),u=Object.create,l=o("then","then:finally","done","done:finally");n(3992).promise=function(t,e){var n=u(null),o=u(null),f=u(null);if(!0===t)t=null;else if(t=i(t),!l[t])throw new TypeError("'"+s(t)+"' is not valid promise mode");e.on("set",(function(r,i,s){var u=!1;if(!a(s))return o[r]=s,void e.emit("setasync",r,1);n[r]=1,f[r]=s;var l=function(t){var i=n[r];if(u)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");i&&(delete n[r],o[r]=t,e.emit("setasync",r,i))},h=function(){u=!0,n[r]&&(delete n[r],delete f[r],e.delete(r))},d=t;if(d||(d="then"),"then"===d){var p=function(){c(h)};"function"==typeof(s=s.then((function(t){c(l.bind(this,t))}),p)).finally&&s.finally(p)}else if("done"===d){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");s.done(l,h)}else if("done:finally"===d){if("function"!=typeof s.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof s.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");s.done(l),s.finally(h)}})),e.on("get",(function(t,r,o){var i;if(n[t])++n[t];else{i=f[t];var s=function(){e.emit("getasync",t,r,o)};a(i)?"function"==typeof i.done?i.done(s):i.then((function(){c(s)})):s()}})),e.on("delete",(function(t){if(delete f[t],n[t])delete n[t];else if(hasOwnProperty.call(o,t)){var r=o[t];delete o[t],e.emit("deleteasync",t,[r])}})),e.on("clear",(function(){var t=o;o=u(null),n=u(null),f=u(null),e.emit("clearasync",r(t,(function(t){return[t]})))}))}},9425:(t,e,n)=>{"use strict";var r=n(1804),o=n(3992),i=Object.create,s=Object.defineProperties;o.refCounter=function(t,e,n){var a,c;a=i(null),c=n.async&&o.async||n.promise&&o.promise?"async":"",e.on("set"+c,(function(t,e){a[t]=e||1})),e.on("get"+c,(function(t){++a[t]})),e.on("delete"+c,(function(t){delete a[t]})),e.on("clear"+c,(function(){a={}})),s(e.memoized,{deleteRef:r((function(){var t=e.get(arguments);return null===t?null:a[t]?! --a[t]&&(e.delete(t),!0):null})),getRefCount:r((function(){var t=e.get(arguments);return null===t?0:a[t]?a[t]:0}))})}},4156:(t,e,n)=>{"use strict";var r=n(5516),o=n(5149),i=n(5730);t.exports=function(t){var e,s=r(arguments[1]);return s.normalizer||0!==(e=s.length=o(s.length,t.length,s.async))&&(s.primitive?!1===e?s.normalizer=n(6289):e>1&&(s.normalizer=n(5398)(e)):s.normalizer=!1===e?n(7996)():1===e?n(9009)():n(1070)(e)),s.async&&n(4758),s.promise&&n(3217),s.dispose&&n(5545),s.maxAge&&n(9333),s.max&&n(3896),s.refCounter&&n(9425),i(t,s)}},5340:(t,e,n)=>{"use strict";var r=n(6380),o=n(5459),i=n(1804),s=n(8370).methods,a=n(1923),c=n(8544),u=Function.prototype.apply,l=Function.prototype.call,f=Object.create,h=Object.defineProperties,d=s.on,p=s.emit;t.exports=function(t,e,n){var s,g,y,m,w,b,v,_,E,k,x,C,S,A,I,D=f(null);return g=!1!==e?e:isNaN(t.length)?1:t.length,n.normalizer&&(k=c(n.normalizer),y=k.get,m=k.set,w=k.delete,b=k.clear),null!=n.resolvers&&(I=a(n.resolvers)),A=y?o((function(e){var n,o,i=arguments;if(I&&(i=I(i)),null!==(n=y(i))&&hasOwnProperty.call(D,n))return x&&s.emit("get",n,i,this),D[n];if(o=1===i.length?l.call(t,this,i[0]):u.call(t,this,i),null===n){if(null!==(n=y(i)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=m(i)}else if(hasOwnProperty.call(D,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return D[n]=o,C&&s.emit("set",n,null,o),o}),g):0===e?function(){var e;if(hasOwnProperty.call(D,"data"))return x&&s.emit("get","data",arguments,this),D.data;if(e=arguments.length?u.call(t,this,arguments):l.call(t,this),hasOwnProperty.call(D,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return D.data=e,C&&s.emit("set","data",null,e),e}:function(e){var n,o,i=arguments;if(I&&(i=I(arguments)),o=String(i[0]),hasOwnProperty.call(D,o))return x&&s.emit("get",o,i,this),D[o];if(n=1===i.length?l.call(t,this,i[0]):u.call(t,this,i),hasOwnProperty.call(D,o))throw r("Circular invocation","CIRCULAR_INVOCATION");return D[o]=n,C&&s.emit("set",o,null,n),n},s={original:t,memoized:A,profileName:n.profileName,get:function(t){return I&&(t=I(t)),y?y(t):String(t[0])},has:function(t){return hasOwnProperty.call(D,t)},delete:function(t){var e;hasOwnProperty.call(D,t)&&(w&&w(t),e=D[t],delete D[t],S&&s.emit("delete",t,e))},clear:function(){var t=D;b&&b(),D=f(null),s.emit("clear",t)},on:function(t,e){return"get"===t?x=!0:"set"===t?C=!0:"delete"===t&&(S=!0),d.call(this,t,e)},emit:p,updateEnv:function(){t=s.original}},v=y?o((function(t){var e,n=arguments;I&&(n=I(n)),null!==(e=y(n))&&s.delete(e)}),g):0===e?function(){return s.delete("data")}:function(t){return I&&(t=I(arguments)[0]),s.delete(t)},_=o((function(){var t,n=arguments;return 0===e?D.data:(I&&(n=I(n)),t=y?y(n):String(n[0]),D[t])})),E=o((function(){var t,n=arguments;return 0===e?s.has("data"):(I&&(n=I(n)),null!==(t=y?y(n):String(n[0]))&&s.has(t))})),h(A,{__memoized__:i(!0),delete:i(v),clear:i(s.clear),_get:i(_),_has:i(E)}),s}},3992:()=>{},5149:(t,e,n)=>{"use strict";var r=n(3902);t.exports=function(t,e,n){var o;return isNaN(t)?(o=e)>=0?n&&o?o-1:o:1:!1!==t&&r(t)}},8544:(t,e,n)=>{"use strict";var r=n(1290);t.exports=function(t){var e;return"function"==typeof t?{set:t,get:t}:(e={get:r(t.get)},void 0!==t.set?(e.set=r(t.set),t.delete&&(e.delete=r(t.delete)),t.clear&&(e.clear=r(t.clear)),e):(e.set=e.get,e))}},1923:(t,e,n)=>{"use strict";var r,o=n(5083),i=n(6914),s=n(1290),a=Array.prototype.slice;r=function(t){return this.map((function(e,n){return e?e(t[n]):t[n]})).concat(a.call(t,this.length))},t.exports=function(t){return(t=o(t)).forEach((function(t){i(t)&&s(t)})),r.bind(t)}},9009:(t,e,n)=>{"use strict";var r=n(2041);t.exports=function(){var t=0,e=[],n=[];return{get:function(t){var o=r.call(e,t[0]);return-1===o?null:n[o]},set:function(r){return e.push(r[0]),n.push(++t),t},delete:function(t){var o=r.call(n,t);-1!==o&&(e.splice(o,1),n.splice(o,1))},clear:function(){e=[],n=[]}}}},1070:(t,e,n)=>{"use strict";var r=n(2041),o=Object.create;t.exports=function(t){var e=0,n=[[],[]],i=o(null);return{get:function(e){for(var o,i=0,s=n;i<t-1;){if(-1===(o=r.call(s[0],e[i])))return null;s=s[1][o],++i}return-1===(o=r.call(s[0],e[i]))?null:s[1][o]||null},set:function(o){for(var s,a=0,c=n;a<t-1;)-1===(s=r.call(c[0],o[a]))&&(s=c[0].push(o[a])-1,c[1].push([[],[]])),c=c[1][s],++a;return-1===(s=r.call(c[0],o[a]))&&(s=c[0].push(o[a])-1),c[1][s]=++e,i[e]=o,e},delete:function(e){for(var o,s=0,a=n,c=[],u=i[e];s<t-1;){if(-1===(o=r.call(a[0],u[s])))return;c.push(a,o),a=a[1][o],++s}if(-1!==(o=r.call(a[0],u[s]))){for(e=a[1][o],a[0].splice(o,1),a[1].splice(o,1);!a[0].length&&c.length;)o=c.pop(),(a=c.pop())[0].splice(o,1),a[1].splice(o,1);delete i[e]}},clear:function(){n=[[],[]],i=o(null)}}}},5398:t=>{"use strict";t.exports=function(t){return t?function(e){for(var n=String(e[0]),r=0,o=t;--o;)n+=""+e[++r];return n}:function(){return""}}},7996:(t,e,n)=>{"use strict";var r=n(2041),o=Object.create;t.exports=function(){var t=0,e=[],n=o(null);return{get:function(t){var n,o=0,i=e,s=t.length;if(0===s)return i[s]||null;if(i=i[s]){for(;o<s-1;){if(-1===(n=r.call(i[0],t[o])))return null;i=i[1][n],++o}return-1===(n=r.call(i[0],t[o]))?null:i[1][n]||null}return null},set:function(o){var i,s=0,a=e,c=o.length;if(0===c)a[c]=++t;else{for(a[c]||(a[c]=[[],[]]),a=a[c];s<c-1;)-1===(i=r.call(a[0],o[s]))&&(i=a[0].push(o[s])-1,a[1].push([[],[]])),a=a[1][i],++s;-1===(i=r.call(a[0],o[s]))&&(i=a[0].push(o[s])-1),a[1][i]=++t}return n[t]=o,t},delete:function(t){var o,i=0,s=e,a=n[t],c=a.length,u=[];if(0===c)delete s[c];else if(s=s[c]){for(;i<c-1;){if(-1===(o=r.call(s[0],a[i])))return;u.push(s,o),s=s[1][o],++i}if(-1===(o=r.call(s[0],a[i])))return;for(t=s[1][o],s[0].splice(o,1),s[1].splice(o,1);!s[0].length&&u.length;)o=u.pop(),(s=u.pop())[0].splice(o,1),s[1].splice(o,1)}delete n[t]},clear:function(){e=[],n=o(null)}}}},6289:t=>{"use strict";t.exports=function(t){var e,n,r=t.length;if(!r)return"";for(e=String(t[n=0]);--r;)e+=""+t[++n];return e}},5730:(t,e,n)=>{"use strict";var r=n(1290),o=n(7031),i=n(3992),s=n(5340),a=n(5149);t.exports=function t(e){var n,c,u;if(r(e),(n=Object(arguments[1])).async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(e,"__memoized__")&&!n.force?e:(c=a(n.length,e.length,n.async&&i.async),u=s(e,c,n),o(i,(function(t,e){n[e]&&t(n[e],u,n)})),t.__profiler__&&t.__profiler__(u),u.updateEnv(),u.memoized)}},942:function(t,e,n){"use strict";const r=n(3310),{hasOwnProperty:o}=Object.prototype,{propertyIsEnumerable:i}=Object,s=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0}),a=this,c={concatArrays:!1,ignoreUndefined:!1},u=t=>{const e=[];for(const n in t)o.call(t,n)&&e.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(t);for(const r of n)i.call(t,r)&&e.push(r)}return e};function l(t){return Array.isArray(t)?function(t){const e=t.slice(0,0);return u(t).forEach((n=>{s(e,n,l(t[n]))})),e}(t):r(t)?function(t){const e=null===Object.getPrototypeOf(t)?Object.create(null):{};return u(t).forEach((n=>{s(e,n,l(t[n]))})),e}(t):t}const f=(t,e,n,r)=>(n.forEach((n=>{void 0===e[n]&&r.ignoreUndefined||(n in t&&t[n]!==Object.getPrototypeOf(t)?s(t,n,d(t[n],e[n],r)):s(t,n,l(e[n])))})),t),h=(t,e,n)=>{let r=t.slice(0,0),i=0;return[t,e].forEach((e=>{const a=[];for(let n=0;n<e.length;n++)o.call(e,n)&&(a.push(String(n)),s(r,i++,e===t?e[n]:l(e[n])));r=f(r,e,u(e).filter((t=>!a.includes(t))),n)})),r};function d(t,e,n){return n.concatArrays&&Array.isArray(t)&&Array.isArray(e)?h(t,e,n):r(e)&&r(t)?f(t,e,u(e),n):l(e)}t.exports=function(...t){const e=d(l(c),this!==a&&this||{},c);let n={_:{}};for(const o of t)if(void 0!==o){if(!r(o))throw new TypeError("`"+o+"` is not an Option Object");n=d(n,{_:o},e)}return n._}},7824:t=>{var e=1e3,n=60*e,r=60*n,o=24*r;function i(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,s){s=s||{};var a,c,u=typeof t;if("string"===u&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===u&&isFinite(t))return s.long?(a=t,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=r?i(a,c,r,"hour"):c>=n?i(a,c,n,"minute"):c>=e?i(a,c,e,"second"):a+" ms"):function(t){var i=Math.abs(t);return i>=o?Math.round(t/o)+"d":i>=r?Math.round(t/r)+"h":i>=n?Math.round(t/n)+"m":i>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},5700:(t,e,n)=>{const{Multiaddr:r}=n(6584),o=(t,e)=>e,i={ip4:o,ip6:(t,e,n,r)=>1===r.length&&"ip6"===r[0].protocol?e:`[${e}]`,tcp:(t,e,n,r,o)=>r.some((t=>["http","https","ws","wss"].includes(t.protocol)))?`${t}:${e}`:((t,e,n,r)=>{if(r&&!1===r.assumeHttp)return`tcp://${t}:${e}`;let o="tcp",i=`:${e}`;return"tcp"===n[n.length-1].protocol&&(o="443"===e?"https":"http",i="443"===e||"80"===e?"":i),`${o}://${t}${i}`})(t,e,r,o),udp:(t,e)=>`udp://${t}:${e}`,dnsaddr:o,dns4:o,dns6:o,ipfs:(t,e)=>`${t}/ipfs/${e}`,p2p:(t,e)=>`${t}/p2p/${e}`,http:t=>`http://${t}`,https:t=>`https://${t}`,ws:t=>`ws://${t}`,wss:t=>`wss://${t}`,"p2p-websocket-star":t=>`${t}/p2p-websocket-star`,"p2p-webrtc-star":t=>`${t}/p2p-webrtc-star`,"p2p-webrtc-direct":t=>`${t}/p2p-webrtc-direct`};t.exports=(t,e)=>{const n=new r(t),o=t.toString().split("/").slice(1);return n.tuples().map((t=>({protocol:o.shift(),content:t[1]?o.shift():null}))).reduce(((t,n,r,o)=>{const s=i[n.protocol];if(!s)throw new Error(`Unsupported protocol ${n.protocol}`);return s(t,n.content,r,o,e)}),"")}},8190:(t,e,n)=>{"use strict";const r=n(9918),o=n(9768),i=n(4676),{concat:s}=n(605),{toString:a}=n(2263);function c(t){const e=[],n=t.split("/").slice(1);if(1===n.length&&""===n[0])return[];for(let r=0;r<n.length;r++){const i=n[r],s=o(i);if(0!==s.size){if(r++,r>=n.length)throw b("invalid address: "+t);if(s.path){e.push([i,w(n.slice(r).join("/"))]);break}e.push([i,n[r]])}else e.push([i])}return e}function u(t){const e=[];return t.map((t=>{const n=v(t);return e.push(n.name),t.length>1&&e.push(t[1]),null})),w(e.join("/"))}function l(t){return t.map((t=>{Array.isArray(t)||(t=[t]);const e=v(t);return t.length>1?[e.code,r.toBytes(e.code,t[1])]:[e.code]}))}function f(t){return t.map((t=>{const e=v(t);return t[1]?[e.code,r.toString(e.code,t[1])]:[e.code]}))}function h(t){return y(s(t.map((t=>{const e=v(t);let n=Uint8Array.from(i.encode(e.code));return t.length>1&&(n=s([n,t[1]])),n}))))}function d(t,e){return t.size>0?t.size/8:0===t.size?0:i.decode(e)+i.decode.bytes}function p(t){const e=[];let n=0;for(;n<t.length;){const r=i.decode(t,n),s=i.decode.bytes,c=d(o(r),t.slice(n+s));if(0===c){e.push([r]),n+=s;continue}const u=t.slice(n+s,n+s+c);if(n+=c+s,n>t.length)throw b("Invalid address Uint8Array: "+a(t,"base16"));e.push([r,u])}return e}function g(t){return h(l(c(t=w(t))))}function y(t){const e=m(t);if(e)throw e;return Uint8Array.from(t)}function m(t){try{p(t)}catch(t){return t}}function w(t){return"/"+t.trim().split("/").filter((t=>t)).join("/")}function b(t){return new Error("Error parsing address: "+t)}function v(t){return o(t[0])}t.exports={stringToStringTuples:c,stringTuplesToString:u,tuplesToStringTuples:f,stringTuplesToTuples:l,bytesToTuples:p,tuplesToBytes:h,bytesToString:function(t){return u(f(p(t)))},stringToBytes:g,fromString:function(t){return g(t)},fromBytes:y,validateBytes:m,isValidBytes:function(t){return void 0===m(t)},cleanPath:w,ParseError:b,protoFromTuple:v,sizeForAddr:d}},9918:(t,e,n)=>{"use strict";const r=n(3692),o=n(9768),{CID:i}=n(1362),{base32:s}=n(2817),{base58btc:a}=n(9086),c=n(8924),u=n(4676),{toString:l}=n(2263),{fromString:f}=n(2217),{concat:h}=n(605);function d(t,e){return e instanceof Uint8Array?d.toString(t,e):d.toBytes(t,e)}function p(t){const e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t),new Uint8Array(e)}function g(t){return new DataView(t.buffer).getUint16(t.byteOffset)}t.exports=d,d.toString=function(t,e){switch(o(t).code){case 4:case 41:return function(t){const e=r.toString(t);if(!e||!r.isIP(e))throw new Error("invalid ip address");return e}(e);case 6:case 273:case 33:case 132:return g(e).toString();case 53:case 54:case 55:case 56:case 400:case 777:return function(t){const e=u.decode(t);if((t=t.slice(u.decode.bytes)).length!==e)throw new Error("inconsistent lengths");return l(t)}(e);case 421:return function(t){const e=u.decode(t),n=t.slice(u.decode.bytes);if(n.length!==e)throw new Error("inconsistent lengths");return l(n,"base58btc")}(e);case 444:case 445:return function(t){const e=t.slice(0,t.length-2),n=t.slice(t.length-2);return l(e,"base32")+":"+g(n)}(e);default:return l(e,"base16")}},d.toBytes=function(t,e){switch(o(t).code){case 4:case 41:return function(t){if(!r.isIP(t))throw new Error("invalid ip address");return r.toBytes(t)}(e);case 6:case 273:case 33:case 132:return p(parseInt(e,10));case 53:case 54:case 55:case 56:case 400:case 777:return function(t){const e=f(t),n=Uint8Array.from(u.encode(e.length));return h([n,e],n.length+e.length)}(e);case 421:return function(t){let e;e="Q"===t[0]||"1"===t[0]?c.decode(a.decode(`z${t}`)).bytes:i.parse(t).multihash.bytes;const n=Uint8Array.from(u.encode(e.length));return h([n,e],n.length+e.length)}(e);case 444:return function(t){const e=t.split(":");if(2!==e.length)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(16!==e[0].length)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");const n=s.decode("b"+e[0]),r=parseInt(e[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const o=p(r);return h([n,o],n.length+o.length)}(e);case 445:return function(t){const e=t.split(":");if(2!==e.length)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(56!==e[0].length)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");const n=s.decode("b"+e[0]),r=parseInt(e[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const o=p(r);return h([n,o],n.length+o.length)}(e);default:return f(e,"base16")}}},6584:(t,e,n)=>{"use strict";const r=n(8190),o=n(9768),i=n(4676),{CID:s}=n(1362),{base58btc:a}=n(9086),c=n(2114),u=Symbol.for("nodejs.util.inspect.custom"),{toString:l}=n(2263),{equals:f}=n(9588),h=new Map,d=Symbol.for("@multiformats/js-multiaddr/multiaddr");class p{constructor(t){if(null==t&&(t=""),Object.defineProperty(this,d,{value:!0}),t instanceof Uint8Array)this.bytes=r.fromBytes(t);else if("string"==typeof t){if(t.length>0&&"/"!==t.charAt(0))throw new Error(`multiaddr "${t}" must start with a "/"`);this.bytes=r.fromString(t)}else{if(!p.isMultiaddr(t))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=r.fromBytes(t.bytes)}}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){const t={},e=this.toString().split("/");return t.family="ip4"===e[1]?4:6,t.host=e[2],t.transport=e[3],t.port=parseInt(e[4]),t}protos(){return this.protoCodes().map((t=>Object.assign({},o(t))))}protoCodes(){const t=[],e=this.bytes;let n=0;for(;n<e.length;){const s=i.decode(e,n),a=i.decode.bytes,c=o(s);n+=r.sizeForAddr(c,e.slice(n+a))+a,t.push(s)}return t}protoNames(){return this.protos().map((t=>t.name))}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){const t=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(t)}encapsulate(t){return t=new p(t),new p(this.toString()+t.toString())}decapsulate(t){const e=t.toString(),n=this.toString(),r=n.lastIndexOf(e);if(r<0)throw new Error("Address "+this+" does not contain subaddress: "+t);return new p(n.slice(0,r))}decapsulateCode(t){const e=this.tuples();for(let n=e.length-1;n>=0;n--)if(e[n][0]===t)return new p(r.tuplesToBytes(e.slice(0,n)));return this}getPeerId(){try{const t=this.stringTuples().filter((t=>t[0]===o.names.ipfs.code)),e=t.pop();if(e&&e[1]){const t=e[1];return"Q"===t[0]||"1"===t[0]?l(a.decode(`z${t}`),"base58btc"):l(s.parse(t).multihash.bytes,"base58btc")}return null}catch(t){return null}}getPath(){let t=null;try{t=this.stringTuples().filter((t=>!!o(t[0]).path))[0][1],t||(t=null)}catch(e){t=null}return t}equals(t){return f(this.bytes,t.bytes)}async resolve(){const t=this.protos().find((t=>t.resolvable));if(!t)return[this];const e=h.get(t.name);if(!e)throw c(new Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await e(this)).map((t=>new p(t)))}nodeAddress(){const t=this.protoCodes(),e=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(4!==t[0]&&41!==t[0]&&54!==t[0]&&55!==t[0])throw new Error(`no protocol with name: "'${e[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if("tcp"!==n[2]&&"udp"!==n[2])throw new Error(`no protocol with name: "'${e[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:41===t[0]||55===t[0]?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(t){const e=(t||this).protos();return!(2!==e.length||4!==e[0].code&&41!==e[0].code||6!==e[1].code&&273!==e[1].code)}static fromNodeAddress(t,e){if(!t)throw new Error("requires node address object");if(!e)throw new Error("requires transport protocol");let n;switch(t.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${t.family}' instead of 4 or 6`)}return new p("/"+[n,t.address,e,t.port].join("/"))}static isName(t){return!!p.isMultiaddr(t)&&t.protos().some((t=>t.resolvable))}static isMultiaddr(t){return t instanceof p||Boolean(t&&t[d])}[u](){return"<Multiaddr "+l(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+l(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}}p.protocols=o,p.resolvers=h,t.exports={Multiaddr:p,multiaddr:function(t){return new p(t)},protocols:o,resolvers:h}},3692:(t,e,n)=>{"use strict";const r=n(5003),{toString:o}=n(2263),i=r,s=r.v4,a=r.v6,c=function(t,e,n){let r;if(n=~~n,s(t))r=e||new Uint8Array(n+4),t.split(/\./g).map((function(t){r[n++]=255&parseInt(t,10)}));else if(a(t)){const i=t.split(":",8);let a;for(a=0;a<i.length;a++){let t;s(i[a])&&(t=c(i[a]),i[a]=o(t.slice(0,2),"base16")),t&&++a<8&&i.splice(a,0,o(t.slice(2,4),"base16"))}if(""===i[0])for(;i.length<8;)i.unshift("0");else if(""===i[i.length-1])for(;i.length<8;)i.push("0");else if(i.length<8){for(a=0;a<i.length&&""!==i[a];a++);const t=[a,"1"];for(a=9-i.length;a>0;a--)t.push("0");i.splice.apply(i,t)}for(r=e||new Uint8Array(n+16),a=0;a<i.length;a++){const t=parseInt(i[a],16);r[n++]=t>>8&255,r[n++]=255&t}}if(!r)throw Error("Invalid ip address: "+t);return r};t.exports={isIP:i,isV4:s,isV6:a,toBytes:c,toString:function(t,e,n){e=~~e,n=n||t.length-e;const r=[];let o;const i=new DataView(t.buffer);if(4===n){for(let o=0;o<n;o++)r.push(t[e+o]);o=r.join(".")}else if(16===n){for(let t=0;t<n;t+=2)r.push(i.getUint16(e+t).toString(16));o=r.join(":"),o=o.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),o=o.replace(/:{3,4}/,"::")}return o}}},9768:t=>{"use strict";function e(t){if("number"==typeof t){if(e.codes[t])return e.codes[t];throw new Error("no protocol with code: "+t)}if("string"==typeof t){if(e.names[t])return e.names[t];throw new Error("no protocol with name: "+t)}throw new Error("invalid protocol id type: "+t)}const n=-1;function r(t,e,n,r,o){return{code:t,size:e,name:n,resolvable:Boolean(r),path:Boolean(o)}}e.lengthPrefixedVarSize=n,e.V=n,e.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[53,n,"dns","resolvable"],[54,n,"dns4","resolvable"],[55,n,"dns6","resolvable"],[56,n,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,"path"],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]],e.names={},e.codes={},e.table.map((t=>{const n=r.apply(null,t);return e.codes[n.code]=n,e.names[n.name]=n,null})),e.object=r,t.exports=e},700:(t,e,n)=>{"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?t.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:t.exports={default:n(3300).default,Headers:n(3300).Headers,Request:n(3300).Request,Response:n(3300).Response}},7473:t=>{"use strict";var e=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},n=function(t){var n,r,o=document.createTextNode(""),i=0;return new t((function(){var t;if(n)r&&(n=r.concat(n));else{if(!r)return;n=r}if(r=n,n=null,"function"==typeof r)return t=r,r=null,void t();for(o.data=i=++i%2;r;)t=r.shift(),r.length||(r=null),t()})).observe(o,{characterData:!0}),function(t){e(t),n?"function"==typeof n?n=[n,t]:n.push(t):(n=t,o.data=i=++i%2)}};t.exports=function(){if("object"==typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("function"==typeof queueMicrotask)return function(t){queueMicrotask(e(t))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return n(MutationObserver);if("function"==typeof WebKitMutationObserver)return n(WebKitMutationObserver)}return"function"==typeof setImmediate?function(t){setImmediate(e(t))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(t){setTimeout(e(t),0)}:null}()},3300:(t,e,n)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();t.exports=e=r.fetch,r.fetch&&(e.default=r.fetch.bind(r)),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response},2100:(t,e,n)=>{"use strict";t.exports=n(9482)},9482:(t,e,n)=>{"use strict";var r=e;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=o,o()},1408:(t,e,n)=>{"use strict";t.exports=c;var r,o=n(9693),i=o.LongBits,s=o.utf8;function a(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function c(t){this.buf=t,this.pos=0,this.len=t.length}var u,l="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new c(t);throw Error("illegal buffer")},f=function(){return o.Buffer?function(t){return(c.create=function(t){return o.Buffer.isBuffer(t)?new r(t):l(t)})(t)}:l};function h(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw a(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw a(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function d(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=f(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},c.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw a(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},c.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},c.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw a(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},c._configure=function(t){r=t,c.create=f(),r._configure();var e=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return h.call(this)[e](!1)},uint64:function(){return h.call(this)[e](!0)},sint64:function(){return h.call(this).zzDecode()[e](!1)},fixed64:function(){return p.call(this)[e](!0)},sfixed64:function(){return p.call(this)[e](!1)}})}},593:(t,e,n)=>{"use strict";t.exports=i;var r=n(1408);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(t){r.call(this,t)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i._configure()},5054:t=>{"use strict";t.exports={}},5994:(t,e,n)=>{"use strict";e.Service=n(7948)},7948:(t,e,n)=>{"use strict";t.exports=o;var r=n(9693);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(t,a,e,n,o,i);if(a.rpcImpl)try{return a.rpcImpl(e,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return a.emit("error",t,e),s(t);if(null!==n){if(!(n instanceof o))try{n=o[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return a.emit("error",t,e),s(t)}return a.emit("data",n,e),s(null,n)}a.end(!0)}))}catch(t){return a.emit("error",t,e),void setTimeout((function(){s(t)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(t,e,n)=>{"use strict";t.exports=o;var r=n(9693);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var a=String.prototype.charCodeAt;o.fromHash=function(t){return t===s?i:new o((a.call(t,0)|a.call(t,1)<<8|a.call(t,2)<<16|a.call(t,3)<<24)>>>0,(a.call(t,4)|a.call(t,5)<<8|a.call(t,6)<<16|a.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},9693:function(t,e,n){"use strict";var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:(t,e,n)=>{"use strict";t.exports=f;var r,o=n(9693),i=o.LongBits,s=o.base64,a=o.utf8;function c(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function u(){}function l(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function f(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var h=function(){return o.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f}};function d(t,e,n){e[n]=255&t}function p(t,e){this.len=t,this.next=void 0,this.val=e}function g(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function y(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}f.create=h(),f.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(t,e,n){return this.tail=this.tail.next=new c(t,e,n),this.len+=e,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},f.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},f.prototype.int32=function(t){return t<0?this._push(g,10,i.fromNumber(t)):this.uint32(t)},f.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},f.prototype.uint64=function(t){var e=i.from(t);return this._push(g,e.length(),e)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(g,e.length(),e)},f.prototype.bool=function(t){return this._push(d,1,t?1:0)},f.prototype.fixed32=function(t){return this._push(y,4,t>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(t){var e=i.from(t);return this._push(y,4,e.lo)._push(y,4,e.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},f.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var m=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};f.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(d,1,0);if(o.isString(t)){var n=f.alloc(e=s.length(t));s.decode(t,n,0),t=n}return this.uint32(e)._push(m,e,t)},f.prototype.string=function(t){var e=a.length(t);return e?this.uint32(e)._push(a.write,e,t):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},f.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},f._configure=function(t){r=t,f.create=h(),r._configure()}},3155:(t,e,n)=>{"use strict";t.exports=i;var r=n(1173);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(){r.call(this)}function s(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},i.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(i.writeBytesBuffer,e,t),this},i.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(s,e,t),this},i._configure()},1920:t=>{t.exports=function(t,e){"function"==typeof t&&(e=t,t=!1);var n,r,o,i=[];function s(t,e){t&&(n=t,r&&l(n)),r=e,u()}function a(t){o=o||t||!0,u()}function c(t){o||(r?l(n,t):i.push(t))}return t?{push:c,end:a,source:s,buffer:i}:(s.push=c,s.end=a,s.buffer=i,s);function u(){r&&(n?l(n):!i.length&&o?l(o):i.length&&l(null,i.shift()))}function l(t,n){var o=r;if(t&&e){var i=e;e=null,i(!0===t?null:t)}r=null,o(t,n)}}},8218:(t,e,n)=>{"use strict";var r=n(3352),o=n(6678),i=n(3572);for(var s in(e=t.exports=n(8763)).pull=e,r)e[s]=r[s];for(var s in i)e[s]=i[s];for(var s in o)e[s]=o[s]},8763:t=>{"use strict";t.exports=function t(e){var n=arguments.length;if("function"==typeof e&&1===e.length){for(var r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(e){if(null==r)throw new TypeError("partial sink should only be called once!");var o=r;switch(r=null,n){case 1:return t(e,o[0]);case 2:return t(e,o[0],o[1]);case 3:return t(e,o[0],o[1],o[2]);case 4:return t(e,o[0],o[1],o[2],o[3]);default:return o.unshift(e),t.apply(null,o)}}}var i=e;for(i&&"function"==typeof i.source&&(i=i.source),o=1;o<n;o++){var s=arguments[o];"function"==typeof s?i=s(i):s&&"object"==typeof s&&(s.sink(i),i=s.source)}return i}},1195:(t,e,n)=>{"use strict";var r=n(3474);t.exports=function(){return t=>{let e,n;const o=new Promise(((t,r)=>{e=t,n=r}));return r(((t,r)=>{t?n(t):e(r)}))(t),o}}},3474:(t,e,n)=>{"use strict";var r=n(7935);t.exports=function(t){return r((function(t,e){return t.push(e),t}),[],t)}},1554:(t,e,n)=>{"use strict";var r=n(7935);t.exports=function(t){return r((function(t,e){return t+e}),"",t)}},4388:t=>{"use strict";t.exports=function(t,e){var n,r,o;function i(s){if(n=s,r)return i.abort();!function i(){for(var s=!0,a=!1;s;)if(a=!1,n(null,(function(c,u){if(a=!0,c=c||r){if(s=!1,e)e(!0===c?null:c);else if(c&&!0!==c)throw console.warn(o),c}else t&&!1===t(u)||r?(s=!1,n(r||!0,e||function(){})):s||i()})),!a)return void(s=!1)}()}return e||(o=new Error("no done callback supplied")),i.abort=function(t,e){if("function"==typeof t&&(e=t,t=!0),r=t||!0,n)return n(r,e||function(){})},i}},6791:(t,e,n)=>{"use strict";function r(t){return t}var o=n(167),i=n(4388);t.exports=function(t,e){var n=!1;return e?t=o(t)||r:(e=t,t=r),i((function(r){if(t(r))return n=!0,e(null,r),!1}),(function(t){n||e(!0===t?null:t,null)}))}},6678:(t,e,n)=>{"use strict";t.exports={drain:n(4388),onEnd:n(9938),log:n(1501),find:n(6791),reduce:n(7935),collect:n(3474),collectAsPromise:n(1195),concat:n(1554)}},1501:(t,e,n)=>{"use strict";var r=n(4388);t.exports=function(t){return r((function(t){console.log(t)}),t)}},9938:(t,e,n)=>{"use strict";var r=n(4388);t.exports=function(t){return r(null,t)}},7935:(t,e,n)=>{"use strict";var r=n(4388);t.exports=function(t,e,n){n||(n=e,e=null);var o=r((function(n){e=t(e,n)}),(function(t){n(t,e)}));return 2===arguments.length?function(t){t(null,(function(r,i){if(r)return n(!0===r?null:r);e=i,o(t)}))}:o}},4407:t=>{"use strict";t.exports=function(t){var e=0;return t=t||1/0,function(n,r){return n?r&&r(n):e>t?r(!0):void r(null,e++)}}},6782:t=>{"use strict";t.exports=function(){return function(t,e){e(!0)}}},3590:t=>{"use strict";t.exports=function(t){return function(e,n){n(t)}}},3352:(t,e,n)=>{"use strict";t.exports={keys:n(7281),once:n(3001),values:n(3419),count:n(4407),infinite:n(7477),empty:n(6782),error:n(3590)}},7477:t=>{"use strict";t.exports=function(t){return t=t||Math.random,function(e,n){return e?n&&n(e):n(null,t())}}},7281:(t,e,n)=>{"use strict";var r=n(3419);t.exports=function(t){return r(Object.keys(t))}},3001:(t,e,n)=>{"use strict";var r=n(5752);t.exports=function(t,e){return function(n,o){if(n)return r(o,n,e);if(null!=t){var i=t;t=null,o(null,i)}else o(!0)}}},3419:(t,e,n)=>{"use strict";var r=n(5752);t.exports=function(t,e){if(!t)return function(t,n){return t?r(n,t,e):n(!0)};Array.isArray(t)||(t=Object.keys(t).map((function(e){return t[e]})));var n=0;return function(o,i){if(o)return r(i,o,e);n>=t.length?i(!0):i(null,t[n++])}}},5289:(t,e,n)=>{"use strict";function r(t){return t}var o=n(167);t.exports=function(t){if(!t)return r;t=o(t);var e,n,i=!1;return function(r){return function o(s,a){if(n)return a(n);s?(n=s,r(s,i?function(t){i?e=a:a(s)}:function(t){a(s)})):r(null,(function(r,s){r?a(r):n?a(n):(i=!0,t(s,(function(t,r){i=!1,n?(a(n),e&&e(n)):t?o(t,a):a(null,r)})))}))}}}},7710:(t,e,n)=>{"use strict";var r=n(7634),o=n(8799);t.exports=function(t){return t=r(t),o((function(e){return!t(e)}))}},8799:(t,e,n)=>{"use strict";var r=n(7634);t.exports=function(t){return t=r(t),function(e){return function n(r,o){for(var i,s=!0;s;)s=!1,i=!0,e(r,(function(e,r){if(!e&&!t(r))return i?s=!0:n(e,o);o(e,r)})),i=!1}}}},3442:(t,e,n)=>{"use strict";var r=n(3419),o=n(3001);t.exports=function(){return function(t){var e;return function(n,i){function s(){e(null,(function(e,n){e?!0===e?a():t(!0,(function(t){i(e)})):i(null,n)}))}function a(){e=null,t(null,(function(t,n){if(t)return i(t);n&&"object"==typeof n?n=r(n):"function"!=typeof n&&(n=o(n)),e=n,s()}))}n?e?e(n,(function(e){t(e||n,i)})):t(n,i):e?s():a()}}}},3572:(t,e,n)=>{"use strict";t.exports={map:n(4062),asyncMap:n(5289),filter:n(8799),filterNot:n(7710),through:n(656),take:n(8235),unique:n(4113),nonUnique:n(1962),flatten:n(3442)}},4062:(t,e,n)=>{"use strict";function r(t){return t}var o=n(167);t.exports=function(t){return t?(t=o(t),function(e){return function(n,r){e(n,(function(n,o){try{o=n?null:t(o)}catch(t){return e(t,(function(){return r(t)}))}r(n,o)}))}}):r}},1962:(t,e,n)=>{"use strict";var r=n(4113);t.exports=function(t){return r(t,!0)}},8235:t=>{"use strict";t.exports=function(t,e){var n=(e=e||{}).last||!1,r=!1;if("number"==typeof t){n=!0;var o=t;t=function(){return--o}}return function(e){function o(t){e(!0,(function(e){n=!1,t(e||!0)}))}return function(i,s){r&&!i?n?o(s):s(r):(r=i)?e(r,s):e(null,(function(e,i){(r=r||e)?s(r):t(i)?s(null,i):(r=!0,n?s(null,i):o(s))}))}}}},656:t=>{"use strict";t.exports=function(t,e){var n=!1;function r(t){!n&&e&&(n=!0,e(!0===t?null:t))}return function(e){return function(n,o){return n&&r(n),e(n,(function(e,n){e?r(e):t&&t(n),o(e,n)}))}}}},4113:(t,e,n)=>{"use strict";function r(t){return t}var o=n(167),i=n(8799);t.exports=function(t,e){t=o(t)||r;var n={};return i((function(r){var o=t(r);return n[o]?!!e:(n[o]=!0,!e)}))}},5752:t=>{t.exports=function(t,e,n){t(e),n&&n(!0===e?null:e)}},167:t=>{t.exports=function(t){return t&&("string"==typeof t?function(e){return e[t]}:"object"==typeof t&&"function"==typeof t.exec?function(e){var n=t.exec(e);return n&&n[0]}:t)}},7634:(t,e,n)=>{var r=n(167);function o(t){return t}t.exports=function(t){return"object"==typeof t&&"function"==typeof t.test?function(e){return t.test(e)}:r(t)||o}},9509:(t,e,n)=>{var r=n(8764),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},4889:function(t,e,n){!function(t,e){"use strict";if(!t.setImmediate){var n,r,o,i,s,a=1,c={},u=!1,l=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){process.nextTick((function(){d(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(i="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(i)&&d(+e.data.slice(i.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(i+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):n=function(t){setTimeout(d,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var o={callback:t,args:e};return c[a]=o,n(a),a++},f.clearImmediate=h}function h(t){delete c[t]}function d(t){if(u)setTimeout(d,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(undefined,n)}}(e)}finally{h(t),u=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},590:t=>{t.exports=t=>{if(t[Symbol.asyncIterator])return t;if(t.getReader)return async function*(){const e=t.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)return;yield n}}finally{e.releaseLock()}}();throw new Error("unknown stream")}},5475:function(t,e,n){var r=void 0!==n.g&&n.g||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(4889),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==n.g&&n.g.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==n.g&&n.g.clearImmediate||this&&this.clearImmediate},5506:t=>{"use strict";t.exports=2147483647},4284:(t,e,n)=>{"use strict";var r=n(3902),o=n(5506);t.exports=function(t){if((t=r(t))>o)throw new TypeError(t+" exceeds maximum possible timeout");return t}},372:(t,e,n)=>{"use strict";var r=n(6060);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},3940:(t,e,n)=>{"use strict";var r=n(5618),o={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(o,typeof t)}},7205:(t,e,n)=>{"use strict";var r=n(372),o=/^\s*class[\s{/}]/,i=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!o.test(i.call(t))}},6060:(t,e,n)=>{"use strict";var r=n(3940);t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},5618:t=>{"use strict";t.exports=function(t){return null!=t}},6988:t=>{t.exports=function t(r,o){var i,s=0,a=0,c=o=o||0,u=r.length;do{if(c>=u||a>49)throw t.bytes=0,new RangeError("Could not decode varint");i=r[c++],s+=a<28?(i&n)<<a:(i&n)*Math.pow(2,a),a+=7}while(i>=e);return t.bytes=c-o,s};var e=128,n=127},1312:t=>{t.exports=function t(o,i,s){if(Number.MAX_SAFE_INTEGER&&o>Number.MAX_SAFE_INTEGER)throw t.bytes=0,new RangeError("Could not encode varint");i=i||[];for(var a=s=s||0;o>=r;)i[s++]=255&o|e,o/=128;for(;o&n;)i[s++]=255&o|e,o>>>=7;return i[s]=0|o,t.bytes=s-a+1,i};var e=128,n=-128,r=Math.pow(2,31)},4676:(t,e,n)=>{t.exports={encode:n(1312),decode:n(6988),encodingLength:n(82)}},82:t=>{var e=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),o=Math.pow(2,28),i=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);t.exports=function(t){return t<e?1:t<n?2:t<r?3:t<o?4:t<i?5:t<s?6:t<a?7:t<c?8:t<u?9:10}},3489:t=>{"use strict";function e(t){class e extends t.utils.CustomType{constructor(e,n,r){super(),this.os=e,this._model=n,this._content=r,this._parent=null,this._deepEventHandler=new t.utils.EventListenerHandler,this.eventHandler=new t.utils.EventHandler((e=>{if("Insert"===e.struct){if(this._content.some((function(n){return t.utils.compareIds(n.id,e.id)})))return;let i;if(null===e.left)i=0;else if(i=1+this._content.findIndex((function(n){return t.utils.compareIds(n.id,e.left)})),i<=0)throw new Error("Unexpected operation!");var n,r;if(e.hasOwnProperty("opContent")){this._content.splice(i,0,{id:e.id,type:e.opContent}),r=1;let t=this.os.getType(e.opContent);t._parent=this._model,n=[t]}else{var o=e.content.map((function(t,n){return{id:[e.id[0],e.id[1]+n],val:t}}));o.length<3e4?this._content.splice.apply(this._content,[i,0].concat(o)):this._content=this._content.slice(0,i).concat(o).concat(this._content.slice(i)),n=e.content,r=e.content.length}t.utils.bubbleEvent(this,{type:"insert",object:this,index:i,values:n,length:r})}else{if("Delete"!==e.struct)throw new Error("Unexpected struct!");for(var i=0;i<this._content.length&&e.length>0;i++){var s=this._content[i];if(t.utils.inDeletionRange(e,s.id)){var a;for(a=1;a<e.length&&i+a<this._content.length&&t.utils.inDeletionRange(e,this._content[i+a].id);a++);s=this._content[i+a-1],e.length-=s.id[1]-e.target[1]+1,e.target=[s.id[0],s.id[1]+1];let n=this._content.splice(i,a),r=n.map((t=>null!=t.val?t.val:this.os.getType(t.type)));t.utils.bubbleEvent(this,{type:"delete",object:this,index:i,values:r,_content:n,length:a})}}}}))}_getPathToChild(e){return this._content.findIndex((n=>null!=n.type&&t.utils.compareIds(n.type,e)))}_destroy(){this.eventHandler.destroy(),this.eventHandler=null,this._content=null,this._model=null,this._parent=null,this.os=null}get length(){return this._content.length}get(t){if(null==t||"number"!=typeof t)throw new Error("pos must be a number!");if(!(t>=this._content.length))return null==this._content[t].type?this._content[t].val:this.os.getType(this._content[t].type)}toArray(){return this._content.map(((t,e)=>null!=t.type?this.os.getType(t.type):t.val))}push(t){return this.insert(this._content.length,t)}insert(e,n){if("number"!=typeof e)throw new Error("pos must be a number!");if(!Array.isArray(n))throw new Error("contents must be an Array of objects!");if(0!==n.length){if(e>this._content.length||e<0)throw new Error("This position exceeds the range of the array!");for(var r=0===e?null:this._content[e-1].id,o=[],i=r,s=0;s<n.length;){for(var a,c={left:i,origin:i,parent:this._model,struct:"Insert"},u=[];s<n.length;){var l=n[s++];if(a=t.utils.isTypeDefinition(l)){if(u.length>0){s--;break}break}u.push(l)}if(u.length>0)c.content=u,c.id=this.os.getNextOpId(u.length);else{var f=this.os.getNextOpId(1);this.os.createType(a,f),c.opContent=f,c.id=this.os.getNextOpId(1)}o.push(c),i=c.id}var h=this.eventHandler;this.os.requestTransaction((function*(){var t;t=null!=r?(yield*this.getInsertionCleanEnd(r)).right:(yield*this.getOperation(o[0].parent)).start;for(var e=0;e<o.length;e++)o[e].right=t;yield*h.awaitOps(this,this.applyCreatedOperations,[o])})),h.awaitAndPrematurelyCall(o)}}delete(e,n){if(null==n&&(n=1),"number"!=typeof n)throw new Error("length must be a number!");if("number"!=typeof e)throw new Error("pos must be a number!");if(e+n>this._content.length||e<0||n<0)throw new Error("The deletion range exceeds the range of the array!");if(0!==n){for(var r=this.eventHandler,o=[],i=0;i<n;i+=s){var s,a=this._content[e+i].id;for(s=1;i+s<n&&t.utils.compareIds(this._content[e+i+s].id,[a[0],a[1]+s]);s++);o.push({target:a,struct:"Delete",length:s})}this.os.requestTransaction((function*(){yield*r.awaitOps(this,this.applyCreatedOperations,[o])})),r.awaitAndPrematurelyCall(o)}}observe(t){this.eventHandler.addEventListener(t)}observeDeep(t){this._deepEventHandler.addEventListener(t)}unobserve(t){this.eventHandler.removeEventListener(t)}unobserveDeep(t){this._deepEventHandler.removeEventListener(t)}*_changed(t,e){if(!e.deleted){if("Insert"===e.struct){for(var n,r=e.left;null!=r&&(n=yield*t.getInsertion(r)).deleted;)r=n.left;e.left=r,null!=e.opContent&&(yield*t.store.initType.call(t,e.opContent))}this.eventHandler.receivedOp(e)}}}t.extend("Array",new t.utils.CustomTypeDefinition({name:"Array",class:e,struct:"List",initType:function*(n,r){var o=[],i=[];yield*t.Struct.List.map.call(this,r,(function(t){t.hasOwnProperty("opContent")?(o.push({id:t.id,type:t.opContent}),i.push(t.opContent)):t.content.forEach((function(e,n){o.push({id:[t.id[0],t.id[1]+n],val:t.content[n]})}))}));for(var s=0;s<i.length;s++)(yield*this.store.initType.call(this,i[s]))._parent=r.id;return new e(n,r.id,o)},createType:function(t,n){return new e(t,n.id,[])}}))}t.exports=e,"undefined"!=typeof Y&&e(Y)},7334:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)}},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(8582)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},8582:(t,e,n)=>{"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var n;function s(){if(s.enabled){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var i=s,a=Number(new Date),c=a-(n||a);i.diff=c,i.prev=n,i.curr=a,n=a,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var u=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;u++;var o=r.formatters[n];if("function"==typeof o){var s=e[u];t=o.call(i,s),e.splice(u,1),u--}return t})),r.formatArgs.call(i,e),(i.log||r.log).apply(i,e)}}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=o,s.extend=i,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function o(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var i=r.instances[e];i.enabled=r.enabled(i.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(7824),Object.keys(t).forEach((function(e){r[e]=t[e]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},2299:t=>{"use strict";t.exports=t=>{const e=t.toString();let n;try{n=JSON.parse(e)}catch(t){throw console.error("Failed parsing",e),t}return n}},9570:t=>{"use strict";t.exports=t=>Buffer.from(JSON.stringify(t))},6615:(t,e,n)=>{"use strict";const r=n(7334)("y-ipfs-connector"),o=n(7187),i=n(7142),s=n(5735),a=n(9509).Buffer,c=n(9570),u=n(2299);function l(t){class e extends t.AbstractConnector{constructor(t,e){if(void 0===e)throw new Error("Options must not be undefined!");if(null==e.room)throw new Error("You must define a room name!");if(!e.ipfs)throw new Error("You must define a started IPFS object inside options");e.role||(e.role="master"),super(t,e),this._yConnectorOptions=e,this.ipfs=e.ipfs;const n=this.ipfsPubSubTopic="y-ipfs:rooms:"+e.room;this.roomEmitter=e.roomEmitter||new o,this.roomEmitter.peers=()=>this._room.getPeers(),this.roomEmitter.id=()=>n,this._receiveQueue=s(this._processQueue.bind(this),1),this._room=i(this.ipfs,n),this._room.setMaxListeners(1/0),this._room.on("error",(t=>{console.error(t)})),this._room.on("message",(t=>{if(this.ipfs._peerInfo&&t.from===this.ipfs._peerInfo.id.toB58String())return;const n=()=>{let n;n=this._yConnectorOptions.decode?this._yConnectorOptions.decode(t.data):u(t.data);const r=()=>{const e=u(n.payload);this.roomEmitter.emit("received message",t.from,e),null!==e.type&&this._queueReceiveMessage(t.from,e)};if(e.verifySignature){const o=n.signature&&a.from(n.signature,"base64");e.verifySignature.call(null,t.from,a.from(n.payload),o,((e,n)=>{e?console.error("Error verifying signature from peer "+t.from+". Discarding message.",e):n?r():console.error("Invalid signature from peer "+t.from+". Discarding message.")}))}else r()};if(this._room.hasPeer(t.from))n();else{const e=r=>{r===t.from&&(this._room.removeListener("peer joined",e),n())};this._room.on("peer joined",e)}})),this._room.on("peer joined",(t=>{this.roomEmitter.emit("peer joined",t),this.userJoined(t,"master")})),this._room.on("peer left",(t=>{this.roomEmitter.emit("peer left",t),this.userLeft(t)})),this.ipfs.isOnline()?this._start():this.ipfs.once("ready",this._start.bind(this))}_queueReceiveMessage(t,e){this._receiveQueue.push({from:t,message:e})}_processQueue(t,e){const n=t.from,r=t.message;n===this._ipfsUserId?e():this._room.hasPeer(n)?(this.receiveMessage(n,r),e()):(this._receiveQueue.unshift(t),setTimeout(e,500))}_start(){const t=this.ipfs._peerInfo.id.toB58String();this._ipfsUserId=t,this.setUserId(t)}disconnect(){r("disconnect"),this._room.leave(),super.disconnect()}send(t,e){this._encodeMessage(e,((n,r)=>{if(n)throw n;this._yConnectorOptions.encode&&(r=this._yConnectorOptions.encode(r)),this._room.sendTo(t,r),this.roomEmitter.emit("sent message",t,e)}))}broadcast(t){this._encodeMessage(t,((e,n)=>{if(e)throw e;this._yConnectorOptions.encode&&(n=this._yConnectorOptions.encode(n)),this._room.broadcast(n),this.roomEmitter.emit("sent message","broadcast",t)}))}isDisconnected(){return!1}_encodeMessage(t,e){const n=(r=t,JSON.stringify(r));var r;this._yConnectorOptions.sign?this._yConnectorOptions.sign(a.from(n),((t,r)=>{if(t)return e(t);const o=r.toString("base64");e(null,c({signature:o,payload:n}))})):e(null,c({payload:n}))}}t.extend("ipfs",e)}t.exports=l,"undefined"!=typeof Y&&l(Y)},4780:(t,e,n)=>{"use strict";function r(t){n(7819)(t);class e extends t.Transaction{constructor(t){super(t),this.store=t,this.ss=t.ss,this.os=t.os,this.ds=t.ds}}var r=t.utils.RBTree,o=t.utils.createSmallLookupBuffer(r);class i extends t.AbstractDatabase{constructor(t,e){super(t,e),this.os=new o,this.ds=new r,this.ss=new o}logTable(){this.requestTransaction((function*(){console.log("User: ",this.store.y.connector.userId,"=============================="),console.log("State Set (SS):",yield*this.getStateSet()),console.log("Operation Store (OS):"),yield*this.os.logTable(),console.log("Deletion Store (DS):"),yield*this.ds.logTable(),(this.store.gc1.length>0||this.store.gc2.length>0)&&console.warn("GC1|2 not empty!",this.store.gc1,this.store.gc2),"{}"!==JSON.stringify(this.store.listenersById)&&console.warn("listenersById not empty!"),"[]"!==JSON.stringify(this.store.listenersByIdExecuteNow)&&console.warn("listenersByIdExecuteNow not empty!"),this.store.transactionInProgress&&console.warn("Transaction still in progress!")}),!0)}transact(t){for(var n=new e(this);null!==t;){for(var r=t.call(n),o=r.next();!o.done;)o=r.next(o.value);t=this.getNextRequest()}}*destroy(){yield*super.destroy(),delete this.os,delete this.ss,delete this.ds}}t.extend("memory",i)}t.exports=r,"undefined"!=typeof Y&&r(Y)},7819:t=>{"use strict";t.exports=function(t){class e{constructor(t){if(this.val=t,this.color=!0,this._left=null,this._right=null,this._parent=null,null===t.id)throw new Error("You must define id!")}isRed(){return this.color}isBlack(){return!this.color}redden(){return this.color=!0,this}blacken(){return this.color=!1,this}get grandparent(){return this.parent.parent}get parent(){return this._parent}get sibling(){return this===this.parent.left?this.parent.right:this.parent.left}get left(){return this._left}get right(){return this._right}set left(t){null!==t&&(t._parent=this),this._left=t}set right(t){null!==t&&(t._parent=this),this._right=t}rotateLeft(t){var e=this.parent,n=this.right,r=this.right.left;if(n.left=this,this.right=r,null===e)t.root=n,n._parent=null;else if(e.left===this)e.left=n;else{if(e.right!==this)throw new Error("The elements are wrongly connected!");e.right=n}}next(){if(null!==this.right){for(var t=this.right;null!==t.left;)t=t.left;return t}for(var e=this;null!==e.parent&&e!==e.parent.left;)e=e.parent;return e.parent}prev(){if(null!==this.left){for(var t=this.left;null!==t.right;)t=t.right;return t}for(var e=this;null!==e.parent&&e!==e.parent.right;)e=e.parent;return e.parent}rotateRight(t){var e=this.parent,n=this.left,r=this.left.right;if(n.right=this,this.left=r,null===e)t.root=n,n._parent=null;else if(e.left===this)e.left=n;else{if(e.right!==this)throw new Error("The elements are wrongly connected!");e.right=n}}getUncle(){return this.parent===this.parent.parent.left?this.parent.parent.right:this.parent.parent.left}}t.utils.RBTree=class{constructor(){this.root=null,this.length=0}*findNext(t){return yield*this.findWithLowerBound([t[0],t[1]+1])}*findPrev(t){return yield*this.findWithUpperBound([t[0],t[1]-1])}findNodeWithLowerBound(e){if(void 0===e)throw new Error("You must define from!");var n=this.root;if(null===n)return null;for(;;)if(null!==e&&!t.utils.smaller(e,n.val.id)||null===n.left){if(null===e||!t.utils.smaller(n.val.id,e))return n;if(null===n.right)return n.next();n=n.right}else n=n.left}findNodeWithUpperBound(e){if(void 0===e)throw new Error("You must define from!");var n=this.root;if(null===n)return null;for(;;)if(null!==e&&!t.utils.smaller(n.val.id,e)||null===n.right){if(null===e||!t.utils.smaller(e,n.val.id))return n;if(null===n.left)return n.prev();n=n.left}else n=n.right}findSmallestNode(){for(var t=this.root;null!=t&&null!=t.left;)t=t.left;return t}*findWithLowerBound(t){var e=this.findNodeWithLowerBound(t);return null==e?null:e.val}*findWithUpperBound(t){var e=this.findNodeWithUpperBound(t);return null==e?null:e.val}*iterate(e,n,r,o){var i;for(i=null===n?this.findSmallestNode():this.findNodeWithLowerBound(n);null!==i&&(null===r||t.utils.smaller(i.val.id,r)||t.utils.compareIds(i.val.id,r));)yield*o.call(e,i.val),i=i.next();return!0}*logTable(t,e,n){null==n&&(n=function(){return!0}),null==t&&(t=null),null==e&&(e=null);var r=[];yield*this.iterate(this,t,e,(function*(t){if(n(t)){var e={};for(var o in t)"object"==typeof t[o]?e[o]=JSON.stringify(t[o]):e[o]=t[o];r.push(e)}})),null!=console.table&&console.table(r)}*find(t){var e;return(e=this.findNode(t))?e.val:null}findNode(e){if(null==e||e.constructor!==Array)throw new Error("Expect id to be an array!");var n=this.root;if(null===n)return!1;for(;;){if(null===n)return!1;if(t.utils.smaller(e,n.val.id))n=n.left;else{if(!t.utils.smaller(n.val.id,e))return n;n=n.right}}}*delete(t){if(null==t||t.constructor!==Array)throw new Error("id is expected to be an Array!");var n=this.findNode(t);if(null!=n){if(this.length--,null!==n.left&&null!==n.right){for(var r=n.left;null!==r.right;)r=r.right;n.val=r.val,n=r}var o,i=n.left||n.right;if(null===i?(o=!0,(i=new e({id:0})).blacken(),n.right=i):o=!1,null!==n.parent){if(n.parent.left===n)n.parent.left=i;else{if(n.parent.right!==n)throw new Error("Impossible!");n.parent.right=i}if(n.isBlack()&&(i.isRed()?i.blacken():this._fixDelete(i)),this.root.blacken(),o)if(i.parent.left===i)i.parent.left=null;else{if(i.parent.right!==i)throw new Error("Impossible #3");i.parent.right=null}}else o?this.root=null:(this.root=i,i.blacken(),i._parent=null)}}_fixDelete(t){function e(t){return null===t||t.isBlack()}function n(t){return null!==t&&t.isRed()}if(null!==t.parent){var r=t.sibling;if(n(r)){if(t.parent.redden(),r.blacken(),t===t.parent.left)t.parent.rotateLeft(this);else{if(t!==t.parent.right)throw new Error("Impossible #2");t.parent.rotateRight(this)}r=t.sibling}t.parent.isBlack()&&r.isBlack()&&e(r.left)&&e(r.right)?(r.redden(),this._fixDelete(t.parent)):t.parent.isRed()&&r.isBlack()&&e(r.left)&&e(r.right)?(r.redden(),t.parent.blacken()):(t===t.parent.left&&r.isBlack()&&n(r.left)&&e(r.right)?(r.redden(),r.left.blacken(),r.rotateRight(this),r=t.sibling):t===t.parent.right&&r.isBlack()&&n(r.right)&&e(r.left)&&(r.redden(),r.right.blacken(),r.rotateLeft(this),r=t.sibling),r.color=t.parent.color,t.parent.blacken(),t===t.parent.left?(r.right.blacken(),t.parent.rotateLeft(this)):(r.left.blacken(),t.parent.rotateRight(this)))}}*put(n){if(null==n||null==n.id||n.id.constructor!==Array)throw new Error("v is expected to have an id property which is an Array!");var r=new e(n);if(null!==this.root){for(var o=this.root;;)if(t.utils.smaller(r.val.id,o.val.id)){if(null===o.left){o.left=r;break}o=o.left}else{if(!t.utils.smaller(o.val.id,r.val.id))return o.val=r.val,o;if(null===o.right){o.right=r;break}o=o.right}this._fixInsert(r)}else this.root=r;return this.length++,this.root.blacken(),r}_fixInsert(t){if(null!==t.parent){if(!t.parent.isBlack()){var e=t.getUncle();null!==e&&e.isRed()?(t.parent.blacken(),e.blacken(),t.grandparent.redden(),this._fixInsert(t.grandparent)):(t===t.parent.right&&t.parent===t.grandparent.left?(t.parent.rotateLeft(this),t=t.left):t===t.parent.left&&t.parent===t.grandparent.right&&(t.parent.rotateRight(this),t=t.right),t.parent.blacken(),t.grandparent.redden(),t===t.parent.left?t.grandparent.rotateRight(this):t.grandparent.rotateLeft(this))}}else t.blacken()}*flush(){}}}},953:(t,e,n)=>{"use strict";var r=n(7529),o={major:0,minor:0};function i(t){t.requestModules(["Array"]).then((function(){class e extends t.Array.typeDefinition.class{constructor(t,e,n){super(t,e,n),this.textfields=[],this.aceInstances=[],this.codeMirrorInstances=[],this.monacoInstances=[]}toString(){return this._content.map((function(t){return t.val})).join("")}insert(t,e){for(var n=e.split(""),r=0;r<n.length;r++)/[\uD800-\uDFFF]/.test(n[r])&&(n[r]=n[r]+n[r+1],n[r+1]="",r++);super.insert(t,n)}delete(t,e){if(null==e&&(e=1),"number"!=typeof e)throw new Error("length must be a number!");if("number"!=typeof t)throw new Error("pos must be a number!");if(t+e>this._content.length||t<0||e<0)throw new Error("The deletion range exceeds the range of the array!");if(0!==e)if(this._content.length>t+e&&""===this._content[t+e].val&&2===this._content[t+e-1].val.length){let n=this._content[t+e-1].val[0];super.delete(t,e+1),super.insert(t,[n])}else if(t>0&&""===this._content[t].val&&2===this._content[t-1].val.length){let n=this._content[t-1].val[1];super.delete(t-1,e+1),super.insert(t-1,[n])}else super.delete(t,e)}unbindAll(){this.unbindTextareaAll(),this.unbindAceAll(),this.unbindCodeMirrorAll(),this.unbindMonacoAll()}unbindMonaco(t){var e=this.monacoInstances.findIndex((function(e){return e.editor===t}));if(e>=0){var n=this.monacoInstances[e];this.unobserve(n.yCallback),n.disposeBinding(),this.monacoInstances.splice(e,1)}}unbindMonacoAll(){for(let t=this.monacoInstances.length-1;t>=0;t--)this.unbindMonaco(this.monacoInstances[t].editor)}bindMonaco(t,e){var n=this;e=e||{};var r=!0;function i(t){if(r){r=!1;try{t()}catch(t){throw r=!0,new Error(t)}r=!0}}function s(t){i((function(){for(var e=0,r=1;r<t.range.startLineNumber;e++)"\n"===n._content[e].val&&r++;var o=e+t.range.startColumn-1;t.rangeLength>0&&n.delete(o,t.rangeLength),n.insert(o,t.text)}))}t.setValue(this.toString());var a=t.onDidChangeModelContent(s).dispose;function c(e){i((function(){let n=t.model.getPositionAt(e.index);var r,i;"insert"===e.type?(r=n,i=e.values.join("")):"delete"===e.type&&(r=t.model.modifyPosition(n,e.length),i="");var s={startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:r.lineNumber,endColumn:r.column},a={major:o.major,minor:o.minor++};t.executeEdits("Yjs",[{id:a,range:s,text:i,forceMoveMarkers:!0}])}))}this.observe(c),this.monacoInstances.push({editor:t,yCallback:c,monacoCallback:s,disposeBinding:a})}unbindCodeMirror(t){var e=this.codeMirrorInstances.findIndex((function(e){return e.editor===t}));if(e>=0){var n=this.codeMirrorInstances[e];this.unobserve(n.yCallback),n.editor.off("changes",n.codeMirrorCallback),this.codeMirrorInstances.splice(e,1)}}unbindCodeMirrorAll(){for(let t=this.codeMirrorInstances.length-1;t>=0;t--)this.unbindCodeMirror(this.codeMirrorInstances[t].editor)}bindCodeMirror(t,e){var n=this;e=e||{};var r=!0;function o(t){if(r){r=!1;try{t()}catch(t){throw r=!0,new Error(t)}r=!0}}function i(e,r){o((function(){for(var e=0;e<r.length;e++){var o=r[e],i=t.indexFromPos(o.from);if(o.removed.length>0){for(var s=0,a=0;a<o.removed.length;a++)s+=o.removed[a].length;s+=o.removed.length-1,n.delete(i,s)}n.insert(i,o.text.join("\n"))}}))}function s(e){o((function(){let n=t.posFromIndex(e.index);if("insert"===e.type){let r=n;t.replaceRange(e.values.join(""),n,r)}else if("delete"===e.type){let r=t.posFromIndex(e.index+e.length);t.replaceRange("",n,r)}}))}t.setValue(this.toString()),t.on("changes",i),this.observe(s),this.codeMirrorInstances.push({editor:t,yCallback:s,codeMirrorCallback:i})}unbindAce(t){var e=this.aceInstances.findIndex((function(e){return e.editor===t}));if(e>=0){var n=this.aceInstances[e];this.unobserve(n.yCallback),n.editor.off("change",n.aceCallback),this.aceInstances.splice(e,1)}}unbindAceAll(){for(let t=this.aceInstances.length-1;t>=0;t--)this.unbindAce(this.aceInstances[t].editor)}bindAce(t,e){var n=this;e=e||{};var r,o=!0;function i(t){if(o){o=!1;try{t()}catch(t){throw o=!0,new Error(t)}o=!0}}function s(e){i((function(){var r,o,i=t.getSession().getDocument();"insert"===e.action?(r=i.positionToIndex(e.start,0),n.insert(r,e.lines.join("\n"))):"remove"===e.action&&(r=i.positionToIndex(e.start,0),o=e.lines.join("\n").length,n.delete(r,o))}))}t.setValue(this.toString()),t.on("change",s),t.selection.clearSelection(),r="undefined"!=typeof ace&&null==e.aceClass?ace:e.aceClass;var a=(e.aceRequire||r.require)("ace/range").Range;function c(e){var n=t.getSession().getDocument();i((function(){if("insert"===e.type){let t=n.indexToPosition(e.index,0);n.insert(t,e.values.join(""))}else if("delete"===e.type){let r=n.indexToPosition(e.index,0),o=n.indexToPosition(e.index+e.length,0);var t=new a(r.row,r.column,o.row,o.column);n.remove(t)}}))}this.observe(c),this.aceInstances.push({editor:t,yCallback:c,aceCallback:s})}bind(){var t=arguments[0];t instanceof Element?this.bindTextarea.apply(this,arguments):null!=t&&null!=t.session&&null!=t.getSession&&null!=t.setValue?this.bindAce.apply(this,arguments):null!=t&&null!=t.posFromIndex&&null!=t.replaceRange?this.bindCodeMirror.apply(this,arguments):null!=t&&null!=t.onDidChangeModelContent?this.bindMonaco.apply(this,arguments):console.error("Cannot bind, unsupported editor!")}unbindTextarea(t){var e=this.textfields.findIndex((function(e){return e.editor===t}));if(e>=0){var n=this.textfields[e];this.unobserve(n.yCallback),n.editor.removeEventListener("input",n.eventListener),this.textfields.splice(e,1)}}unbindTextareaAll(){for(let t=this.textfields.length-1;t>=0;t--)this.unbindTextarea(this.textfields[t].editor)}bindTextarea(t,e){null==(e=e||window).getSelection&&(e=window);for(var n=0;n<this.textfields.length;n++)if(this.textfields[n].editor===t)return;var o=!0;function i(t){if(o){o=!1;try{t()}catch(t){throw o=!0,new Error(t)}o=!0}}var s,a,c,u,l=this;function f(t){i((()=>{var e;if("insert"===t.type){e=t.index;var n=s((function(t){return t<=e?t:t+=1}));a(n)}else"delete"===t.type&&(e=t.index,n=s((function(t){return t<e?t:t-=1})),a(n))}))}t.value=this.toString(),null!=t.selectionStart&&null!=t.setSelectionRange?(s=function(e){var n=t.selectionStart,r=t.selectionEnd;return null!=e&&(n=e(n),r=e(r)),{left:n,right:r}},a=function(e){c(l.toString()),t.setSelectionRange(e.left,e.right)},c=function(e){t.value=e},u=function(){return t.value}):(s=function(n){var r={},o=e.getSelection(),i=t.textContent.length;r.left=Math.min(o.anchorOffset,i),r.right=Math.min(o.focusOffset,i),null!=n&&(r.left=n(r.left),r.right=n(r.right));var s=o.focusNode;return s===t||s===t.childNodes[0]?r.isReal=!0:r.isReal=!1,r},a=function(n){c(l.toString());var r=t.childNodes[0];if(n.isReal&&null!=r){n.left<0&&(n.left=0),n.right=Math.max(n.left,n.right),n.right>r.length&&(n.right=r.length),n.left=Math.min(n.left,n.right);var o=document.createRange();o.setStart(r,n.left),o.setEnd(r,n.right);var i=e.getSelection();i.removeAllRanges(),i.addRange(o)}},c=function(e){t.innerText=e},u=function(){return t.innerText}),c(this.toString()),this.observe(f);var h=function(){i((function(){for(var t=s((function(t){return t})),e=l.toString(),n=u(),o=r(e,n,t.left),i=0,a=0;a<o.length;a++){var c=o[a];0===c[0]?i+=c[1].length:-1===c[0]?l.delete(i,c[1].length):(l.insert(i,c[1]),i+=c[1].length)}}))};t.addEventListener("input",h),this.textfields.push({editor:t,yCallback:f,eventListener:h})}_destroy(){this.unbindAll(),this.textfields=null,this.aceInstances=null,super._destroy()}}t.extend("Text",new t.utils.CustomTypeDefinition({name:"Text",class:e,struct:"List",initType:function*(n,r){var o=[];return yield*t.Struct.List.map.call(this,r,(function(t){if(t.hasOwnProperty("opContent"))throw new Error("Text must not contain types!");t.content.forEach((function(e,n){o.push({id:[t.id[0],t.id[1]+n],val:t.content[n]})}))})),new e(n,r.id,o)},createType:function(t,n){return new e(t,n.id,[])}}))}))}t.exports=i,"undefined"!=typeof Y&&i(Y)},2611:()=>{},4936:(t,e,n)=>{"use strict";n.d(e,{Dy:()=>i.D,Jx:()=>o.Jx,WU:()=>i.W,cv:()=>r.cv});var r=n(2696),o=n(1287),i=n(9787)},5580:(t,e,n)=>{"use strict";n.d(e,{Fh:()=>p,Jl:()=>c,Km:()=>l,Tp:()=>g,X0:()=>a,YX:()=>u,Zh:()=>f,cs:()=>h,kj:()=>s,or:()=>i,uN:()=>d});var r=n(9787),o=n(5590);const i=[24,256,65536,4294967296,BigInt("18446744073709551616")];function s(t,e,n){(0,o.DO)(t,e,1);const r=t[e];if(!0===n.strict&&r<i[0])throw new Error(`${o.IR} integer encoded in more bytes than necessary (strict decode)`);return r}function a(t,e,n){(0,o.DO)(t,e,2);const r=t[e]<<8|t[e+1];if(!0===n.strict&&r<i[1])throw new Error(`${o.IR} integer encoded in more bytes than necessary (strict decode)`);return r}function c(t,e,n){(0,o.DO)(t,e,4);const r=16777216*t[e]+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(!0===n.strict&&r<i[2])throw new Error(`${o.IR} integer encoded in more bytes than necessary (strict decode)`);return r}function u(t,e,n){(0,o.DO)(t,e,8);const r=16777216*t[e]+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],s=16777216*t[e+4]+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],a=(BigInt(r)<<BigInt(32))+BigInt(s);if(!0===n.strict&&a<i[3])throw new Error(`${o.IR} integer encoded in more bytes than necessary (strict decode)`);if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(!0===n.allowBigInt)return a;throw new Error(`${o.IR} integers outside of the safe integer range are not supported`)}function l(t,e,n,o){return new r.W(r.D.uint,s(t,e+1,o),2)}function f(t,e,n,o){return new r.W(r.D.uint,a(t,e+1,o),3)}function h(t,e,n,o){return new r.W(r.D.uint,c(t,e+1,o),5)}function d(t,e,n,o){return new r.W(r.D.uint,u(t,e+1,o),9)}function p(t,e){return g(t,0,e.value)}function g(t,e,n){if(n<i[0]){const r=Number(n);t.push([e|r])}else if(n<i[1]){const r=Number(n);t.push([24|e,r])}else if(n<i[2]){const r=Number(n);t.push([25|e,r>>>8,255&r])}else if(n<i[3]){const r=Number(n);t.push([26|e,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<i[4]))throw new Error(`${o.IR} encountered BigInt larger than allowable range`);{const n=[27|e,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,t.push(n)}}}p.encodedSize=function(t){return g.encodedSize(t.value)},g.encodedSize=function(t){return t<i[0]?1:t<i[1]?2:t<i[2]?3:t<i[3]?5:9},p.compareTokens=function(t,e){return t.value<e.value?-1:t.value>e.value?1:0}},3929:(t,e,n)=>{"use strict";n.d(e,{UT:()=>h,ec:()=>f,r0:()=>a,wy:()=>c,yr:()=>s});var r=n(9787),o=n(5580),i=n(5590);function s(t,e,n,i){return new r.W(r.D.negint,-1-o.kj(t,e+1,i),2)}function a(t,e,n,i){return new r.W(r.D.negint,-1-o.X0(t,e+1,i),3)}function c(t,e,n,i){return new r.W(r.D.negint,-1-o.Jl(t,e+1,i),5)}const u=BigInt(-1),l=BigInt(1);function f(t,e,n,s){const a=o.YX(t,e+1,s);if("bigint"!=typeof a){const t=-1-a;if(t>=Number.MIN_SAFE_INTEGER)return new r.W(r.D.negint,t,9)}if(!0!==s.allowBigInt)throw new Error(`${i.IR} integers outside of the safe integer range are not supported`);return new r.W(r.D.negint,u-BigInt(a),9)}function h(t,e){const n=e.value,r="bigint"==typeof n?n*u-l:-1*n-1;o.Tp(t,e.type.majorEncoded,r)}h.encodedSize=function(t){const e=t.value,n="bigint"==typeof e?e*u-l:-1*e-1;return n<o.or[0]?1:n<o.or[1]?2:n<o.or[2]?3:n<o.or[3]?5:9},h.compareTokens=function(t,e){return t.value<e.value?1:t.value>e.value?-1:0}},2887:(t,e,n)=>{"use strict";n.d(e,{BS:()=>l,Ii:()=>c,ME:()=>h,UQ:()=>u,hg:()=>p,zU:()=>f});var r=n(9787),o=n(5590),i=n(5580),s=n(2042);function a(t,e,n,i){(0,o.DO)(t,e,n+i);const a=(0,s.tP)(t,e+n,e+n+i);return new r.W(r.D.bytes,a,n+i)}function c(t,e,n,r){return a(t,e,1,n)}function u(t,e,n,r){return a(t,e,2,i.kj(t,e+1,r))}function l(t,e,n,r){return a(t,e,3,i.X0(t,e+1,r))}function f(t,e,n,r){return a(t,e,5,i.Jl(t,e+1,r))}function h(t,e,n,r){const s=i.YX(t,e+1,r);if("bigint"==typeof s)throw new Error(`${o.IR} 64-bit integer bytes lengths not supported`);return a(t,e,9,s)}function d(t){return void 0===t.encodedBytes&&(t.encodedBytes=t.type===r.D.string?(0,s.mL)(t.value):t.value),t.encodedBytes}function p(t,e){const n=d(e);i.Tp(t,e.type.majorEncoded,n.length),t.push(n)}p.encodedSize=function(t){const e=d(t);return i.Tp.encodedSize(e.length)+e.length},p.compareTokens=function(t,e){return n=d(t),r=d(e),n.length<r.length?-1:n.length>r.length?1:(0,s.qu)(n,r);var n,r}},768:(t,e,n)=>{"use strict";n.d(e,{Bq:()=>l,YW:()=>p,bc:()=>d,h:()=>f,nt:()=>u,q0:()=>h});var r=n(9787),o=n(5590),i=n(5580),s=n(2887),a=n(2042);function c(t,e,n,i,s){const c=n+i;(0,o.DO)(t,e,c);const u=new r.W(r.D.string,(0,a.BB)(t,e+n,e+c),c);return!0===s.retainStringBytes&&(u.byteValue=(0,a.tP)(t,e+n,e+c)),u}function u(t,e,n,r){return c(t,e,1,n,r)}function l(t,e,n,r){return c(t,e,2,i.kj(t,e+1,r),r)}function f(t,e,n,r){return c(t,e,3,i.X0(t,e+1,r),r)}function h(t,e,n,r){return c(t,e,5,i.Jl(t,e+1,r),r)}function d(t,e,n,r){const s=i.YX(t,e+1,r);if("bigint"==typeof s)throw new Error(`${o.IR} 64-bit integer string lengths not supported`);return c(t,e,9,s,r)}const p=s.hg},8278:(t,e,n)=>{"use strict";n.d(e,{HF:()=>d,Ju:()=>a,OC:()=>u,a8:()=>f,h7:()=>c,lY:()=>l,s5:()=>h});var r=n(9787),o=n(5580),i=n(5590);function s(t,e,n,o){return new r.W(r.D.array,o,n)}function a(t,e,n,r){return s(0,0,1,n)}function c(t,e,n,r){return s(0,0,2,o.kj(t,e+1,r))}function u(t,e,n,r){return s(0,0,3,o.X0(t,e+1,r))}function l(t,e,n,r){return s(0,0,5,o.Jl(t,e+1,r))}function f(t,e,n,r){const a=o.YX(t,e+1,r);if("bigint"==typeof a)throw new Error(`${i.IR} 64-bit integer array lengths not supported`);return s(0,0,9,a)}function h(t,e,n,r){if(!1===r.allowIndefinite)throw new Error(`${i.IR} indefinite length items not allowed`);return s(0,0,1,1/0)}function d(t,e){o.Tp(t,r.D.array.majorEncoded,e.value)}d.compareTokens=o.Fh.compareTokens,d.encodedSize=function(t){return o.Tp.encodedSize(t.value)}},9283:(t,e,n)=>{"use strict";n.d(e,{F2:()=>f,G:()=>c,IY:()=>l,KI:()=>d,_K:()=>a,ng:()=>h,qe:()=>u});var r=n(9787),o=n(5580),i=n(5590);function s(t,e,n,o){return new r.W(r.D.map,o,n)}function a(t,e,n,r){return s(0,0,1,n)}function c(t,e,n,r){return s(0,0,2,o.kj(t,e+1,r))}function u(t,e,n,r){return s(0,0,3,o.X0(t,e+1,r))}function l(t,e,n,r){return s(0,0,5,o.Jl(t,e+1,r))}function f(t,e,n,r){const a=o.YX(t,e+1,r);if("bigint"==typeof a)throw new Error(`${i.IR} 64-bit integer map lengths not supported`);return s(0,0,9,a)}function h(t,e,n,r){if(!1===r.allowIndefinite)throw new Error(`${i.IR} indefinite length items not allowed`);return s(0,0,1,1/0)}function d(t,e){o.Tp(t,r.D.map.majorEncoded,e.value)}d.compareTokens=o.Fh.compareTokens,d.encodedSize=function(t){return o.Tp.encodedSize(t.value)}},2428:(t,e,n)=>{"use strict";n.d(e,{CF:()=>a,MV:()=>u,ZR:()=>s,qJ:()=>i,vP:()=>c,xy:()=>l});var r=n(9787),o=n(5580);function i(t,e,n,o){return new r.W(r.D.tag,n,1)}function s(t,e,n,i){return new r.W(r.D.tag,o.kj(t,e+1,i),2)}function a(t,e,n,i){return new r.W(r.D.tag,o.X0(t,e+1,i),3)}function c(t,e,n,i){return new r.W(r.D.tag,o.Jl(t,e+1,i),5)}function u(t,e,n,i){return new r.W(r.D.tag,o.YX(t,e+1,i),9)}function l(t,e){o.Tp(t,r.D.tag.majorEncoded,e.value)}l.compareTokens=o.Fh.compareTokens,l.encodedSize=function(t){return o.Tp.encodedSize(t.value)}},3851:(t,e,n)=>{"use strict";n.d(e,{GI:()=>p,h1:()=>l,mW:()=>d,tA:()=>y,vV:()=>g,y7:()=>f});var r=n(9787),o=n(5590),i=n(5580);const s=20,a=21,c=22,u=23;function l(t,e,n,i){if(!1===i.allowUndefined)throw new Error(`${o.IR} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new r.W(r.D.null,null,1):new r.W(r.D.undefined,void 0,1)}function f(t,e,n,i){if(!1===i.allowIndefinite)throw new Error(`${o.IR} indefinite length items not allowed`);return new r.W(r.D.break,void 0,1)}function h(t,e,n){if(n){if(!1===n.allowNaN&&Number.isNaN(t))throw new Error(`${o.IR} NaN values are not supported`);if(!1===n.allowInfinity&&(t===1/0||t===-1/0))throw new Error(`${o.IR} Infinity values are not supported`)}return new r.W(r.D.float,t,e)}function d(t,e,n,r){return h(_(t,e+1),3,r)}function p(t,e,n,r){return h(k(t,e+1),5,r)}function g(t,e,n,r){return h(x(t,e+1),9,r)}function y(t,e,n){const o=e.value;if(!1===o)t.push([r.D.float.majorEncoded|s]);else if(!0===o)t.push([r.D.float.majorEncoded|a]);else if(null===o)t.push([r.D.float.majorEncoded|c]);else if(void 0===o)t.push([r.D.float.majorEncoded|u]);else{let e,r=!1;n&&!0===n.float64||(v(o),e=_(b,1),o===e||Number.isNaN(o)?(b[0]=249,t.push(b.slice(0,3)),r=!0):(E(o),e=k(b,1),o===e&&(b[0]=250,t.push(b.slice(0,5)),r=!0))),r||(i=o,w.setFloat64(0,i,!1),e=x(b,1),b[0]=251,t.push(b.slice(0,9)))}var i}y.encodedSize=function(t,e){const n=t.value;if(!1===n||!0===n||null==n)return 1;if(!e||!0!==e.float64){v(n);let t=_(b,1);if(n===t||Number.isNaN(n))return 3;if(E(n),t=k(b,1),n===t)return 5}return 9};const m=new ArrayBuffer(9),w=new DataView(m,1),b=new Uint8Array(m,0);function v(t){if(t===1/0)w.setUint16(0,31744,!1);else if(t===-1/0)w.setUint16(0,64512,!1);else if(Number.isNaN(t))w.setUint16(0,32256,!1);else{w.setFloat32(0,t);const e=w.getUint32(0),n=(2139095040&e)>>23,r=8388607&e;if(255===n)w.setUint16(0,31744,!1);else if(0===n)w.setUint16(0,(2147483648&t)>>16|r>>13,!1);else{const t=n-127;t<-24?w.setUint16(0,0):t<-14?w.setUint16(0,(2147483648&e)>>16|1<<24+t,!1):w.setUint16(0,(2147483648&e)>>16|t+15<<10|r>>13,!1)}}}function _(t,e){if(t.length-e<2)throw new Error(`${o.IR} not enough data for float16`);const n=(t[e]<<8)+t[e+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let s;return s=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-s:s}function E(t){w.setFloat32(0,t,!1)}function k(t,e){if(t.length-e<4)throw new Error(`${o.IR} not enough data for float32`);const n=(t.byteOffset||0)+e;return new DataView(t.buffer,n,4).getFloat32(0,!1)}function x(t,e){if(t.length-e<8)throw new Error(`${o.IR} not enough data for float64`);const n=(t.byteOffset||0)+e;return new DataView(t.buffer,n,8).getFloat64(0,!1)}y.compareTokens=i.Fh.compareTokens},2042:(t,e,n)=>{"use strict";n.d(e,{BB:()=>c,Dz:()=>a,Pu:()=>w,mL:()=>u,nI:()=>l,qu:()=>p,tP:()=>f,un:()=>d,zo:()=>h});const r=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,o=new TextDecoder,i=new TextEncoder;function s(t){return r&&globalThis.Buffer.isBuffer(t)}function a(t){return t instanceof Uint8Array?s(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}const c=r?(t,e,n)=>n-e>64?globalThis.Buffer.from(t.subarray(e,n)).toString("utf8"):y(t,e,n):(t,e,n)=>n-e>64?o.decode(t.subarray(e,n)):y(t,e,n),u=r?t=>t.length>64?globalThis.Buffer.from(t):g(t):t=>t.length>64?i.encode(t):g(t),l=t=>Uint8Array.from(t),f=r?(t,e,n)=>s(t)?new Uint8Array(t.subarray(e,n)):t.slice(e,n):(t,e,n)=>t.slice(e,n),h=r?(t,e)=>(t=t.map((t=>t instanceof Uint8Array?t:globalThis.Buffer.from(t))),a(globalThis.Buffer.concat(t,e))):(t,e)=>{const n=new Uint8Array(e);let r=0;for(let e of t)r+e.length>n.length&&(e=e.subarray(0,n.length-r)),n.set(e,r),r+=e.length;return n},d=r?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function p(t,e){if(s(t)&&s(e))return t.compare(e);for(let n=0;n<t.length;n++)if(t[n]!==e[n])return t[n]<e[n]?-1:1;return 0}function g(t,e=1/0){let n;const r=t.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function y(t,e,n){const r=[];for(;e<n;){const o=t[e];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(e+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=t[e+1],128==(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=t[e+1],r=t[e+2],128==(192&n)&&128==(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=t[e+1],r=t[e+2],a=t[e+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),e+=s}return w(r)}const m=4096;function w(t){const e=t.length;if(e<=m)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=m));return n}},5590:(t,e,n)=>{"use strict";n.d(e,{DO:()=>s,IR:()=>r,OO:()=>o});const r="CBOR decode error:",o="CBOR encode error:",i=[];function s(t,e,n){if(t.length-e<n)throw new Error(`${r} not enough data for type`)}i[23]=1,i[24]=2,i[25]=3,i[26]=5,i[27]=9},1287:(t,e,n)=>{"use strict";n.d(e,{Jx:()=>f});var r=n(5590),o=n(9787),i=n(3741);const s={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class a{constructor(t,e={}){this.pos=0,this.data=t,this.options=e}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let e=i.PS[t];if(void 0===e){const n=i.cW[t];if(!n)throw new Error(`${r.IR} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const o=31&t;e=n(this.data,this.pos,o,this.options)}return this.pos+=e.encodedLength,e}}const c=Symbol.for("DONE"),u=Symbol.for("BREAK");function l(t,e){if(t.done())return c;const n=t.next();if(n.type===o.D.break)return u;if(n.type.terminal)return n.value;if(n.type===o.D.array)return function(t,e,n){const o=[];for(let i=0;i<t.value;i++){const s=l(e,n);if(s===u){if(t.value===1/0)break;throw new Error(`${r.IR} got unexpected break to lengthed array`)}if(s===c)throw new Error(`${r.IR} found array but not enough entries (got ${i}, expected ${t.value})`);o[i]=s}return o}(n,t,e);if(n.type===o.D.map)return function(t,e,n){const o=!0===n.useMaps,i=o?void 0:{},s=o?new Map:void 0;for(let a=0;a<t.value;a++){const f=l(e,n);if(f===u){if(t.value===1/0)break;throw new Error(`${r.IR} got unexpected break to lengthed map`)}if(f===c)throw new Error(`${r.IR} found map but not enough entries (got ${a} [no key], expected ${t.value})`);if(!0!==o&&"string"!=typeof f)throw new Error(`${r.IR} non-string keys not supported (got ${typeof f})`);if(!0===n.rejectDuplicateMapKeys&&(o&&s.has(f)||!o&&f in i))throw new Error(`${r.IR} found repeat map key "${f}"`);const h=l(e,n);if(h===c)throw new Error(`${r.IR} found map but not enough entries (got ${a} [no value], expected ${t.value})`);o?s.set(f,h):i[f]=h}return o?s:i}(n,t,e);if(n.type===o.D.tag){if(e.tags&&"function"==typeof e.tags[n.value]){const r=l(t,e);return e.tags[n.value](r)}throw new Error(`${r.IR} tag not supported (${n.value})`)}throw new Error("unsupported")}function f(t,e){if(!(t instanceof Uint8Array))throw new Error(`${r.IR} data to decode must be a Uint8Array`);const n=(e=Object.assign({},s,e)).tokenizer||new a(t,e),o=l(n,e);if(o===c)throw new Error(`${r.IR} did not find any content to decode`);if(o===u)throw new Error(`${r.IR} got unexpected break`);if(!n.done())throw new Error(`${r.IR} too many terminals, data makes no sense`);return o}},2696:(t,e,n)=>{"use strict";n.d(e,{cv:()=>A,w$:()=>S});const r=["string","number","bigint","symbol"],o=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];var i=n(9787),s=n(2042);class a{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let e=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const n=e.length-(this.maxCursor-this.cursor)-1;e.set(t,n)}else{if(e){const t=e.length-(this.maxCursor-this.cursor)-1;t<e.length&&(this.chunks[this.chunks.length-1]=e.subarray(0,t),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(e=(0,s.un)(this.chunkSize),this.chunks.push(e),this.maxCursor+=e.length,null===this._initReuseChunk&&(this._initReuseChunk=e),e.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let e;if(1===this.chunks.length){const n=this.chunks[0];t&&this.cursor>n.length/2?(e=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=(0,s.tP)(n,0,this.cursor)}else e=(0,s.zo)(this.chunks,this.cursor);return t&&this.reset(),e}}var c=n(5590),u=n(3741),l=n(5580),f=n(3929),h=n(2887),d=n(768),p=n(8278),g=n(9283),y=n(2428),m=n(3851);const w={float64:!1,mapSorter:function(t,e){const n=Array.isArray(t[0])?t[0][0]:t[0],r=Array.isArray(e[0])?e[0][0]:e[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=b[o].compareTokens(n,r);return 0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i},quickEncodeToken:u.JN},b=function(){const t=[];return t[i.D.uint.major]=l.Fh,t[i.D.negint.major]=f.UT,t[i.D.bytes.major]=h.hg,t[i.D.string.major]=d.YW,t[i.D.array.major]=p.HF,t[i.D.map.major]=g.KI,t[i.D.tag.major]=y.xy,t[i.D.float.major]=m.tA,t}(),v=new a;class _{constructor(t,e){this.obj=t,this.parent=e}includes(t){let e=this;do{if(e.obj===t)return!0}while(e=e.parent);return!1}static createCheck(t,e){if(t&&t.includes(e))throw new Error(`${c.OO} object contains circular references`);return new _(e,t)}}const E={null:new i.W(i.D.null,null),undefined:new i.W(i.D.undefined,void 0),true:new i.W(i.D.true,!0),false:new i.W(i.D.false,!1),emptyArray:new i.W(i.D.array,0),emptyMap:new i.W(i.D.map,0)},k={number:(t,e,n,r)=>Number.isInteger(t)&&Number.isSafeInteger(t)?t>=0?new i.W(i.D.uint,t):new i.W(i.D.negint,t):new i.W(i.D.float,t),bigint:(t,e,n,r)=>t>=BigInt(0)?new i.W(i.D.uint,t):new i.W(i.D.negint,t),Uint8Array:(t,e,n,r)=>new i.W(i.D.bytes,t),string:(t,e,n,r)=>new i.W(i.D.string,t),boolean:(t,e,n,r)=>t?E.true:E.false,null:(t,e,n,r)=>E.null,undefined:(t,e,n,r)=>E.undefined,ArrayBuffer:(t,e,n,r)=>new i.W(i.D.bytes,new Uint8Array(t)),DataView:(t,e,n,r)=>new i.W(i.D.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),Array(t,e,n,r){if(!t.length)return!0===n.addBreakTokens?[E.emptyArray,new i.W(i.D.break)]:E.emptyArray;r=_.createCheck(r,t);const o=[];let s=0;for(const e of t)o[s++]=x(e,n,r);return n.addBreakTokens?[new i.W(i.D.array,t.length),o,new i.W(i.D.break)]:[new i.W(i.D.array,t.length),o]},Object(t,e,n,r){const o="Object"!==e,s=o?t.keys():Object.keys(t),a=o?t.size:s.length;if(!a)return!0===n.addBreakTokens?[E.emptyMap,new i.W(i.D.break)]:E.emptyMap;r=_.createCheck(r,t);const c=[];let u=0;for(const e of s)c[u++]=[x(e,n,r),x(o?t.get(e):t[e],n,r)];return function(t,e){e.mapSorter&&t.sort(e.mapSorter)}(c,n),n.addBreakTokens?[new i.W(i.D.map,a),c,new i.W(i.D.break)]:[new i.W(i.D.map,a),c]}};k.Map=k.Object,k.Buffer=k.Uint8Array;for(const t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))k[`${t}Array`]=k.DataView;function x(t,e={},n){const i=function(t){if(null===t)return"null";if(void 0===t)return"undefined";if(!0===t||!1===t)return"boolean";const e=typeof t;if(r.includes(e))return e;if("function"===e)return"Function";if(Array.isArray(t))return"Array";if(function(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}(t))return"Buffer";return function(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(o.includes(e))return e}(t)||"Object"}(t),s=e&&e.typeEncoders&&e.typeEncoders[i]||k[i];if("function"==typeof s){const r=s(t,i,e,n);if(null!=r)return r}const a=k[i];if(!a)throw new Error(`${c.OO} unsupported type: ${i}`);return a(t,i,e,n)}function C(t,e,n,r){if(Array.isArray(e))for(const o of e)C(t,o,n,r);else n[e.type.major](t,e,r)}function S(t,e,n){const r=x(t,n);if(!Array.isArray(r)&&n.quickEncodeToken){const t=n.quickEncodeToken(r);if(t)return t;const o=e[r.type.major];if(o.encodedSize){const t=o.encodedSize(r,n),e=new a(t);if(o(e,r,n),1!==e.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return(0,s.Dz)(e.chunks[0])}}return v.reset(),C(v,r,e,n),v.toBytes(!0)}function A(t,e){return e=Object.assign({},w,e),S(t,b,e)}},3741:(t,e,n)=>{"use strict";n.d(e,{JN:()=>w,PS:()=>m,cW:()=>y});var r=n(9787),o=n(5580),i=n(3929),s=n(2887),a=n(768),c=n(8278),u=n(9283),l=n(2428),f=n(3851),h=n(5590),d=n(2042);function p(t,e,n){throw new Error(`${h.IR} encountered invalid minor (${n}) for major ${t[e]>>>5}`)}function g(t){return()=>{throw new Error(`${h.IR} ${t}`)}}const y=[];for(let t=0;t<=23;t++)y[t]=p;y[24]=o.Km,y[25]=o.Zh,y[26]=o.cs,y[27]=o.uN,y[28]=p,y[29]=p,y[30]=p,y[31]=p;for(let t=32;t<=55;t++)y[t]=p;y[56]=i.yr,y[57]=i.r0,y[58]=i.wy,y[59]=i.ec,y[60]=p,y[61]=p,y[62]=p,y[63]=p;for(let t=64;t<=87;t++)y[t]=s.Ii;y[88]=s.UQ,y[89]=s.BS,y[90]=s.zU,y[91]=s.ME,y[92]=p,y[93]=p,y[94]=p,y[95]=g("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)y[t]=a.nt;y[120]=a.Bq,y[121]=a.h,y[122]=a.q0,y[123]=a.bc,y[124]=p,y[125]=p,y[126]=p,y[127]=g("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)y[t]=c.Ju;y[152]=c.h7,y[153]=c.OC,y[154]=c.lY,y[155]=c.a8,y[156]=p,y[157]=p,y[158]=p,y[159]=c.s5;for(let t=160;t<=183;t++)y[t]=u._K;y[184]=u.G,y[185]=u.qe,y[186]=u.IY,y[187]=u.F2,y[188]=p,y[189]=p,y[190]=p,y[191]=u.ng;for(let t=192;t<=215;t++)y[t]=l.qJ;y[216]=l.ZR,y[217]=l.CF,y[218]=l.vP,y[219]=l.MV,y[220]=p,y[221]=p,y[222]=p,y[223]=p;for(let t=224;t<=243;t++)y[t]=g("simple values are not supported");y[244]=p,y[245]=p,y[246]=p,y[247]=f.h1,y[248]=g("simple values are not supported"),y[249]=f.mW,y[250]=f.GI,y[251]=f.vV,y[252]=p,y[253]=p,y[254]=p,y[255]=f.y7;const m=[];for(let t=0;t<24;t++)m[t]=new r.W(r.D.uint,t,1);for(let t=-1;t>=-24;t--)m[31-t]=new r.W(r.D.negint,t,1);function w(t){switch(t.type){case r.D.false:return(0,d.nI)([244]);case r.D.true:return(0,d.nI)([245]);case r.D.null:return(0,d.nI)([246]);case r.D.bytes:return t.value.length?void 0:(0,d.nI)([64]);case r.D.string:return""===t.value?(0,d.nI)([96]):void 0;case r.D.array:return 0===t.value?(0,d.nI)([128]):void 0;case r.D.map:return 0===t.value?(0,d.nI)([160]):void 0;case r.D.uint:return t.value<24?(0,d.nI)([Number(t.value)]):void 0;case r.D.negint:if(t.value>=-24)return(0,d.nI)([31-Number(t.value)])}}m[64]=new r.W(r.D.bytes,new Uint8Array(0),1),m[96]=new r.W(r.D.string,"",1),m[128]=new r.W(r.D.array,0,1),m[160]=new r.W(r.D.map,0,1),m[244]=new r.W(r.D.false,!1,1),m[245]=new r.W(r.D.true,!0,1),m[246]=new r.W(r.D.null,null,1)},9787:(t,e,n)=>{"use strict";n.d(e,{D:()=>r,W:()=>o});class r{constructor(t,e,n){this.major=t,this.majorEncoded=t<<5,this.name=e,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}r.uint=new r(0,"uint",!0),r.negint=new r(1,"negint",!0),r.bytes=new r(2,"bytes",!0),r.string=new r(3,"string",!0),r.array=new r(4,"array",!1),r.map=new r(5,"map",!1),r.tag=new r(6,"tag",!1),r.float=new r(7,"float",!0),r.false=new r(7,"false",!0),r.true=new r(7,"true",!0),r.null=new r(7,"null",!0),r.undefined=new r(7,"undefined",!0),r.break=new r(7,"break",!0);class o{constructor(t,e,n){this.type=t,this.value=e,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}},7548:(t,e,n)=>{"use strict";n.r(e),n.d(e,{code:()=>c,decode:()=>l,encode:()=>u,name:()=>a});var r=n(4936),o=n(1362);const i={float64:!0,typeEncoders:{Object:function(t){if(t.asCID!==t)return null;const e=o.CID.asCID(t);if(!e)return null;const n=new Uint8Array(e.bytes.byteLength+1);return n.set(e.bytes,1),[new r.WU(r.Dy.tag,42),new r.WU(r.Dy.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},s={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};s.tags[42]=function(t){if(0!==t[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return o.CID.decode(t.subarray(1))};const a="dag-cbor",c=113,u=t=>r.cv(t,i),l=t=>r.Jx(t,s)},8176:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CID:()=>h.CID,create:()=>ko,globSource:()=>xo,multiaddr:()=>gt.Multiaddr,urlSource:()=>Eo});var r={};n.r(r),n.d(r,{code:()=>L,createLink:()=>N,createNode:()=>B,decode:()=>M,encode:()=>R,name:()=>U,prepare:()=>j,validate:()=>P});var o={};n.r(o),n.d(o,{code:()=>H,decode:()=>q,encode:()=>V,name:()=>W});var i={};n.r(i),n.d(i,{code:()=>ct,decode:()=>lt,encode:()=>ut,name:()=>at});const s=t=>Promise.reject(new Error(`No base found for "${t}"`));class a{constructor(t){this._basesByName={},this._basesByPrefix={},this._loadBase=t.loadBase||s;for(const e of t.bases)this.addBase(e)}addBase(t){if(this._basesByName[t.name]||this._basesByPrefix[t.prefix])throw new Error(`Codec already exists for codec "${t.name}"`);this._basesByName[t.name]=t,this._basesByPrefix[t.prefix]=t}removeBase(t){delete this._basesByName[t.name],delete this._basesByPrefix[t.prefix]}async getBase(t){if(this._basesByName[t])return this._basesByName[t];if(this._basesByPrefix[t])return this._basesByPrefix[t];const e=await this._loadBase(t);return null==this._basesByName[e.name]&&null==this._basesByPrefix[e.prefix]&&this.addBase(e),e}listBases(){return Object.values(this._basesByName)}}const c=t=>Promise.reject(new Error(`No codec found for "${t}"`));class u{constructor(t){this._codecsByName={},this._codecsByCode={},this._loadCodec=t.loadCodec||c;for(const e of t.codecs)this.addCodec(e)}addCodec(t){if(this._codecsByName[t.name]||this._codecsByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._codecsByName[t.name]=t,this._codecsByCode[t.code]=t}removeCodec(t){delete this._codecsByName[t.name],delete this._codecsByCode[t.code]}async getCodec(t){const e="string"==typeof t?this._codecsByName:this._codecsByCode;if(e[t])return e[t];const n=await this._loadCodec(t);return null==e[t]&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}}const l=t=>Promise.reject(new Error(`No hasher found for "${t}"`));class f{constructor(t){this._hashersByName={},this._hashersByCode={},this._loadHasher=t.loadHasher||l;for(const e of t.hashers)this.addHasher(e)}addHasher(t){if(this._hashersByName[t.name]||this._hashersByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._hashersByName[t.name]=t,this._hashersByCode[t.code]=t}removeHasher(t){delete this._hashersByName[t.name],delete this._hashersByCode[t.code]}async getHasher(t){const e="string"==typeof t?this._hashersByName:this._hashersByCode;if(e[t])return e[t];const n=await this._loadHasher(t);return null==e[t]&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}}var h=n(1362);const d=new TextDecoder;function p(t,e){let n=0;for(let r=0;;r+=7){if(r>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");const o=t[e++];if(n+=r<28?(127&o)<<r:(127&o)*2**r,o<128)break}return[n,e]}function g(t,e){let n;[n,e]=p(t,e);const r=e+n;if(n<0||r<0)throw new Error("protobuf: invalid length");if(r>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,r),r]}function y(t,e){let n;return[n,e]=p(t,e),[7&n,n>>3,e]}function m(t){const e={},n=t.length;let r=0;for(;r<n;){let n,o;if([n,o,r]=y(t,r),1===o){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(void 0!==e.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==e.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,r]=g(t,r)}else if(2===o){if(void 0!==e.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(void 0!==e.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let o;[o,r]=g(t,r),e.Name=d.decode(o)}else{if(3!==o)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`);if(void 0!==e.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,r]=p(t,r)}}if(r>n)throw new Error("protobuf: (PBLink) unexpected end of data");return e}const w=new TextEncoder,b=2**32,v=2**31;function _(t,e){let n=e.length;if("number"==typeof t.Tsize){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");n=k(e,n,t.Tsize)-1,e[n]=24}if("string"==typeof t.Name){const r=w.encode(t.Name);n-=r.length,e.set(r,n),n=k(e,n,r.length)-1,e[n]=18}return t.Hash&&(n-=t.Hash.length,e.set(t.Hash,n),n=k(e,n,t.Hash.length)-1,e[n]=10),e.length-n}function E(t){let e=0;if(t.Hash){const n=t.Hash.length;e+=1+n+x(n)}if("string"==typeof t.Name){const n=w.encode(t.Name).length;e+=1+n+x(n)}return"number"==typeof t.Tsize&&(e+=1+x(t.Tsize)),e}function k(t,e,n){const r=e-=x(n);for(;n>=v;)t[e++]=127&n|128,n/=128;for(;n>=128;)t[e++]=127&n|128,n>>>=7;return t[e]=n,r}function x(t){return t%2==0&&t++,Math.floor((function(t){let e=0;return t>=b&&(t=Math.floor(t/b),e=32),t>=65536&&(t>>>=16,e+=16),t>=256&&(t>>>=8,e+=8),e+C[t]}(t)+6)/7)}const C=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],S=["Data","Links"],A=["Hash","Name","Tsize"],I=new TextEncoder;function D(t,e){if(t===e)return 0;const n=t.Name?I.encode(t.Name):[],r=e.Name?I.encode(e.Name):[];let o=n.length,i=r.length;for(let t=0,e=Math.min(o,i);t<e;++t)if(n[t]!==r[t]){o=n[t],i=r[t];break}return o<i?-1:i<o?1:0}function T(t,e){return!Object.keys(t).some((t=>!e.includes(t)))}function O(t){if("object"==typeof t.asCID){const e=h.CID.asCID(t);if(!e)throw new TypeError("Invalid DAG-PB form");return{Hash:e}}if("object"!=typeof t||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Hash){let n=h.CID.asCID(t.Hash);try{n||("string"==typeof t.Hash?n=h.CID.parse(t.Hash):t.Hash instanceof Uint8Array&&(n=h.CID.decode(t.Hash)))}catch(t){throw new TypeError(`Invalid DAG-PB form: ${t.message}`)}n&&(e.Hash=n)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof t.Name&&(e.Name=t.Name),"number"==typeof t.Tsize&&(e.Tsize=t.Tsize),e}function j(t){if((t instanceof Uint8Array||"string"==typeof t)&&(t={Data:t}),"object"!=typeof t||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(void 0!==t.Data)if("string"==typeof t.Data)e.Data=I.encode(t.Data);else{if(!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");e.Data=t.Data}if(void 0!==t.Links){if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form");e.Links=t.Links.map(O),e.Links.sort(D)}else e.Links=[];return e}function P(t){if(!t||"object"!=typeof t||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");if(!T(t,S))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==t.Data&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let e=0;e<t.Links.length;e++){const n=t.Links[e];if(!n||"object"!=typeof n||Array.isArray(n))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!T(n,A))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(n.Hash.asCID!==n.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize&&("number"!=typeof n.Tsize||n.Tsize%1!=0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(e>0&&-1===D(n,t.Links[e-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function B(t,e=[]){return j({Data:t,Links:e})}function N(t,e,n){return O({Hash:n,Name:t,Tsize:e})}const U="dag-pb",L=112;function R(t){P(t);const e={};return t.Links&&(e.Links=t.Links.map((t=>{const e={};return t.Hash&&(e.Hash=t.Hash.bytes),void 0!==t.Name&&(e.Name=t.Name),void 0!==t.Tsize&&(e.Tsize=t.Tsize),e}))),t.Data&&(e.Data=t.Data),function(t){const e=function(t){let e=0;if(t.Data){const n=t.Data.length;e+=1+n+x(n)}if(t.Links)for(const n of t.Links){const t=E(n);e+=1+t+x(t)}return e}(t),n=new Uint8Array(e);let r=e;if(t.Data&&(r-=t.Data.length,n.set(t.Data,r),r=k(n,r,t.Data.length)-1,n[r]=10),t.Links)for(let e=t.Links.length-1;e>=0;e--){const o=_(t.Links[e],n.subarray(0,r));r-=o,r=k(n,r,o)-1,n[r]=18}return n}(e)}function M(t){const e=function(t){const e=t.length;let n,r,o=0,i=!1;for(;o<e;){let e,s;if([e,s,o]=y(t,o),2!==e)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${e}`);if(1===s){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");[r,o]=g(t,o),n&&(i=!0)}else{if(2!==s)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${s}`);{if(i)throw new Error("protobuf: (PBNode) duplicate Links section");let e;n||(n=[]),[e,o]=g(t,o),n.push(m(e))}}}if(o>e)throw new Error("protobuf: (PBNode) unexpected end of data");const s={};return r&&(s.Data=r),s.Links=n||[],s}(t),n={};return e.Data&&(n.Data=e.Data),e.Links&&(n.Links=e.Links.map((t=>{const e={};try{e.Hash=h.CID.decode(t.Hash)}catch(t){}if(!e.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==t.Name&&(e.Name=t.Name),void 0!==t.Tsize&&(e.Tsize=t.Tsize),e}))),n}var $=n(4936);const F={float64:!0,typeEncoders:{Object:function(t){if(t.asCID!==t)return null;const e=h.CID.asCID(t);if(!e)return null;const n=new Uint8Array(e.bytes.byteLength+1);return n.set(e.bytes,1),[new $.WU($.Dy.tag,42),new $.WU($.Dy.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},z={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};z.tags[42]=function(t){if(0!==t[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return h.CID.decode(t.subarray(1))};const W="dag-cbor",H=113,V=t=>$.cv(t,F),q=t=>$.Jx(t,z);var J=n(6441),G=n(9885),Y=n(9787),K=n(2696),X=n(5590),Z=n(2042);class Q extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){const e=this.inRecursive[this.inRecursive.length-1];e&&(e.type===Y.D.array&&(e.elements++,1!==e.elements&&t.push([44])),e.type===Y.D.map&&(e.elements++,1!==e.elements&&(e.elements%2==1?t.push([44]):t.push([58]))))}[Y.D.uint.major](t,e){this.prefix(t);const n=String(e.value),r=[];for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);t.push(r)}[Y.D.negint.major](t,e){this[Y.D.uint.major](t,e)}[Y.D.bytes.major](t,e){throw new Error(`${X.OO} unsupported type: Uint8Array`)}[Y.D.string.major](t,e){this.prefix(t);const n=(0,Z.mL)(JSON.stringify(e.value));t.push(n.length>32?(0,Z.Dz)(n):n)}[Y.D.array.major](t,e){this.prefix(t),this.inRecursive.push({type:Y.D.array,elements:0}),t.push([91])}[Y.D.map.major](t,e){this.prefix(t),this.inRecursive.push({type:Y.D.map,elements:0}),t.push([123])}[Y.D.tag.major](t,e){}[Y.D.float.major](t,e){if("break"===e.type.name){const e=this.inRecursive.pop();if(e){if(e.type===Y.D.array)t.push([93]);else{if(e.type!==Y.D.map)throw new Error("Unexpected recursive type; this should not happen!");t.push([125])}return}throw new Error("Unexpected break; this should not happen!")}if(void 0===e.value)throw new Error(`${X.OO} unsupported type: undefined`);if(this.prefix(t),"true"===e.type.name)return void t.push([116,114,117,101]);if("false"===e.type.name)return void t.push([102,97,108,115,101]);if("null"===e.type.name)return void t.push([110,117,108,108]);const n=String(e.value),r=[];let o=!1;for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t),o||46!==r[t]&&101!==r[t]&&69!==r[t]||(o=!0);o||(r.push(46),r.push(48)),t.push(r)}}const tt={addBreakTokens:!0,mapSorter:function(t,e){if(Array.isArray(t[0])||Array.isArray(e[0]))throw new Error(`${X.OO} complex map keys are not supported`);const n=t[0],r=e[0];if(n.type!==Y.D.string||r.type!==Y.D.string)throw new Error(`${X.OO} non-string map keys are not supported`);if(n<r)return-1;if(n>r)return 1;throw new Error(`${X.OO} unexpected duplicate map keys, this is not supported`)}};var et=n(1287);class nt{constructor(t,e={}){this.pos=0,this.data=t,this.options=e,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;32===t||9===t||13===t||10===t;)t=this.data[++this.pos]}expect(t){if(this.data.length-this.pos<t.length)throw new Error(`${X.IR} unexpected end of input at position ${this.pos}`);for(let e=0;e<t.length;e++)if(this.data[this.pos++]!==t[e])throw new Error(`${X.IR} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){const t=this.pos;let e=!1,n=!1;const r=t=>{for(;!this.done();){const e=this.ch();if(!t.includes(e))break;this.pos++}};if(45===this.ch()&&(e=!0,this.pos++),48===this.ch()){if(this.pos++,46!==this.ch())return new Y.W(Y.D.uint,0,this.pos-t);this.pos++,n=!0}if(r([48,49,50,51,52,53,54,55,56,57]),e&&this.pos===t+1)throw new Error(`${X.IR} unexpected token at position ${this.pos}`);if(!this.done()&&46===this.ch()){if(n)throw new Error(`${X.IR} unexpected token at position ${this.pos}`);n=!0,this.pos++,r([48,49,50,51,52,53,54,55,56,57])}this.done()||101!==this.ch()&&69!==this.ch()||(n=!0,this.pos++,this.done()||43!==this.ch()&&45!==this.ch()||this.pos++,r([48,49,50,51,52,53,54,55,56,57]));const o=String.fromCharCode.apply(null,this.data.subarray(t,this.pos)),i=parseFloat(o);return n?new Y.W(Y.D.float,i,this.pos-t):!0!==this.options.allowBigInt||Number.isSafeInteger(i)?new Y.W(i>=0?Y.D.uint:Y.D.negint,i,this.pos-t):new Y.W(i>=0?Y.D.uint:Y.D.negint,BigInt(o),this.pos-t)}parseString(){if(34!==this.ch())throw new Error(`${X.IR} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let t=this.pos,e=0;t<this.data.length&&e<65536;t++,e++){const n=this.data[t];if(92===n||n<32||n>=128)break;if(34===n){const n=String.fromCharCode.apply(null,this.data.subarray(this.pos,t));return this.pos=t+1,new Y.W(Y.D.string,n,e)}}const t=this.pos,e=[],n=()=>{if(this.pos+4>=this.data.length)throw new Error(`${X.IR} unexpected end of unicode escape sequence at position ${this.pos}`);let t=0;for(let e=0;e<4;e++){let e=this.ch();if(e>=48&&e<=57)e-=48;else if(e>=97&&e<=102)e=e-97+10;else{if(!(e>=65&&e<=70))throw new Error(`${X.IR} unexpected unicode escape character at position ${this.pos}`);e=e-65+10}t=16*t+e,this.pos++}return t},r=()=>{const t=this.ch();let n,r,o,i,s=null,a=t>239?4:t>223?3:t>191?2:1;if(this.pos+a>this.data.length)throw new Error(`${X.IR} unexpected unicode sequence at position ${this.pos}`);switch(a){case 1:t<128&&(s=t);break;case 2:n=this.data[this.pos+1],128==(192&n)&&(i=(31&t)<<6|63&n,i>127&&(s=i));break;case 3:n=this.data[this.pos+1],r=this.data[this.pos+2],128==(192&n)&&128==(192&r)&&(i=(15&t)<<12|(63&n)<<6|63&r,i>2047&&(i<55296||i>57343)&&(s=i));break;case 4:n=this.data[this.pos+1],r=this.data[this.pos+2],o=this.data[this.pos+3],128==(192&n)&&128==(192&r)&&128==(192&o)&&(i=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o,i>65535&&i<1114112&&(s=i))}null===s?(s=65533,a=1):s>65535&&(s-=65536,e.push(s>>>10&1023|55296),s=56320|1023&s),e.push(s),this.pos+=a};for(;!this.done();){const o=this.ch();let i;switch(o){case 92:if(this.pos++,this.done())throw new Error(`${X.IR} unexpected string termination at position ${this.pos}`);switch(i=this.ch(),this.pos++,i){case 34:case 39:case 92:case 47:e.push(i);break;case 98:e.push(8);break;case 116:e.push(9);break;case 110:e.push(10);break;case 102:e.push(12);break;case 114:e.push(13);break;case 117:e.push(n());break;default:throw new Error(`${X.IR} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new Y.W(Y.D.string,(0,Z.Pu)(e),this.pos-t);default:if(o<32)throw new Error(`${X.IR} invalid control character at position ${this.pos}`);o<128?(e.push(o),this.pos++):r()}}throw new Error(`${X.IR} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new Y.W(Y.D.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new Y.W(Y.D.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Y.W(Y.D.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Y.W(Y.D.false,!1,5);case 116:return this.expect([116,114,117,101]),new Y.W(Y.D.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${X.IR} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":if(this.modeStack.pop(),93===this.ch())return this.pos++,this.skipWhitespace(),new Y.W(Y.D.break,void 0,1);if(44!==this.ch())throw new Error(`${X.IR} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"array-start":return this.modeStack.pop(),93===this.ch()?(this.pos++,this.skipWhitespace(),new Y.W(Y.D.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(125===this.ch())return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new Y.W(Y.D.break,void 0,1);if(44!==this.ch())throw new Error(`${X.IR} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),125===this.ch())return this.pos++,this.skipWhitespace(),new Y.W(Y.D.break,void 0,1);const t=this.parseString();if(this.skipWhitespace(),58!==this.ch())throw new Error(`${X.IR} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${X.IR} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}}function rt(t){const e=G.base64.encode(t).slice(1);return[new $.WU($.Dy.map,1/0,1),new $.WU($.Dy.string,"/",1),new $.WU($.Dy.map,1/0,1),new $.WU($.Dy.string,"bytes",5),new $.WU($.Dy.string,e,e.length),new $.WU($.Dy.break,void 0,1),new $.WU($.Dy.break,void 0,1)]}const ot={typeEncoders:{Object:function(t){if(t.asCID!==t)return null;const e=J.k0.asCID(t);if(!e)return null;const n=e.toString();return[new $.WU($.Dy.map,1/0,1),new $.WU($.Dy.string,"/",1),new $.WU($.Dy.string,n,n.length),new $.WU($.Dy.break,void 0,1)]},Uint8Array:rt,Buffer:rt,undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};class it extends nt{constructor(t,e){super(t,e),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const t=this._next();if(t.type===$.Dy.map){const t=this._next();if(t.type===$.Dy.string&&"/"===t.value){const t=this._next();if(t.type===$.Dy.string){if(this._next().type!==$.Dy.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(t),new $.WU($.Dy.tag,42,0)}if(t.type===$.Dy.map){const t=this._next();if(t.type===$.Dy.string&&"bytes"===t.value){const t=this._next();if(t.type===$.Dy.string){for(let t=0;t<2;t++)if(this._next().type!==$.Dy.break)throw new Error("Invalid encoded Bytes form");const e=G.base64.decode(`m${t.value}`);return new $.WU($.Dy.bytes,e,t.value.length)}this.tokenBuffer.push(t)}this.tokenBuffer.push(t)}this.tokenBuffer.push(t)}this.tokenBuffer.push(t)}return t}}const st={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};st.tags[42]=J.k0.parse;const at="dag-json",ct=297,ut=t=>{return e=t,n=ot,n=Object.assign({},tt,n),(0,K.w$)(e,new Q,n);var e,n},lt=t=>function(t,e){return e=Object.assign({tokenizer:new nt(t,e)},e),(0,et.Jx)(t,e)}(t,Object.assign(st,{tokenizer:new it(t,st)}));var ft=n(8630),ht=n.t(ft,2),dt=n(8103),pt=n(7051),gt=n(6584),yt=n(106);let mt=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/giu;function wt(t="",e="ms"){var n=null,r="-"===(t=(t+"").replace(/(\d)[,_](\d)/g,"$1$2"))[0];return t.replace(mt,(function(t,e,r){(r=bt(r))&&(n=(n||0)+Math.abs(parseFloat(e,10))*r)})),n&&n/(bt(e)||1)*(r?-1:1)}function bt(t){return wt[t]||wt[t.toLowerCase().replace(/s$/,"")]}wt.nanosecond=wt.ns=1e-6,wt["s"]=wt["s"]=wt.us=wt.microsecond=.001,wt.millisecond=wt.ms=wt[""]=1,wt.second=wt.sec=wt.s=1e3*wt.ms,wt.minute=wt.min=wt.m=60*wt.s,wt.hour=wt.hr=wt.h=60*wt.m,wt.day=wt.d=24*wt.h,wt.week=wt.wk=wt.w=7*wt.d,wt.month=wt.b=30.4375*wt.d,wt.year=wt.yr=wt.y=365.25*wt.d;const vt=wt;var _t=n(1227),Et=n(7137);const kt=n(942);var xt=n(5700);function Ct(t){try{t=xt(new gt.Multiaddr(t))}catch(t){}return t.toString()}const St=_t("ipfs-http-client:lib:error-handler"),At=kt.bind({ignoreUndefined:!0}),It=yt.isBrowser||yt.isWebWorker?location.protocol:"http",Dt=yt.isBrowser||yt.isWebWorker?location.hostname:"localhost",Tt=yt.isBrowser||yt.isWebWorker?location.port:"5001",Ot=async t=>{let e;try{if((t.headers.get("Content-Type")||"").startsWith("application/json")){const n=await t.json();St(n),e=n.Message||n.message}else e=await t.text()}catch(t){St("Failed to parse error response",t),e=t.message}let n=new Et.HTTPError(t);throw e&&(e.includes("deadline has elapsed")&&(n=new Et.TimeoutError),e&&e.includes("context deadline exceeded")&&(n=new Et.TimeoutError)),e&&e.includes("request timed out")&&(n=new Et.TimeoutError),e&&(n.message=e),n},jt=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,Pt=t=>t.replace(jt,(function(t){return"-"+t.toLowerCase()}));class Bt extends Et{constructor(t={}){const e=((t={})=>{let e,n,r={};if("string"==typeof t||gt.Multiaddr.isMultiaddr(t))e=new URL(Ct(t));else if(t instanceof URL)e=t;else if("string"==typeof t.url||gt.Multiaddr.isMultiaddr(t.url))e=new URL(Ct(t.url)),r=t;else if(t.url instanceof URL)e=t.url,r=t;else{r=t||{};const n=(r.protocol||It).replace(":",""),o=(r.host||Dt).split(":")[0],i=r.port||Tt;e=new URL(`${n}://${o}:${i}`)}if(r.apiPath?e.pathname=r.apiPath:"/"!==e.pathname&&void 0!==e.pathname||(e.pathname="api/v0"),yt.isNode){const t=void 0;n=r.agent||new t({keepAlive:!0,maxSockets:6})}return{...r,host:e.host,protocol:e.protocol.replace(":",""),port:Number(e.port),apiPath:e.pathname,url:e,agent:n}})(t);var n;super({timeout:(n=e.timeout||0,("string"==typeof n?vt(n):n)||void 0),headers:e.headers,base:`${e.url}`,handleError:Ot,transformSearchParams:t=>{const e=new URLSearchParams;for(const[n,r]of t)"undefined"!==r&&"null"!==r&&"signal"!==n&&e.append(Pt(n),r),"timeout"!==n||isNaN(r)||e.append(Pt(n),r);return e},agent:e.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;const r=this.fetch;this.fetch=(t,n={})=>("string"!=typeof t||t.startsWith("/")||(t=`${e.url}/${t}`),r.call(this,t,At(n,{method:"POST"})))}}Et.HTTPError;const Nt=t=>e=>t(new Bt(e),e);function Ut(t){if(null!=t)return"string"==typeof t?t:t.toString(8).padStart(4,"0")}var Lt=n(2114);function Rt(t){if(null==t)return;let e;if(null!=t.secs&&(e={secs:t.secs,nsecs:t.nsecs}),null!=t.Seconds&&(e={secs:t.Seconds,nsecs:t.FractionalNanoseconds}),Array.isArray(t)&&(e={secs:t[0],nsecs:t[1]}),t instanceof Date){const n=t.getTime(),r=Math.floor(n/1e3);e={secs:r,nsecs:1e3*(n-1e3*r)}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(null!=e&&null!=e.nsecs&&(e.nsecs<0||e.nsecs>999999999))throw Lt(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}function Mt({arg:t,searchParams:e,hashAlg:n,mtime:r,mode:o,...i}={}){e&&(i={...i,...e}),n&&(i.hash=n),null!=r&&(r=Rt(r),i.mtime=r.secs,i.mtimeNsecs=r.nsecs),null!=o&&(i.mode=Ut(o)),i.timeout&&!isNaN(i.timeout)&&(i.timeout=`${i.timeout}ms`),null==t?t=[]:Array.isArray(t)||(t=[t]);const s=new URLSearchParams(i);return t.forEach((t=>s.append("arg",t))),s}const $t=Nt((t=>async function(e={}){return((await(await t.post("bitswap/wantlist",{signal:e.signal,searchParams:Mt(e),headers:e.headers})).json()).Keys||[]).map((t=>h.CID.parse(t["/"])))})),Ft=Nt((t=>async function(e,n={}){return((await(await t.post("bitswap/wantlist",{signal:n.signal,searchParams:Mt({...n,peer:e.toString()}),headers:n.headers})).json()).Keys||[]).map((t=>h.CID.parse(t["/"])))})),zt=Nt((t=>async function(e={}){const n=await t.post("bitswap/stat",{searchParams:Mt(e),signal:e.signal,headers:e.headers});return function(t){return{provideBufLen:t.ProvideBufLen,wantlist:(t.Wantlist||[]).map((t=>h.CID.parse(t["/"]))),peers:t.Peers||[],blocksReceived:BigInt(t.BlocksReceived),dataReceived:BigInt(t.DataReceived),blocksSent:BigInt(t.BlocksSent),dataSent:BigInt(t.DataSent),dupBlksReceived:BigInt(t.DupBlksReceived),dupDataReceived:BigInt(t.DupDataReceived)}}(await n.json())})),Wt=Nt((t=>async function(e,n={}){return(await t.post("bitswap/unwant",{signal:n.signal,searchParams:Mt({arg:e.toString(),...n}),headers:n.headers})).json()})),Ht=Nt((t=>async function(e,n={}){const r=await t.post("block/get",{signal:n.signal,searchParams:Mt({arg:e.toString(),...n}),headers:n.headers});return new Uint8Array(await r.arrayBuffer())}));var Vt=n(8132),qt=n(6154),Jt=n(1303);function Gt(t){return ArrayBuffer.isView(t)||t instanceof ArrayBuffer}function Yt(t){return t.constructor&&("Blob"===t.constructor.name||"File"===t.constructor.name)&&"function"==typeof t.stream}function Kt(t){return"object"==typeof t&&(t.path||t.content)}const Xt=t=>t&&"function"==typeof t.getReader;async function Zt(t){if(Gt(t))return new Blob([t]);if("string"==typeof t||t instanceof String)return new Blob([t.toString()]);if(Yt(t))return t;if(Xt(t)&&(t=qt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const e=Vt(t),{value:n,done:r}=await e.peek();if(r)return Qt(e);if(e.push(n),Number.isInteger(n))return new Blob([Uint8Array.from(await Jt(e))]);if(Gt(n)||"string"==typeof n||n instanceof String)return Qt(e)}throw Lt(new Error(`Unexpected input: ${t}`),"ERR_UNEXPECTED_INPUT")}async function Qt(t){const e=[];for await(const n of t)e.push(n);return new Blob(e)}var te=n(2121),ee=n(2100);const ne=ee.Reader,re=ee.Writer,oe=ee.util,ie=ee.roots["ipfs-unixfs"]||(ee.roots["ipfs-unixfs"]={});function se(t){if(null!=t)return"number"==typeof t?4095&t:"0"===(t=t.toString()).substring(0,1)?4095&parseInt(t,8):4095&parseInt(t,10)}function ae(t){if(null==t)return;let e;if(null!=t.secs&&(e={secs:t.secs,nsecs:t.nsecs}),null!=t.Seconds&&(e={secs:t.Seconds,nsecs:t.FractionalNanoseconds}),Array.isArray(t)&&(e={secs:t[0],nsecs:t[1]}),t instanceof Date){const n=t.getTime(),r=Math.floor(n/1e3);e={secs:r,nsecs:1e3*(n-1e3*r)}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(null!=e&&null!=e.nsecs&&(e.nsecs<0||e.nsecs>999999999))throw Lt(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}async function ce(t,e){const{path:n,mode:r,mtime:o,content:i}=t,s={path:n||"",mode:se(r),mtime:ae(o)};return i?s.content=await e(i):n||(s.content=await e(t)),s}function ue(t){if(null!=t)return"string"==typeof t?t:t.toString(8).padStart(4,"0")}async function le(t,e,n={}){const r=[],o=new FormData;let i=0,s=0;for await(const{content:e,path:n,mode:a,mtime:c}of async function*(t,e){if("string"==typeof t||t instanceof String||Gt(t)||Yt(t)||t._readableState)throw Lt(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(Xt(t)&&(t=qt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const n=Vt(t),{value:r,done:o}=await n.peek();if(o)return void(yield*[]);if(n.push(r),Number.isInteger(r))throw Lt(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(r._readableState)return void(yield*te(n,(t=>ce({content:t},e))));if(Gt(r))return void(yield ce({content:n},e));if(Kt(r)||r[Symbol.iterator]||r[Symbol.asyncIterator]||Xt(r)||Yt(r))return void(yield*te(n,(t=>ce(t,e))))}if(Kt(t))throw Lt(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw Lt(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT")}(t,Zt)){let t="";i>0&&(t=`-${i}`);let u=(e?"file":"dir")+t;const l=[];if(null!=a&&l.push(`mode=${ue(a)}`),null!=c){const{secs:t,nsecs:e}=c;l.push(`mtime=${t}`),null!=e&&l.push(`mtime-nsecs=${e}`)}if(l.length&&(u=`${u}?${l.join("&")}`),e){o.set(u,e,null!=n?encodeURIComponent(n):void 0);const t=s+e.size;r.push({name:n,start:s,end:t}),s=t}else{if(null==n)throw new Error("path or content or both must be set");o.set(u,new File([""],encodeURIComponent(n),{type:"application/x-directory"}))}i++}return{total:s,parts:r,headers:n,body:o}}ie.Data=(()=>{function t(t){if(this.blocksizes=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.Type=0,t.prototype.Data=oe.newBuffer([]),t.prototype.filesize=oe.Long?oe.Long.fromBits(0,0,!0):0,t.prototype.blocksizes=oe.emptyArray,t.prototype.hashType=oe.Long?oe.Long.fromBits(0,0,!0):0,t.prototype.fanout=oe.Long?oe.Long.fromBits(0,0,!0):0,t.prototype.mode=0,t.prototype.mtime=null,t.encode=function(t,e){if(e||(e=re.create()),e.uint32(8).int32(t.Type),null!=t.Data&&Object.hasOwnProperty.call(t,"Data")&&e.uint32(18).bytes(t.Data),null!=t.filesize&&Object.hasOwnProperty.call(t,"filesize")&&e.uint32(24).uint64(t.filesize),null!=t.blocksizes&&t.blocksizes.length)for(var n=0;n<t.blocksizes.length;++n)e.uint32(32).uint64(t.blocksizes[n]);return null!=t.hashType&&Object.hasOwnProperty.call(t,"hashType")&&e.uint32(40).uint64(t.hashType),null!=t.fanout&&Object.hasOwnProperty.call(t,"fanout")&&e.uint32(48).uint64(t.fanout),null!=t.mode&&Object.hasOwnProperty.call(t,"mode")&&e.uint32(56).uint32(t.mode),null!=t.mtime&&Object.hasOwnProperty.call(t,"mtime")&&ie.UnixTime.encode(t.mtime,e.uint32(66).fork()).ldelim(),e},t.decode=function(t,e){t instanceof ne||(t=ne.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new ie.Data;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.Type=t.int32();break;case 2:r.Data=t.bytes();break;case 3:r.filesize=t.uint64();break;case 4:if(r.blocksizes&&r.blocksizes.length||(r.blocksizes=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.blocksizes.push(t.uint64());else r.blocksizes.push(t.uint64());break;case 5:r.hashType=t.uint64();break;case 6:r.fanout=t.uint64();break;case 7:r.mode=t.uint32();break;case 8:r.mtime=ie.UnixTime.decode(t,t.uint32());break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("Type"))throw oe.ProtocolError("missing required 'Type'",{instance:r});return r},t.fromObject=function(t){if(t instanceof ie.Data)return t;var e=new ie.Data;switch(t.Type){case"Raw":case 0:e.Type=0;break;case"Directory":case 1:e.Type=1;break;case"File":case 2:e.Type=2;break;case"Metadata":case 3:e.Type=3;break;case"Symlink":case 4:e.Type=4;break;case"HAMTShard":case 5:e.Type=5}if(null!=t.Data&&("string"==typeof t.Data?oe.base64.decode(t.Data,e.Data=oe.newBuffer(oe.base64.length(t.Data)),0):t.Data.length&&(e.Data=t.Data)),null!=t.filesize&&(oe.Long?(e.filesize=oe.Long.fromValue(t.filesize)).unsigned=!0:"string"==typeof t.filesize?e.filesize=parseInt(t.filesize,10):"number"==typeof t.filesize?e.filesize=t.filesize:"object"==typeof t.filesize&&(e.filesize=new oe.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0))),t.blocksizes){if(!Array.isArray(t.blocksizes))throw TypeError(".Data.blocksizes: array expected");e.blocksizes=[];for(var n=0;n<t.blocksizes.length;++n)oe.Long?(e.blocksizes[n]=oe.Long.fromValue(t.blocksizes[n])).unsigned=!0:"string"==typeof t.blocksizes[n]?e.blocksizes[n]=parseInt(t.blocksizes[n],10):"number"==typeof t.blocksizes[n]?e.blocksizes[n]=t.blocksizes[n]:"object"==typeof t.blocksizes[n]&&(e.blocksizes[n]=new oe.LongBits(t.blocksizes[n].low>>>0,t.blocksizes[n].high>>>0).toNumber(!0))}if(null!=t.hashType&&(oe.Long?(e.hashType=oe.Long.fromValue(t.hashType)).unsigned=!0:"string"==typeof t.hashType?e.hashType=parseInt(t.hashType,10):"number"==typeof t.hashType?e.hashType=t.hashType:"object"==typeof t.hashType&&(e.hashType=new oe.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0))),null!=t.fanout&&(oe.Long?(e.fanout=oe.Long.fromValue(t.fanout)).unsigned=!0:"string"==typeof t.fanout?e.fanout=parseInt(t.fanout,10):"number"==typeof t.fanout?e.fanout=t.fanout:"object"==typeof t.fanout&&(e.fanout=new oe.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0))),null!=t.mode&&(e.mode=t.mode>>>0),null!=t.mtime){if("object"!=typeof t.mtime)throw TypeError(".Data.mtime: object expected");e.mtime=ie.UnixTime.fromObject(t.mtime)}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.blocksizes=[]),e.defaults){if(n.Type=e.enums===String?"Raw":0,e.bytes===String?n.Data="":(n.Data=[],e.bytes!==Array&&(n.Data=oe.newBuffer(n.Data))),oe.Long){var r=new oe.Long(0,0,!0);n.filesize=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.filesize=e.longs===String?"0":0;oe.Long?(r=new oe.Long(0,0,!0),n.hashType=e.longs===String?r.toString():e.longs===Number?r.toNumber():r):n.hashType=e.longs===String?"0":0,oe.Long?(r=new oe.Long(0,0,!0),n.fanout=e.longs===String?r.toString():e.longs===Number?r.toNumber():r):n.fanout=e.longs===String?"0":0,n.mode=0,n.mtime=null}if(null!=t.Type&&t.hasOwnProperty("Type")&&(n.Type=e.enums===String?ie.Data.DataType[t.Type]:t.Type),null!=t.Data&&t.hasOwnProperty("Data")&&(n.Data=e.bytes===String?oe.base64.encode(t.Data,0,t.Data.length):e.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),null!=t.filesize&&t.hasOwnProperty("filesize")&&("number"==typeof t.filesize?n.filesize=e.longs===String?String(t.filesize):t.filesize:n.filesize=e.longs===String?oe.Long.prototype.toString.call(t.filesize):e.longs===Number?new oe.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0):t.filesize),t.blocksizes&&t.blocksizes.length){n.blocksizes=[];for(var o=0;o<t.blocksizes.length;++o)"number"==typeof t.blocksizes[o]?n.blocksizes[o]=e.longs===String?String(t.blocksizes[o]):t.blocksizes[o]:n.blocksizes[o]=e.longs===String?oe.Long.prototype.toString.call(t.blocksizes[o]):e.longs===Number?new oe.LongBits(t.blocksizes[o].low>>>0,t.blocksizes[o].high>>>0).toNumber(!0):t.blocksizes[o]}return null!=t.hashType&&t.hasOwnProperty("hashType")&&("number"==typeof t.hashType?n.hashType=e.longs===String?String(t.hashType):t.hashType:n.hashType=e.longs===String?oe.Long.prototype.toString.call(t.hashType):e.longs===Number?new oe.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0):t.hashType),null!=t.fanout&&t.hasOwnProperty("fanout")&&("number"==typeof t.fanout?n.fanout=e.longs===String?String(t.fanout):t.fanout:n.fanout=e.longs===String?oe.Long.prototype.toString.call(t.fanout):e.longs===Number?new oe.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0):t.fanout),null!=t.mode&&t.hasOwnProperty("mode")&&(n.mode=t.mode),null!=t.mtime&&t.hasOwnProperty("mtime")&&(n.mtime=ie.UnixTime.toObject(t.mtime,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,ee.util.toJSONOptions)},t.DataType=function(){const t={},e=Object.create(t);return e[t[0]="Raw"]=0,e[t[1]="Directory"]=1,e[t[2]="File"]=2,e[t[3]="Metadata"]=3,e[t[4]="Symlink"]=4,e[t[5]="HAMTShard"]=5,e}(),t})(),ie.UnixTime=(()=>{function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.Seconds=oe.Long?oe.Long.fromBits(0,0,!1):0,t.prototype.FractionalNanoseconds=0,t.encode=function(t,e){return e||(e=re.create()),e.uint32(8).int64(t.Seconds),null!=t.FractionalNanoseconds&&Object.hasOwnProperty.call(t,"FractionalNanoseconds")&&e.uint32(21).fixed32(t.FractionalNanoseconds),e},t.decode=function(t,e){t instanceof ne||(t=ne.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new ie.UnixTime;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.Seconds=t.int64();break;case 2:r.FractionalNanoseconds=t.fixed32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("Seconds"))throw oe.ProtocolError("missing required 'Seconds'",{instance:r});return r},t.fromObject=function(t){if(t instanceof ie.UnixTime)return t;var e=new ie.UnixTime;return null!=t.Seconds&&(oe.Long?(e.Seconds=oe.Long.fromValue(t.Seconds)).unsigned=!1:"string"==typeof t.Seconds?e.Seconds=parseInt(t.Seconds,10):"number"==typeof t.Seconds?e.Seconds=t.Seconds:"object"==typeof t.Seconds&&(e.Seconds=new oe.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber())),null!=t.FractionalNanoseconds&&(e.FractionalNanoseconds=t.FractionalNanoseconds>>>0),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults){if(oe.Long){var r=new oe.Long(0,0,!1);n.Seconds=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.Seconds=e.longs===String?"0":0;n.FractionalNanoseconds=0}return null!=t.Seconds&&t.hasOwnProperty("Seconds")&&("number"==typeof t.Seconds?n.Seconds=e.longs===String?String(t.Seconds):t.Seconds:n.Seconds=e.longs===String?oe.Long.prototype.toString.call(t.Seconds):e.longs===Number?new oe.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber():t.Seconds),null!=t.FractionalNanoseconds&&t.hasOwnProperty("FractionalNanoseconds")&&(n.FractionalNanoseconds=t.FractionalNanoseconds),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,ee.util.toJSONOptions)},t})(),ie.Metadata=(()=>{function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.MimeType="",t.encode=function(t,e){return e||(e=re.create()),null!=t.MimeType&&Object.hasOwnProperty.call(t,"MimeType")&&e.uint32(10).string(t.MimeType),e},t.decode=function(t,e){t instanceof ne||(t=ne.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new ie.Metadata;t.pos<n;){var o=t.uint32();o>>>3==1?r.MimeType=t.string():t.skipType(7&o)}return r},t.fromObject=function(t){if(t instanceof ie.Metadata)return t;var e=new ie.Metadata;return null!=t.MimeType&&(e.MimeType=String(t.MimeType)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.MimeType=""),null!=t.MimeType&&t.hasOwnProperty("MimeType")&&(n.MimeType=t.MimeType),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,ee.util.toJSONOptions)},t})(),parseInt("0644",8),parseInt("0755",8);var fe=n(2044);function he(...t){return(0,fe.anySignal)(function(t){return t.filter(Boolean)}(t))}const de=Nt((t=>async function e(n,r={}){const o=he((new AbortController).signal,r.signal);let i;try{const e=await t.post("block/put",{signal:o,searchParams:Mt(r),...await le([n],0,r.headers)});i=await e.json()}catch(t){if("dag-pb"===r.format)return e(n,{...r,format:"protobuf"});if("dag-cbor"===r.format)return e(n,{...r,format:"cbor"});throw t}return h.CID.parse(i.Key)})),pe=Nt((t=>async function*(e,n={}){Array.isArray(e)||(e=[e]);const r=await t.post("block/rm",{signal:n.signal,searchParams:Mt({arg:e.map((t=>t.toString())),"stream-channels":!0,...n}),headers:n.headers});for await(const t of r.ndjson())yield ge(t)}));function ge(t){const e={cid:h.CID.parse(t.Hash)};return t.Error&&(e.error=new Error(t.Error)),e}const ye=Nt((t=>async function(e,n={}){const r=await t.post("block/stat",{signal:n.signal,searchParams:Mt({arg:e.toString(),...n}),headers:n.headers}),o=await r.json();return{cid:h.CID.parse(o.Key),size:o.Size}}));function me(t){return{get:Ht(t),put:de(t),rm:pe(t),stat:ye(t)}}const we=Nt((t=>async function(e,n={}){const r=await t.post("bootstrap/add",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),{Peers:o}=await r.json();return{Peers:o.map((t=>new gt.Multiaddr(t)))}})),be=Nt((t=>async function(e={}){const n=await t.post("bootstrap/rm",{signal:e.signal,searchParams:Mt({...e,all:!0}),headers:e.headers}),{Peers:r}=await n.json();return{Peers:r.map((t=>new gt.Multiaddr(t)))}})),ve=Nt((t=>async function(e={}){const n=await t.post("bootstrap/list",{signal:e.signal,searchParams:Mt(e),headers:e.headers}),{Peers:r}=await n.json();return{Peers:r.map((t=>new gt.Multiaddr(t)))}})),_e=Nt((t=>async function(e={}){const n=await t.post("bootstrap/add",{signal:e.signal,searchParams:Mt({...e,default:!0}),headers:e.headers}),{Peers:r}=await n.json();return{Peers:r.map((t=>new gt.Multiaddr(t)))}})),Ee=Nt((t=>async function(e,n={}){const r=await t.post("bootstrap/rm",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),{Peers:o}=await r.json();return{Peers:o.map((t=>new gt.Multiaddr(t)))}}));function ke(t){return{add:we(t),clear:be(t),list:ve(t),reset:_e(t),rm:Ee(t)}}const xe=Nt((t=>async function(e,n={}){const r=await t.post("config/profile/apply",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),o=await r.json();return{original:o.OldCfg,updated:o.NewCfg}}));function Ce(t){if(null==t)return t;const e=/^[A-Z]+$/;return Object.keys(t).reduce(((n,r)=>(e.test(r)?n[r.toLowerCase()]=t[r]:e.test(r[0])?n[r[0].toLowerCase()+r.slice(1)]=t[r]:n[r]=t[r],n)),{})}const Se=Nt((t=>async function(e={}){const n=await t.post("config/profile/list",{signal:e.signal,searchParams:Mt(e),headers:e.headers});return(await n.json()).map((t=>Ce(t)))}));function Ae(t){return{apply:xe(t),list:Se(t)}}const Ie=Nt((t=>async(e,n={})=>{if(!e)throw new Error("key argument is required");const r=await t.post("config",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers});return(await r.json()).Value})),De=Nt((t=>async(e={})=>{const n=await t.post("config/show",{signal:e.signal,searchParams:Mt({...e}),headers:e.headers});return await n.json()}));var Te=n(2217);const Oe=Nt((t=>async(e,n={})=>{const r=he((new AbortController).signal,n.signal),o=await t.post("config/replace",{signal:r,searchParams:Mt(n),...await le([(0,Te.fromString)(JSON.stringify(e))],0,n.headers)});await o.text()})),je=Nt((t=>async(e,n,r={})=>{if("string"!=typeof e)throw new Error("Invalid key type");const o={...r,...Pe(e,n)},i=await t.post("config",{signal:r.signal,searchParams:Mt(o),headers:r.headers});await i.text()})),Pe=(t,e)=>{switch(typeof e){case"boolean":return{arg:[t,e.toString()],bool:!0};case"string":return{arg:[t,e]};default:return{arg:[t,JSON.stringify(e)],json:!0}}};function Be(t){return{getAll:De(t),get:Ie(t),set:je(t),replace:Oe(t),profiles:Ae(t)}}const Ne=Nt((t=>async function*(e,n={}){const r=await t.post("dag/export",{signal:n.signal,searchParams:Mt({arg:e.toString()}),headers:n.headers});yield*r.iterator()}));async function*Ue(t,e,n,r,o){const i=async t=>{const e=await n.getCodec(t.code),i=await r(t,o);return e.decode(i)},s=e.split("/").filter(Boolean);let a=await i(t),c=t;for(;s.length;){const t=s.shift();if(!t)throw Lt(new Error(`Could not resolve path "${e}"`),"ERR_INVALID_PATH");if(!Object.prototype.hasOwnProperty.call(a,t))throw Lt(new Error(`no link named "${t}" under ${c}`),"ERR_NO_LINK");a=a[t],yield{value:a,remainderPath:s.join("/")};const n=h.CID.asCID(a);n&&(c=n,a=await i(a))}yield{value:a,remainderPath:""}}var Le=n(2262),Re=n(3093);const Me=(t,e)=>{const n=Nt(((e,n)=>{const r=Ht(n);return async(e,n={})=>{if(n.path){const o=n.localResolve?await Le(Ue(e,n.path,t,r,n)):await Re(Ue(e,n.path,t,r,n));if(!o)throw Lt(new Error("Not found"),"ERR_NOT_FOUND");return o}const o=await t.getCodec(e.code),i=await r(e,n);return{value:o.decode(i),remainderPath:""}}}));return n(e)},$e=Nt((t=>async function*(e,n={}){const r=he((new AbortController).signal,n.signal),{headers:o,body:i}=await le(e,0,n.headers),s=await t.post("dag/import",{signal:r,headers:o,body:i,searchParams:Mt({"pin-roots":n.pinRoots})});for await(const{Root:t}of s.ndjson())if(void 0!==t){const{Cid:{"/":e},PinErrorMsg:n}=t;yield{root:{cid:h.CID.parse(e),pinErrorMsg:n}}}})),Fe=(t,e)=>{const n=Nt((e=>async(n,r={})=>{const o={storeCodec:"dag-cbor",hashAlg:"sha2-256",...r};let i;if(o.inputCodec){if(!(n instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");i=n}else i=(await t.getCodec(o.storeCodec)).encode(n),o.inputCodec=o.storeCodec;const s=he((new AbortController).signal,o.signal),a=await e.post("dag/put",{timeout:o.timeout,signal:s,searchParams:Mt(o),...await le([i],0,o.headers)}),c=await a.json();return h.CID.parse(c.Cid["/"])}));return n(e)},ze=Nt((t=>async(e,n={})=>{const r=await t.post("dag/resolve",{signal:n.signal,searchParams:Mt({arg:`${e}${n.path?`/${n.path}`.replace(/\/[/]+/g,"/"):""}`,...n}),headers:n.headers}),o=await r.json();return{cid:h.CID.parse(o.Cid["/"]),remainderPath:o.RemPath}}));function We(t,e){return{export:Ne(e),get:Me(t,e),import:$e(e),put:Fe(t,e),resolve:ze(e)}}const He=t=>{if(0===t.Type)return{to:t.ID,name:"SENDING_QUERY",type:t.Type};if(1===t.Type)return{from:t.ID,name:"PEER_RESPONSE",type:t.Type,messageType:0,messageName:"PUT_VALUE",closer:(t.Responses||[]).map((({ID:t,Addrs:e})=>({id:t,multiaddrs:e.map((t=>new gt.Multiaddr(t)))}))),providers:(t.Responses||[]).map((({ID:t,Addrs:e})=>({id:t,multiaddrs:e.map((t=>new gt.Multiaddr(t)))})))};if(2===t.Type){let e={id:t.ID,multiaddrs:[]};return t.Responses&&t.Responses.length&&(e={id:t.Responses[0].ID,multiaddrs:t.Responses[0].Addrs.map((t=>new gt.Multiaddr(t)))}),{from:t.ID,name:"FINAL_PEER",type:t.Type,peer:e}}if(3===t.Type)return{from:t.ID,name:"QUERY_ERROR",type:t.Type,error:new Error(t.Extra)};if(4===t.Type)return{from:t.ID,name:"PROVIDER",type:t.Type,providers:t.Responses.map((({ID:t,Addrs:e})=>({id:t,multiaddrs:e.map((t=>new gt.Multiaddr(t)))})))};if(5===t.Type)return{from:t.ID,name:"VALUE",type:t.Type,value:(0,Te.fromString)(t.Extra,"base64pad")};if(6===t.Type){const e=t.Responses.map((({ID:t})=>t));if(!e.length)throw new Error("No peer found");return{name:"ADDING_PEER",type:t.Type,peer:e[0]}}if(7===t.Type)return{name:"DIALING_PEER",type:t.Type,peer:t.ID};throw new Error("Unknown DHT event type")},Ve=Nt((t=>async function*(e,n={}){const r=await t.post("dht/findpeer",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers});for await(const t of r.ndjson())yield He(t)})),qe=Nt((t=>async function*(e,n={}){const r=await t.post("dht/findprovs",{signal:n.signal,searchParams:Mt({arg:e.toString(),...n}),headers:n.headers});for await(const t of r.ndjson())yield He(t)}));var Je=n(2263);const Ge=Nt((t=>async function*(e,n={}){const r=await t.post("dht/get",{signal:n.signal,searchParams:Mt({arg:e instanceof Uint8Array?(0,Je.toString)(e):e.toString(),...n}),headers:n.headers});for await(const t of r.ndjson())yield He(t)})),Ye=Nt((t=>async function*(e,n={recursive:!1}){const r=Array.isArray(e)?e:[e],o=await t.post("dht/provide",{signal:n.signal,searchParams:Mt({arg:r.map((t=>t.toString())),...n}),headers:n.headers});for await(const t of o.ndjson())yield He(t)})),Ke=Nt((t=>async function*(e,n,r={}){const o=he((new AbortController).signal,r.signal),i=await t.post("dht/put",{signal:o,searchParams:Mt({arg:e instanceof Uint8Array?(0,Je.toString)(e):e.toString(),...r}),...await le([n],0,r.headers)});for await(const t of i.ndjson())yield He(t)})),Xe=Nt((t=>async function*(e,n={}){const r=await t.post("dht/query",{signal:n.signal,searchParams:Mt({arg:e.toString(),...n}),headers:n.headers});for await(const t of r.ndjson())yield He(t)}));function Ze(t){return{findPeer:Ve(t),findProvs:qe(t),get:Ge(t),provide:Ye(t),put:Ke(t),query:Xe(t)}}const Qe=Nt((t=>async function(e={}){return(await t.post("diag/cmds",{signal:e.signal,searchParams:Mt(e),headers:e.headers})).json()})),tn=Nt((t=>async function(e={}){return(await t.post("diag/net",{signal:e.signal,searchParams:Mt(e),headers:e.headers})).json()})),en=Nt((t=>async function(e={}){return(await t.post("diag/sys",{signal:e.signal,searchParams:Mt(e),headers:e.headers})).json()}));function nn(t){return{cmds:Qe(t),net:tn(t),sys:en(t)}}const rn=Nt((t=>async function(e,n,r={}){const o=await t.post("files/chmod",{signal:r.signal,searchParams:Mt({arg:e,mode:n,...r}),headers:r.headers});await o.text()})),on=Nt((t=>async function(e,n,r={}){const o=Array.isArray(e)?e:[e],i=await t.post("files/cp",{signal:r.signal,searchParams:Mt({arg:o.concat(n).map((t=>h.CID.asCID(t)?`/ipfs/${t}`:t)),...r}),headers:r.headers});await i.text()})),sn=Nt((t=>async function(e,n={}){if(!e||"string"!=typeof e)throw new Error("ipfs.files.flush requires a path");const r=await t.post("files/flush",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),o=await r.json();return h.CID.parse(o.Cid)}));function an(t){const e=Ce(t);return Object.prototype.hasOwnProperty.call(e,"mode")&&(e.mode=parseInt(e.mode,8)),Object.prototype.hasOwnProperty.call(e,"mtime")&&(e.mtime={secs:e.mtime,nsecs:e.mtimeNsecs||0},delete e.mtimeNsecs),e}const cn=Nt((t=>async function*(e,n={}){if(!e)throw new Error("ipfs.files.ls requires a path");const r=await t.post("files/ls",{signal:n.signal,searchParams:Mt({arg:h.CID.asCID(e)?`/ipfs/${e}`:e,long:!0,...n,stream:!0}),headers:n.headers});for await(const t of r.ndjson())if("Entries"in t)for(const e of t.Entries||[])yield un(an(e));else yield un(an(t))}));function un(t){return t.hash&&(t.cid=h.CID.parse(t.hash)),delete t.hash,t.type=1===t.type?"directory":"file",t}const ln=Nt((t=>async function(e,n={}){const r=await t.post("files/mkdir",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers});await r.text()})),fn=Nt((t=>async function(e,n,r={}){Array.isArray(e)||(e=[e]);const o=await t.post("files/mv",{signal:r.signal,searchParams:Mt({arg:e.concat(n),...r}),headers:r.headers});await o.text()}));var hn=n(590);const dn=Nt((t=>async function*(e,n={}){const r=await t.post("files/read",{signal:n.signal,searchParams:Mt({arg:e,count:n.length,...n}),headers:n.headers});yield*hn(r.body)})),pn=Nt((t=>async function(e,n={}){const r=await t.post("files/rm",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),o=await r.text();if(""!==o){const t=new Et.HTTPError(r);throw t.message=o,t}})),gn=Nt((t=>async function(e,n={}){const r=await t.post("files/stat",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),o=await r.json();return o.WithLocality=o.WithLocality||!1,(i=an(o)).cid=h.CID.parse(i.hash),delete i.hash,i;var i})),yn=Nt((t=>async function(e,n={}){const r=await t.post("files/touch",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers});await r.text()})),mn=Nt((t=>async function(e,n,r={}){const o=he((new AbortController).signal,r.signal),i=await t.post("files/write",{signal:o,searchParams:Mt({arg:e,streamChannels:!0,count:r.length,...r}),...await le([{content:n,path:"arg",mode:Ut(r.mode),mtime:Rt(r.mtime)}],0,r.headers)});await i.text()}));function wn(t){return{chmod:rn(t),cp:on(t),flush:sn(t),ls:cn(t),mkdir:ln(t),mv:fn(t),read:dn(t),rm:pn(t),stat:gn(t),touch:yn(t),write:mn(t)}}const bn=Nt((t=>async(t,e,n={})=>{throw Lt(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),vn=Nt((t=>async function(e,n={type:"rsa",size:2048}){const r=await t.post("key/gen",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers});return Ce(await r.json())})),_n=Nt((t=>async function(e,n,r,o={}){const i=await t.post("key/import",{signal:o.signal,searchParams:Mt({arg:e,pem:n,password:r,...o}),headers:o.headers});return Ce(await i.json())})),En=Nt((t=>async(t,e={})=>{throw Lt(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),kn=Nt((t=>async function(e={}){const n=await t.post("key/list",{signal:e.signal,searchParams:Mt(e),headers:e.headers});return((await n.json()).Keys||[]).map((t=>Ce(t)))})),xn=Nt((t=>async function(e,n,r={}){const o=await t.post("key/rename",{signal:r.signal,searchParams:Mt({arg:[e,n],...r}),headers:r.headers});return Ce(await o.json())})),Cn=Nt((t=>async function(e,n={}){const r=await t.post("key/rm",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers});return Ce((await r.json()).Keys[0])}));function Sn(t){return{export:bn(t),gen:vn(t),import:_n(t),info:En(t),list:kn(t),rename:xn(t),rm:Cn(t)}}const An=Nt((t=>async function(e,n,r={}){const o=await t.post("log/level",{signal:r.signal,searchParams:Mt({arg:[e,n],...r}),headers:r.headers});return Ce(await o.json())})),In=Nt((t=>async function(e={}){const n=await t.post("log/ls",{signal:e.signal,searchParams:Mt(e),headers:e.headers});return(await n.json()).Strings})),Dn=Nt((t=>async function*(e={}){const n=await t.post("log/tail",{signal:e.signal,searchParams:Mt(e),headers:e.headers});yield*n.ndjson()}));function Tn(t){return{level:An(t),ls:In(t),tail:Dn(t)}}const On=Nt((t=>async function(e,n={}){const r=await t.post("name/publish",{signal:n.signal,searchParams:Mt({arg:`${e}`,...n}),headers:n.headers});return Ce(await r.json())})),jn=Nt((t=>async function*(e,n={}){const r=await t.post("name/resolve",{signal:n.signal,searchParams:Mt({arg:e,stream:!0,...n}),headers:n.headers});for await(const t of r.ndjson())yield t.Path})),Pn=Nt((t=>async function(e,n={}){const r=await t.post("name/pubsub/cancel",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers});return Ce(await r.json())})),Bn=Nt((t=>async function(e={}){const n=await t.post("name/pubsub/state",{signal:e.signal,searchParams:Mt(e),headers:e.headers});return Ce(await n.json())})),Nn=Nt((t=>async function(e={}){const n=await t.post("name/pubsub/subs",{signal:e.signal,searchParams:Mt(e),headers:e.headers});return(await n.json()).Strings||[]}));function Un(t){return{cancel:Pn(t),state:Bn(t),subs:Nn(t)}}function Ln(t){return{publish:On(t),resolve:jn(t),pubsub:Un(t)}}const Rn=Nt((t=>async function(e,n={}){const r=await t.post("object/data",{signal:n.signal,searchParams:Mt({arg:`${e instanceof Uint8Array?h.CID.decode(e):e}`,...n}),headers:n.headers}),o=await r.arrayBuffer();return new Uint8Array(o,0,o.byteLength)})),Mn=Nt((t=>async function(e,n={}){const r=await t.post("object/get",{signal:n.signal,searchParams:Mt({arg:`${e instanceof Uint8Array?h.CID.decode(e):e}`,dataEncoding:"base64",...n}),headers:n.headers}),o=await r.json();return{Data:(0,Te.fromString)(o.Data,"base64pad"),Links:(o.Links||[]).map((t=>({Name:t.Name,Hash:h.CID.parse(t.Hash),Tsize:t.Size})))}})),$n=Nt((t=>async function(e,n={}){const r=await t.post("object/links",{signal:n.signal,searchParams:Mt({arg:`${e instanceof Uint8Array?h.CID.decode(e):e}`,...n}),headers:n.headers});return((await r.json()).Links||[]).map((t=>({Name:t.Name,Tsize:t.Size,Hash:h.CID.parse(t.Hash)})))})),Fn=Nt((t=>async function(e={}){const n=await t.post("object/new",{signal:e.signal,searchParams:Mt({arg:e.template,...e}),headers:e.headers}),{Hash:r}=await n.json();return h.CID.parse(r)})),zn=(t,e)=>{const n=Nt((n=>{const r=Fe(t,e);return async function(t,e={}){return r(t,{...e,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}}));return n(e)},Wn=Nt((t=>async function(e,n={}){const r=await t.post("object/stat",{signal:n.signal,searchParams:Mt({arg:`${e}`,...n}),headers:n.headers}),o=await r.json();return{...o,Hash:h.CID.parse(o.Hash)}})),Hn=Nt((t=>async function(e,n,r={}){const o=await t.post("object/patch/add-link",{signal:r.signal,searchParams:Mt({arg:[`${e}`,n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null],...r}),headers:r.headers}),{Hash:i}=await o.json();return h.CID.parse(i)})),Vn=Nt((t=>async function(e,n,r={}){const o=he((new AbortController).signal,r.signal),i=await t.post("object/patch/append-data",{signal:o,searchParams:Mt({arg:`${e}`,...r}),...await le([n],0,r.headers)}),{Hash:s}=await i.json();return h.CID.parse(s)})),qn=Nt((t=>async function(e,n,r={}){const o=await t.post("object/patch/rm-link",{signal:r.signal,searchParams:Mt({arg:[`${e}`,n.Name||n.name||null],...r}),headers:r.headers}),{Hash:i}=await o.json();return h.CID.parse(i)})),Jn=Nt((t=>async function(e,n,r={}){const o=he((new AbortController).signal,r.signal),i=await t.post("object/patch/set-data",{signal:o,searchParams:Mt({arg:[`${e}`],...r}),...await le([n],0,r.headers)}),{Hash:s}=await i.json();return h.CID.parse(s)}));function Gn(t){return{addLink:Hn(t),appendData:Vn(t),rmLink:qn(t),setData:Jn(t)}}function Yn(t,e){return{data:Rn(e),get:Mn(e),links:$n(e),new:Fn(e),put:zn(t,e),stat:Wn(e),patch:Gn(e)}}async function*Kn(t){if(null==t)throw Lt(new Error(`Unexpected input: ${t}`),"ERR_UNEXPECTED_INPUT");const e=h.CID.asCID(t);if(e)yield Xn({cid:e});else{if(!(t instanceof String||"string"==typeof t)){if(null!=t.cid||null!=t.path)return yield Xn(t);if(Symbol.iterator in t){const e=t[Symbol.iterator](),n=e.next();if(n.done)return e;if(h.CID.asCID(n.value)||n.value instanceof String||"string"==typeof n.value){yield Xn({cid:n.value});for(const t of e)yield Xn({cid:t});return}if(null!=n.value.cid||null!=n.value.path){yield Xn(n.value);for(const t of e)yield Xn(t);return}throw Lt(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in t){const e=t[Symbol.asyncIterator](),n=await e.next();if(n.done)return e;if(h.CID.asCID(n.value)||n.value instanceof String||"string"==typeof n.value){yield Xn({cid:n.value});for await(const t of e)yield Xn({cid:t});return}if(null!=n.value.cid||null!=n.value.path){yield Xn(n.value);for await(const t of e)yield Xn(t);return}throw Lt(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT")}throw Lt(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT")}yield Xn({path:t})}}function Xn(t){const e=t.cid||`${t.path}`;if(!e)throw Lt(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");const n={path:e,recursive:!1!==t.recursive};return null!=t.metadata&&(n.metadata=t.metadata),n}const Zn=Nt((t=>async function*(e,n={}){for await(const{path:r,recursive:o,metadata:i}of Kn(e)){const e=await t.post("pin/add",{signal:n.signal,searchParams:Mt({...n,arg:r,recursive:o,metadata:i?JSON.stringify(i):void 0,stream:!0}),headers:n.headers});for await(const t of e.ndjson())if(t.Pins)for(const e of t.Pins)yield h.CID.parse(e);else yield h.CID.parse(t)}}));function Qn(t){const e=Zn(t);return Nt((()=>async function(t,n={}){return Re(e([{path:t,...n}],n))}))(t)}function tr(t,e,n){const r={type:t,cid:h.CID.parse(e)};return n&&(r.metadata=n),r}const er=Nt((t=>async function*(e={}){let n=[];e.paths&&(n=Array.isArray(e.paths)?e.paths:[e.paths]);const r=await t.post("pin/ls",{signal:e.signal,searchParams:Mt({...e,arg:n.map((t=>`${t}`)),stream:!0}),headers:e.headers});for await(const t of r.ndjson()){if(t.Keys){for(const e of Object.keys(t.Keys))yield tr(t.Keys[e].Type,e,t.Keys[e].Metadata);return}yield tr(t.Type,t.Cid,t.Metadata)}})),nr=Nt((t=>async function*(e,n={}){for await(const{path:r,recursive:o}of Kn(e)){const e=new URLSearchParams(n.searchParams);e.append("arg",`${r}`),null!=o&&e.set("recursive",String(o));const i=await t.post("pin/rm",{signal:n.signal,headers:n.headers,searchParams:Mt({...n,arg:`${r}`,recursive:o})});for await(const t of i.ndjson())t.Pins?yield*t.Pins.map((t=>h.CID.parse(t))):yield h.CID.parse(t)}})),rr=t=>{const e=nr(t);return Nt((()=>async function(t,n={}){return Re(e([{path:t,...n}],n))}))(t)},or=({Name:t,Status:e,Cid:n})=>({cid:h.CID.parse(n),name:t,status:e}),ir=t=>{if("string"==typeof t&&""!==t)return t;throw new TypeError("service name must be passed")},sr=t=>{if(h.CID.asCID(t))return t.toString();throw new TypeError("CID instance expected instead of "+typeof t)},ar=({service:t,cid:e,name:n,status:r,all:o})=>{const i=Mt({service:ir(t),name:n,force:!!o||void 0});if(e)for(const t of e)i.append("cid",sr(t));if(r)for(const t of r)i.append("status",t);return i},cr=({cid:t,service:e,background:n,name:r,origins:o})=>{const i=Mt({arg:sr(t),service:ir(e),name:r,background:!!n||void 0});if(o)for(const t of o)i.append("origin",t.toString());return i};function ur(t){return async function(e,{timeout:n,signal:r,headers:o,...i}){const s=await t.post("pin/remote/add",{timeout:n,signal:r,headers:o,searchParams:cr({cid:e,...i})});return or(await s.json())}}function lr(t){return async function*({timeout:e,signal:n,headers:r,...o}){const i=await t.post("pin/remote/ls",{timeout:e,signal:n,headers:r,searchParams:ar(o)});for await(const t of i.ndjson())yield or(t)}}function fr(t){return async function({timeout:e,signal:n,headers:r,...o}){await t.post("pin/remote/rm",{timeout:e,signal:n,headers:r,searchParams:ar({...o,all:!1})})}}function hr(t){return async function({timeout:e,signal:n,headers:r,...o}){await t.post("pin/remote/rm",{timeout:e,signal:n,headers:r,searchParams:ar({...o,all:!0})})}}function dr(t){const e=String(t);if("undefined"===e)throw Error("endpoint is required");return"/"===e[e.length-1]?e.slice(0,-1):e}function pr(t){return{service:t.Service,endpoint:new URL(t.ApiEndpoint),...t.Stat&&{stat:gr(t.Stat)}}}function gr(t){switch(t.Status){case"valid":{const{Pinning:e,Pinned:n,Queued:r,Failed:o}=t.PinCount;return{status:"valid",pinCount:{queued:r,pinning:e,pinned:n,failed:o}}}case"invalid":return{status:"invalid"};default:return{status:t.Status}}}function yr(t){return async function(e,n){const{endpoint:r,key:o,headers:i,timeout:s,signal:a}=n;await t.post("pin/remote/service/add",{timeout:s,signal:a,searchParams:Mt({arg:[e,dr(r),o]}),headers:i})}}function mr(t){return async function(e={}){const{stat:n,headers:r,timeout:o,signal:i}=e,s=await t.post("pin/remote/service/ls",{timeout:o,signal:i,headers:r,searchParams:!0===n?Mt({stat:n}):void 0}),{RemoteServices:a}=await s.json();return a.map(pr)}}function wr(t){return async function(e,n={}){await t.post("pin/remote/service/rm",{signal:n.signal,headers:n.headers,searchParams:Mt({arg:e})})}}function br(t){const e=new Bt(t);return{add:yr(e),ls:mr(e),rm:wr(e)}}function vr(t){const e=new Bt(t);return{add:ur(e),ls:lr(e),rm:fr(e),rmAll:hr(e),service:br(t)}}function _r(t){return{addAll:Zn(t),add:Qn(t),ls:er(t),rmAll:nr(t),rm:rr(t),remote:vr(t)}}const Er=t=>Array.isArray(t)?t.map(kr):t,kr=t=>(0,Je.toString)(xr(t)),xr=t=>G.base64url.decode(t),Cr=t=>G.base64url.encode((0,Te.fromString)(t)),Sr=Nt((t=>async function(e={}){const{Strings:n}=await(await t.post("pubsub/ls",{signal:e.signal,searchParams:Mt(e),headers:e.headers})).json();return Er(n)||[]})),Ar=Nt((t=>async function(e,n={}){const r=await t.post("pubsub/peers",{signal:n.signal,searchParams:Mt({arg:Cr(e),...n}),headers:n.headers}),{Strings:o}=await r.json();return o||[]})),Ir=Nt((t=>async function(e,n,r={}){const o=Mt({arg:Cr(e),...r}),i=he((new AbortController).signal,r.signal),s=await t.post("pubsub/pub",{signal:i,searchParams:o,...await le([n],0,r.headers)});await s.text()})),Dr=_t("ipfs-http-client:pubsub:subscribe"),Tr=(t,e)=>Nt((t=>async function(n,r,o={}){let i,s;o.signal=e.subscribe(n,r,o.signal);const a=new Promise(((t,e)=>{i=t,s=e})),c=setTimeout((()=>i()),1e3);return t.post("pubsub/sub",{signal:o.signal,searchParams:Mt({arg:Cr(n),...o}),headers:o.headers}).catch((t=>{e.unsubscribe(n,r),s(t)})).then((t=>{clearTimeout(c),t&&(async function(t,{onMessage:e,onEnd:n,onError:r}){r=r||Dr;try{for await(const n of t.ndjson())try{if(!n.from)continue;e({from:n.from,data:xr(n.data),seqno:xr(n.seqno),topicIDs:Er(n.topicIDs)})}catch(t){t.message=`Failed to parse pubsub message: ${t.message}`,r(t,!1,n)}}catch(t){Or(t)||r(t,!0)}finally{n()}}(t,{onMessage:r,onEnd:()=>e.unsubscribe(n,r),onError:o.onError}),i())})),a}))(t),Or=t=>{switch(t.type){case"aborted":case"abort":return!0;default:return"AbortError"===t.name}},jr=(t,e)=>async function(t,n){e.unsubscribe(t,n)};class Pr{constructor(){this._subs=new Map}subscribe(t,e,n){const r=this._subs.get(t)||[];if(r.find((t=>t.handler===e)))throw new Error(`Already subscribed to ${t} with this handler`);const o=new AbortController;return this._subs.set(t,[{handler:e,controller:o}].concat(r)),n&&n.addEventListener("abort",(()=>this.unsubscribe(t,e))),o.signal}unsubscribe(t,e){const n=this._subs.get(t)||[];let r;e?(this._subs.set(t,n.filter((t=>t.handler!==e))),r=n.filter((t=>t.handler===e))):(this._subs.set(t,[]),r=n),(this._subs.get(t)||[]).length||this._subs.delete(t),r.forEach((t=>t.controller.abort()))}}function Br(t){const e=new Pr;return{ls:Sr(t),peers:Ar(t),publish:Ir(t),subscribe:Tr(t,e),unsubscribe:jr(t,e)}}const Nr=Nt((t=>async function*(e={}){const n=await t.post("refs/local",{signal:e.signal,transform:Ce,searchParams:Mt(e),headers:e.headers});yield*n.ndjson()})),Ur=Nt(((t,e)=>Object.assign((async function*(e,n={}){const r=Array.isArray(e)?e:[e],o=await t.post("refs",{signal:n.signal,searchParams:Mt({arg:r.map((t=>`${t instanceof Uint8Array?h.CID.decode(t):t}`)),...n}),headers:n.headers,transform:Ce});yield*o.ndjson()}),{local:Nr(e)}))),Lr=Nt((t=>async function*(e={}){const n=await t.post("repo/gc",{signal:e.signal,searchParams:Mt(e),headers:e.headers,transform:t=>({err:t.Error?new Error(t.Error):null,cid:(t.Key||{})["/"]?h.CID.parse(t.Key["/"]):null})});yield*n.ndjson()})),Rr=Nt((t=>async function(e={}){const n=await t.post("repo/stat",{signal:e.signal,searchParams:Mt(e),headers:e.headers}),r=await n.json();return{numObjects:BigInt(r.NumObjects),repoSize:BigInt(r.RepoSize),repoPath:r.RepoPath,version:r.Version,storageMax:BigInt(r.StorageMax)}})),Mr=Nt((t=>async function(e={}){return(await(await t.post("repo/version",{signal:e.signal,searchParams:Mt(e),headers:e.headers})).json()).Version}));function $r(t){return{gc:Lr(t),stat:Rr(t),version:Mr(t)}}const Fr=Nt((t=>async function*(e={}){const n=await t.post("stats/bw",{signal:e.signal,searchParams:Mt(e),headers:e.headers,transform:t=>({totalIn:BigInt(t.TotalIn),totalOut:BigInt(t.TotalOut),rateIn:parseFloat(t.RateIn),rateOut:parseFloat(t.RateOut)})});yield*n.ndjson()}));function zr(t){return{bitswap:zt(t),repo:Rr(t),bw:Fr(t)}}const Wr=Nt((t=>async function(e={}){const n=await t.post("swarm/addrs",{signal:e.signal,searchParams:Mt(e),headers:e.headers}),{Addrs:r}=await n.json();return Object.keys(r).map((t=>({id:t,addrs:(r[t]||[]).map((t=>new gt.Multiaddr(t)))})))})),Hr=Nt((t=>async function(e,n={}){const r=await t.post("swarm/connect",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),{Strings:o}=await r.json();return o||[]})),Vr=Nt((t=>async function(e,n={}){const r=await t.post("swarm/disconnect",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),{Strings:o}=await r.json();return o||[]})),qr=Nt((t=>async function(e={}){const n=await t.post("swarm/addrs/local",{signal:e.signal,searchParams:Mt(e),headers:e.headers}),{Strings:r}=await n.json();return(r||[]).map((t=>new gt.Multiaddr(t)))})),Jr=Nt((t=>async function(e={}){const n=await t.post("swarm/peers",{signal:e.signal,searchParams:Mt(e),headers:e.headers}),{Peers:r}=await n.json();return(r||[]).map((t=>({addr:new gt.Multiaddr(t.Addr),peer:t.Peer,muxer:t.Muxer,latency:t.Latency,streams:t.Streams,direction:null==t.Direction?void 0:0===t.Direction?"inbound":"outbound"})))}));function Gr(t){return{addrs:Wr(t),connect:Hr(t),disconnect:Vr(t),localAddrs:qr(t),peers:Jr(t)}}const Yr=Nt((t=>async function*(e,n={}){const r=he((new AbortController).signal,n.signal),{headers:o,body:i,total:s,parts:a}=await le(e,0,n.headers),[c,u]="function"==typeof n.progress?Kr(s,a,n.progress):[void 0,void 0],l=await t.post("add",{searchParams:Mt({"stream-channels":!0,...n,progress:Boolean(c)}),onUploadProgress:u,signal:r,headers:o,body:i});for await(let t of l.ndjson())t=Ce(t),void 0!==t.hash?yield Zr(t):c&&c(t.bytes||0,t.name)})),Kr=(t,e,n)=>e?[void 0,Xr(t,e,n)]:[n,void 0],Xr=(t,e,n)=>{let r=0;const o=e.length;return({loaded:i,total:s})=>{const a=Math.floor(i/s*t);for(;r<o;){const{start:t,end:o,name:i}=e[r];if(a<o){n(a-t,i);break}n(o-t,i),r+=1}}};function Zr({name:t,hash:e,size:n,mode:r,mtime:o,mtimeNsecs:i}){const s={path:t,cid:h.CID.parse(e),size:parseInt(n)};return null!=r&&(s.mode=parseInt(r,8)),null!=o&&(s.mtime={secs:o,nsecs:i||0}),s}var Qr=n(3294);async function*to(t){yield t}async function eo(t){if(Gt(t))return to(no(t));if("string"==typeof t||t instanceof String)return to(no(t.toString()));if(Yt(t))return Qr(t);if(Xt(t)&&(t=qt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const e=Vt(t),{value:n,done:r}=await e.peek();if(r)return to(new Uint8Array(0));if(e.push(n),Number.isInteger(n))return to(Uint8Array.from(await Jt(e)));if(Gt(n)||"string"==typeof n||n instanceof String)return te(e,no)}throw Lt(new Error(`Unexpected input: ${t}`),"ERR_UNEXPECTED_INPUT")}function no(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Array.isArray(t)?Uint8Array.from(t):(0,Te.fromString)(t.toString())}async function ro(t,e){const{path:n,mode:r,mtime:o,content:i}=t,s={path:n||"",mode:se(r),mtime:ae(o)};return i?s.content=await e(i):n||(s.content=await e(t)),s}function oo(t){const e=Yr(t);return Nt((()=>async function(t,n={}){return await Re(e(function(t){return async function*(t,e){if(null==t)throw Lt(new Error(`Unexpected input: ${t}`),"ERR_UNEXPECTED_INPUT");if("string"==typeof t||t instanceof String)yield ro(t.toString(),e);else if(Gt(t)||Yt(t))yield ro(t,e);else{if(Xt(t)&&(t=qt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const n=Vt(t),{value:r,done:o}=await n.peek();if(o)return void(yield{content:[]});if(n.push(r),Number.isInteger(r)||Gt(r)||"string"==typeof r||r instanceof String)return void(yield ro(n,e));throw Lt(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(!Kt(t))throw Lt(new Error('Unexpected input: cannot convert "'+typeof t+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");yield ro(t,e)}}(t,eo)}(t),n))}))(t)}const io=Nt((t=>async function*(e,n={}){const r=await t.post("cat",{signal:n.signal,searchParams:Mt({arg:e.toString(),...n}),headers:n.headers});yield*r.iterator()})),so=Nt((t=>async(e={})=>(await t.post("commands",{signal:e.signal,searchParams:Mt(e),headers:e.headers})).json())),ao=Nt((t=>async(e,n={})=>{const r=await t.post("dns",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers});return(await r.json()).Path})),co=Nt((t=>()=>{const e=new URL(t.opts.base||"");return{host:e.hostname,port:e.port,protocol:e.protocol,pathname:e.pathname,"api-path":e.pathname}})),uo=Nt((t=>async function*(e,n={}){const r={arg:`${e instanceof Uint8Array?h.CID.decode(e):e}`,...n};r.compressionLevel&&(r["compression-level"]=r.compressionLevel,delete r.compressionLevel);const o=await t.post("get",{signal:n.signal,searchParams:Mt(r),headers:n.headers});yield*o.iterator()})),lo=Nt((t=>async function(e={}){const n=await t.post("id",{signal:e.signal,searchParams:Mt({arg:e.peerId?e.peerId.toString():void 0,...e}),headers:e.headers}),r={...Ce(await n.json())};return r.addresses&&(r.addresses=r.addresses.map((t=>new gt.Multiaddr(t)))),r})),fo=t=>{const e=lo(t);return async function(t={}){const n=await e(t);return Boolean(n&&n.addresses&&n.addresses.length)}},ho=Nt(((t,e)=>async function*(n,r={}){const o=`${n instanceof Uint8Array?h.CID.decode(n):n}`;async function i(t){let n=t.Hash;if(n.includes("/")){const t=n.startsWith("/ipfs/")?n:`/ipfs/${n}`;n=(await gn(e)(t)).cid}else n=h.CID.parse(n);const r={name:t.Name,path:o+(t.Name?`/${t.Name}`:""),size:t.Size,cid:n,type:po(t)};return t.Mode&&(r.mode=parseInt(t.Mode,8)),void 0!==t.Mtime&&null!==t.Mtime&&(r.mtime={secs:t.Mtime},void 0!==t.MtimeNsecs&&null!==t.MtimeNsecs&&(r.mtime.nsecs=t.MtimeNsecs)),r}const s=await t.post("ls",{signal:r.signal,searchParams:Mt({arg:o,...r}),headers:r.headers});for await(let t of s.ndjson()){if(t=t.Objects,!t)throw new Error("expected .Objects in results");if(t=t[0],!t)throw new Error("expected one array in results.Objects");const e=t.Links;if(!Array.isArray(e))throw new Error("expected one array in results.Objects[0].Links");if(!e.length)return void(yield i(t));yield*e.map(i)}}));function po(t){switch(t.Type){case 1:case 5:return"dir";default:return"file"}}const go=Nt((t=>async function(e={}){const n=await t.post("dns",{signal:e.signal,searchParams:Mt(e),headers:e.headers});return Ce(await n.json())})),yo=Nt((t=>async function*(e,n={}){const r=await t.post("ping",{signal:n.signal,searchParams:Mt({arg:`${e}`,...n}),headers:n.headers,transform:Ce});yield*r.ndjson()})),mo=Nt((t=>async function(e,n={}){const r=await t.post("resolve",{signal:n.signal,searchParams:Mt({arg:e,...n}),headers:n.headers}),{Path:o}=await r.json();return o})),wo=Nt((t=>async(t={})=>{throw Lt(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),bo=Nt((t=>async function(e={}){const n=await t.post("shutdown",{signal:e.signal,searchParams:Mt(e),headers:e.headers});await n.text()})),vo=Nt((t=>async function(e={}){const n=await t.post("version",{signal:e.signal,searchParams:Mt(e),headers:e.headers});return{...Ce(await n.json()),"ipfs-http-client":"1.0.0"}}));var _o=n(2611),Eo=n(6953);function ko(t={}){const e={name:dt.identity.name,code:dt.identity.code,encode:t=>t,decode:t=>t},n=Object.values(pt.gh);(t.ipld&&t.ipld.bases?t.ipld.bases:[]).forEach((t=>n.push(t)));const s=new a({bases:n,loadBase:t.ipld&&t.ipld.loadBase}),c=Object.values(pt.QB);[r,o,i,ht,e].concat(t.ipld&&t.ipld.codecs||[]).forEach((t=>c.push(t)));const l=new u({codecs:c,loadCodec:t.ipld&&t.ipld.loadCodec}),h=Object.values(pt.kq);(t.ipld&&t.ipld.hashers?t.ipld.hashers:[]).forEach((t=>h.push(t)));const d=new f({hashers:h,loadHasher:t.ipld&&t.ipld.loadHasher});var p;return{add:oo(t),addAll:Yr(t),bitswap:(p=t,{wantlist:$t(p),wantlistForPeer:Ft(p),unwant:Wt(p),stat:zt(p)}),block:me(t),bootstrap:ke(t),cat:io(t),commands:so(t),config:Be(t),dag:We(l,t),dht:Ze(t),diag:nn(t),dns:ao(t),files:wn(t),get:uo(t),getEndpointConfig:co(t),id:lo(t),isOnline:fo(t),key:Sn(t),log:Tn(t),ls:ho(t),mount:go(t),name:Ln(t),object:Yn(l,t),pin:_r(t),ping:yo(t),pubsub:Br(t),refs:Ur(t),repo:$r(t),resolve:mo(t),start:wo(t),stats:zr(t),stop:bo(t),swarm:Gr(t),version:vo(t),bases:s,codecs:l,hashers:d}}const xo=_o},9880:(t,e,n)=>{"use strict";n.d(e,{kU:()=>l,Dp:()=>u,ET:()=>f});var r=n(5934);class o{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class i{constructor(t,e,n){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return a(this,t)}}class s{constructor(t){this.decoders=t}or(t){return a(this,t)}decode(t){const e=t[0],n=this.decoders[e];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const a=(t,e)=>new s({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class c{constructor(t,e,n,r){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=r,this.encoder=new o(t,e,n),this.decoder=new i(t,e,r)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const u=({name:t,prefix:e,encode:n,decode:r})=>new c(t,e,n,r),l=({prefix:t,name:e,alphabet:n})=>{const{encode:o,decode:i}=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var r=0,o=0;t[e]===c;)r++,e++;for(var i=(t.length-e)*u+1>>>0,s=new Uint8Array(i);t[e];){var l=n[t.charCodeAt(e)];if(255===l)return;for(var f=0,h=i-1;(0!==l||f<o)&&-1!==h;h--,f++)l+=a*s[h]>>>0,s[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,e++}if(" "!==t[e]){for(var d=i-o;d!==i&&0===s[d];)d++;for(var p=new Uint8Array(r+(i-d)),g=r;d!==i;)p[g++]=s[d++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,o=0,i=e.length;o!==i&&0===e[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=e[o],h=0,d=s-1;(0!==f||h<r)&&-1!==d;d--,h++)f+=256*u[d]>>>0,u[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=h,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var g=c.repeat(n);p<s;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:f,decode:function(t){var n=f(t);if(n)return n;throw new Error(`Non-${e} character`)}}}(n,e);return u({prefix:t,name:e,encode:o,decode:t=>(0,r.oQ)(i(t))})},f=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>u({prefix:e,name:t,encode:t=>((t,e,n)=>{const r="="===e[e.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let r=0;r<t.length;++r)for(a=a<<8|t[r],s+=8;s>n;)s-=n,i+=e[o&a>>s];if(s&&(i+=e[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(t,r,n),decode:e=>((t,e,n,r)=>{const o={};for(let t=0;t<e.length;++t)o[e[t]]=t;let i=t.length;for(;"="===t[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let e=0;e<i;++e){const i=o[t[e]];if(void 0===i)throw new SyntaxError(`Non-${r} character`);c=c<<n|i,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,r,n,t)})},2817:(t,e,n)=>{"use strict";n.r(e),n.d(e,{base32:()=>o,base32hex:()=>c,base32hexpad:()=>l,base32hexpadupper:()=>f,base32hexupper:()=>u,base32pad:()=>s,base32padupper:()=>a,base32upper:()=>i,base32z:()=>h});var r=n(9880);const o=(0,r.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),i=(0,r.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,r.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,r.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,r.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,r.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,r.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),f=(0,r.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),h=(0,r.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},9086:(t,e,n)=>{"use strict";n.r(e),n.d(e,{base58btc:()=>o,base58flickr:()=>i});var r=n(9880);const o=(0,r.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i=(0,r.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},9885:(t,e,n)=>{"use strict";n.r(e),n.d(e,{base64:()=>o,base64pad:()=>i,base64url:()=>s,base64urlpad:()=>a});var r=n(9880);const o=(0,r.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i=(0,r.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,r.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,r.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},7051:(t,e,n)=>{"use strict";n.d(e,{gh:()=>V,QB:()=>J,kq:()=>q});var r={};n.r(r),n.d(r,{identity:()=>g});var o={};n.r(o),n.d(o,{base2:()=>y});var i={};n.r(i),n.d(i,{base8:()=>m});var s={};n.r(s),n.d(s,{base10:()=>w});var a={};n.r(a),n.d(a,{base16:()=>b,base16upper:()=>v});var c={};n.r(c),n.d(c,{base36:()=>E,base36upper:()=>k});var u={};n.r(u),n.d(u,{base256emoji:()=>D});var l={};n.r(l),n.d(l,{sha256:()=>j,sha512:()=>P});var f={};n.r(f),n.d(f,{code:()=>U,decode:()=>R,encode:()=>L,name:()=>N});var h={};n.r(h),n.d(h,{code:()=>z,decode:()=>H,encode:()=>W,name:()=>F});var d=n(9880),p=n(5934);const g=(0,d.Dp)({prefix:"\0",name:"identity",encode:t=>(0,p.BB)(t),decode:t=>(0,p.mL)(t)}),y=(0,d.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),m=(0,d.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),w=(0,d.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),b=(0,d.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),v=(0,d.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _=n(2817);const E=(0,d.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),k=(0,d.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var x=n(9086),C=n(9885);const S=Array.from(""),A=S.reduce(((t,e,n)=>(t[n]=e,t)),[]),I=S.reduce(((t,e,n)=>(t[e.codePointAt(0)]=n,t)),[]),D=(0,d.Dp)({prefix:"",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+A[e]),"")},decode:function(t){const e=[];for(const n of t){const t=I[n.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${n}`);e.push(t)}return new Uint8Array(e)}});var T=n(7225);const O=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),j=(0,T.D)({name:"sha2-256",code:18,encode:O("SHA-256")}),P=(0,T.D)({name:"sha2-512",code:19,encode:O("SHA-512")});var B=n(8103);const N="raw",U=85,L=t=>(0,p.oQ)(t),R=t=>(0,p.oQ)(t),M=new TextEncoder,$=new TextDecoder,F="json",z=512,W=t=>M.encode(JSON.stringify(t)),H=t=>JSON.parse($.decode(t));n(6441);const V={...r,...o,...i,...s,...a,..._,...c,...x,...C,...u},q={...l,...B},J={raw:f,json:h}},5934:(t,e,n)=>{"use strict";n.d(e,{BB:()=>s,fS:()=>r,mL:()=>i,oQ:()=>o}),new Uint8Array(0);const r=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},o=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},i=t=>(new TextEncoder).encode(t),s=t=>(new TextDecoder).decode(t)},1362:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CID:()=>c});var r=n(4714),o=n(8924),i=n(9086),s=n(2817),a=n(5934);class c{constructor(t,e,n,r){this.code=e,this.version=t,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:m,byteLength:m,code:y,version:y,multihash:y,bytes:y,_baseCache:m,asCID:m})}toV0(){if(0===this.version)return this;{const{code:t,multihash:e}=this;if(t!==h)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==d)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return c.createV0(e)}}toV1(){switch(this.version){case 0:{const{code:t,digest:e}=this.multihash,n=o.create(t,e);return c.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&o.equals(this.multihash,t.multihash)}toString(t){const{bytes:e,version:n,_baseCache:r}=this;return 0===n?l(e,r,t||i.base58btc.encoder):f(e,r,t||s.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return w(/^0\.0/,b),!(!t||!t[g]&&t.asCID!==t)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof c)return t;if(null!=t&&t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new c(e,n,r,o||p(e,n,r.bytes))}if(null!=t&&!0===t[g]){const{version:e,multihash:n,code:r}=t,i=o.decode(n);return c.create(e,r,i)}return null}static create(t,e,n){if("number"!=typeof e)throw new Error("String codecs are no longer supported");switch(t){case 0:if(e!==h)throw new Error(`Version 0 CID must use dag-pb (code: ${h}) block encoding`);return new c(t,e,n,n.bytes);case 1:{const r=p(t,e,n.bytes);return new c(t,e,n,r)}default:throw new Error("Invalid version")}}static createV0(t){return c.create(0,h,t)}static createV1(t,e){return c.create(1,t,e)}static decode(t){const[e,n]=c.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return e}static decodeFirst(t){const e=c.inspectBytes(t),n=e.size-e.multihashSize,r=(0,a.oQ)(t.subarray(n,n+e.multihashSize));if(r.byteLength!==e.multihashSize)throw new Error("Incorrect length");const i=r.subarray(e.multihashSize-e.digestSize),s=new o.Digest(e.multihashCode,e.digestSize,i,r);return[0===e.version?c.createV0(s):c.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0;const n=()=>{const[n,o]=r.Jx(t.subarray(e));return e+=o,n};let o=n(),i=h;if(18===o?(o=0,e=0):1===o&&(i=n()),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=e,a=n(),c=n(),u=e+c;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:u-s,size:u}}static parse(t,e){const[n,r]=u(t,e),o=c.decode(r);return o._baseCache.set(n,t),o}}const u=(t,e)=>{switch(t[0]){case"Q":{const n=e||i.base58btc;return[i.base58btc.prefix,n.decode(`${i.base58btc.prefix}${t}`)]}case i.base58btc.prefix:{const n=e||i.base58btc;return[i.base58btc.prefix,n.decode(t)]}case s.base32.prefix:{const n=e||s.base32;return[s.base32.prefix,n.decode(t)]}default:if(null==e)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}},l=(t,e,n)=>{const{prefix:r}=n;if(r!==i.base58btc.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=e.get(r);if(null==o){const o=n.encode(t).slice(1);return e.set(r,o),o}return o},f=(t,e,n)=>{const{prefix:r}=n,o=e.get(r);if(null==o){const o=n.encode(t);return e.set(r,o),o}return o},h=112,d=18,p=(t,e,n)=>{const o=r.P$(t),i=o+r.P$(e),s=new Uint8Array(i+n.byteLength);return r.mL(t,s,0),r.mL(e,s,o),s.set(n,i),s},g=Symbol.for("@ipld/js-cid/CID"),y={writable:!1,configurable:!1,enumerable:!0},m={writable:!1,enumerable:!1,configurable:!1},w=(t,e)=>{if(!t.test("0.0.0-dev"))throw new Error(e);console.warn(e)},b="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"},8924:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Digest:()=>c,create:()=>i,decode:()=>s,equals:()=>a});var r=n(5934),o=n(4714);const i=(t,e)=>{const n=e.byteLength,r=o.P$(t),i=r+o.P$(n),s=new Uint8Array(i+n);return o.mL(t,s,0),o.mL(n,s,r),s.set(e,i),new c(t,n,e,s)},s=t=>{const e=(0,r.oQ)(t),[n,i]=o.Jx(e),[s,a]=o.Jx(e.subarray(i)),u=e.subarray(i+a);if(u.byteLength!==s)throw new Error("Incorrect length");return new c(n,s,u,e)},a=(t,e)=>t===e||t.code===e.code&&t.size===e.size&&(0,r.fS)(t.bytes,e.bytes);class c{constructor(t,e,n,r){this.code=t,this.size=e,this.digest=n,this.bytes=r}}},7225:(t,e,n)=>{"use strict";n.d(e,{D:()=>o});var r=n(8924);const o=({name:t,code:e,encode:n})=>new i(t,e,n);class i{constructor(t,e,n){this.name=t,this.code=e,this.encode=n}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?r.create(this.code,e):e.then((t=>r.create(this.code,t)))}throw Error("Unknown type, must be binary type")}}},8103:(t,e,n)=>{"use strict";n.r(e),n.d(e,{identity:()=>s});var r=n(5934),o=n(8924);const i=r.oQ,s={code:0,name:"identity",encode:i,digest:t=>o.create(0,i(t))}},6441:(t,e,n)=>{"use strict";n.d(e,{k0:()=>r.CID});var r=n(1362);n(4714),n(5934),n(7225),n(8924)},4714:(t,e,n)=>{"use strict";n.d(e,{Jx:()=>w,mL:()=>b,P$:()=>v});var r=128,o=-128,i=Math.pow(2,31),s=128,a=127,c=Math.pow(2,7),u=Math.pow(2,14),l=Math.pow(2,21),f=Math.pow(2,28),h=Math.pow(2,35),d=Math.pow(2,42),p=Math.pow(2,49),g=Math.pow(2,56),y=Math.pow(2,63);const m={encode:function t(e,n,s){n=n||[];for(var a=s=s||0;e>=i;)n[s++]=255&e|r,e/=128;for(;e&o;)n[s++]=255&e|r,e>>>=7;return n[s]=0|e,t.bytes=s-a+1,n},decode:function t(e,n){var r,o=0,i=0,c=n=n||0,u=e.length;do{if(c>=u)throw t.bytes=0,new RangeError("Could not decode varint");r=e[c++],o+=i<28?(r&a)<<i:(r&a)*Math.pow(2,i),i+=7}while(r>=s);return t.bytes=c-n,o},encodingLength:function(t){return t<c?1:t<u?2:t<l?3:t<f?4:t<h?5:t<d?6:t<p?7:t<g?8:t<y?9:10}},w=(t,e=0)=>[m.decode(t,e),m.decode.bytes],b=(t,e,n=0)=>(m.encode(t,e,n),e),v=t=>m.encodingLength(t)},3160:(t,e,n)=>{"use strict";n.d(e,{E:()=>o});var r=n(6867);function o(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}},605:(t,e,n)=>{"use strict";n.r(e),n.d(e,{concat:()=>i});var r=n(3160),o=n(6867);function i(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const n=(0,r.E)(e);let i=0;for(const e of t)n.set(e,i),i+=e.length;return(0,o.P)(n)}},9588:(t,e,n)=>{"use strict";function r(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}n.r(e),n.d(e,{equals:()=>r})},2217:(t,e,n)=>{"use strict";n.r(e),n.d(e,{fromString:()=>i});var r=n(7645),o=n(6867);function i(t,e="utf8"){const n=r.Z[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${t}`):(0,o.P)(globalThis.Buffer.from(t,"utf-8"))}},2263:(t,e,n)=>{"use strict";n.r(e),n.d(e,{toString:()=>o});var r=n(7645);function o(t,e="utf8"){const n=r.Z[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}},6867:(t,e,n)=>{"use strict";function r(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}n.d(e,{P:()=>r})},7645:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r=n(7051),o=n(3160);function i(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const s=i("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),a=i("ascii","a",(t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}),(t=>{t=t.substring(1);const e=(0,o.E)(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e})),c={utf8:s,"utf-8":s,hex:r.gh.base16,latin1:a,ascii:a,binary:a,...r.gh}},4218:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AbsolutePosition:()=>nn,AbstractConnector:()=>oe,AbstractStruct:()=>wo,AbstractType:()=>Sr,Array:()=>qr,ContentAny:()=>Ao,ContentBinary:()=>vo,ContentDeleted:()=>_o,ContentEmbed:()=>xo,ContentFormat:()=>Co,ContentJSON:()=>So,ContentString:()=>Io,ContentType:()=>Lo,Doc:()=>be,GC:()=>bo,ID:()=>He,Item:()=>Wo,Map:()=>Gr,PermanentUserData:()=>Ze,RelativePosition:()=>Qe,Snapshot:()=>ln,Text:()=>lo,Transaction:()=>Pn,UndoManager:()=>Vn,UpdateEncoderV1:()=>Ce,XmlElement:()=>po,XmlFragment:()=>ho,XmlHook:()=>yo,XmlText:()=>mo,YArrayEvent:()=>Vr,YEvent:()=>mr,YMapEvent:()=>Jr,YTextEvent:()=>uo,YXmlEvent:()=>go,applyUpdate:()=>je,applyUpdateV2:()=>Oe,cleanupYTextFormatting:()=>so,compareIDs:()=>Ve,compareRelativePositions:()=>un,convertUpdateFormatV1ToV2:()=>pr,convertUpdateFormatV2ToV1:()=>gr,createAbsolutePositionFromRelativePosition:()=>cn,createDeleteSet:()=>he,createDeleteSetFromStructStore:()=>de,createDocFromSnapshot:()=>_n,createID:()=>qe,createRelativePositionFromJSON:()=>en,createRelativePositionFromTypeIndex:()=>on,createSnapshot:()=>yn,decodeRelativePosition:()=>an,decodeSnapshot:()=>gn,decodeSnapshotV2:()=>pn,decodeStateVector:()=>Ue,decodeUpdate:()=>Yn,decodeUpdateV2:()=>Kn,diffUpdate:()=>sr,diffUpdateV2:()=>ir,emptySnapshot:()=>mn,encodeRelativePosition:()=>sn,encodeSnapshot:()=>dn,encodeSnapshotV2:()=>hn,encodeStateAsUpdate:()=>Be,encodeStateAsUpdateV2:()=>Pe,encodeStateVector:()=>Re,encodeStateVectorFromUpdate:()=>tr,encodeStateVectorFromUpdateV2:()=>Qn,equalDeleteSets:()=>me,equalSnapshots:()=>fn,findIndexSS:()=>An,findRootTypeKey:()=>Ye,getItem:()=>In,getState:()=>Cn,getTypeChildren:()=>xr,isDeleted:()=>ce,isParentOf:()=>Ke,iterateDeletedStructs:()=>ae,logType:()=>Xe,logUpdate:()=>Jn,logUpdateV2:()=>Gn,mergeUpdates:()=>Zn,mergeUpdatesV2:()=>or,obfuscateUpdate:()=>hr,obfuscateUpdateV2:()=>dr,parseUpdateMeta:()=>nr,parseUpdateMetaV2:()=>er,readUpdate:()=>Te,readUpdateV2:()=>De,relativePositionToJSON:()=>tn,snapshot:()=>wn,snapshotContainsUpdate:()=>En,transact:()=>Fn,tryGc:()=>Mn,typeListToArraySnapshot:()=>Dr,typeMapGetSnapshot:()=>Wr});const r=()=>new Map,o=t=>{const e=r();return t.forEach(((t,n)=>{e.set(n,t)})),e},i=(t,e,n)=>{let r=t.get(e);return void 0===r&&t.set(e,r=n()),r},s=()=>new Set,a=t=>t[t.length-1],c=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},u=Array.from,l=Array.isArray;class f{constructor(){this._observers=r()}on(t,e){i(this._observers,t,s).add(e)}once(t,e){const n=(...r)=>{this.off(t,n),e(...r)};this.on(t,n)}off(t,e){const n=this._observers.get(t);void 0!==n&&(n.delete(e),0===n.size&&this._observers.delete(t))}emit(t,e){return u((this._observers.get(t)||r()).values()).forEach((t=>t(...e)))}destroy(){this._observers=r()}}const h=Math.floor,d=(Math.ceil,Math.abs),p=(Math.imul,Math.round,Math.log10,Math.log2,Math.log,Math.sqrt,(t,e)=>t<e?t:e),g=(t,e)=>t>e?t:e,y=(Number.isNaN,Math.pow,Math.sign,t=>0!==t?t<0:1/t<0),m=String.fromCharCode,w=(String.fromCodePoint,m(65535),/^\s*/g),b=/([A-Z])/g,v=(t,e)=>(t=>t.replace(w,""))(t.replace(b,(t=>`${e}${(t=>t.toLowerCase())(t)}`))),_="undefined"!=typeof TextEncoder?new TextEncoder:null,E=_?t=>_.encode(t):t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let t=0;t<n;t++)r[t]=e.codePointAt(t);return r};let k="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});k&&1===k.decode(new Uint8Array).length&&(k=null);let x=new class{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}},C=!0;try{"undefined"!=typeof localStorage&&(x=localStorage,C=!1)}catch(t){}const S=x,A=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&A(t,e,n+1)}},I=t=>t,D="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name);let T;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const O=[],j=t=>(()=>{if(void 0===T)if(D){T=r();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];"-"===r[0]?(null!==e&&T.set(e,""),e=r):null!==e?(T.set(e,r),e=null):O.push(r)}null!==e&&T.set(e,"")}else"object"==typeof location?(T=r(),(location.search||"?").slice(1).split("&").forEach((t=>{if(0!==t.length){const[e,n]=t.split("=");T.set(`--${v(e,"-")}`,n),T.set(`-${v(e,"-")}`,n)}}))):T=r();return T})().has(t),P=t=>{return void 0===(e=D?process.env[t.toUpperCase()]:S.getItem(t))?null:e;var e};j("--"+"production")||P("production");const B=D&&(N=process.env.FORCE_COLOR,["true","1","2"].includes(N));var N;const U=!j("no-colors")&&(!D||process.stdout.isTTY||B)&&(!D||j("color")||B||null!==P("COLORTERM")||(P("TERM")||"").includes("color")),L=(t,e,n)=>new Uint8Array(t,e,n),R=64,M=128,$=127,F=Number.MAX_SAFE_INTEGER,z=(Number.MIN_SAFE_INTEGER,Number.isInteger||(t=>"number"==typeof t&&isFinite(t)&&h(t)===t));Number.isNaN,Number.parseInt;class W{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const H=()=>new W,V=t=>{const e=new Uint8Array((t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e})(t));let n=0;for(let r=0;r<t.bufs.length;r++){const o=t.bufs[r];e.set(o,n),n+=o.length}return e.set(L(t.cbuf.buffer,0,t.cpos),n),e},q=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(2*n),t.cpos=0),t.cbuf[t.cpos++]=e},J=q,G=(t,e)=>{for(;e>$;)q(t,M|$&e),e=h(e/128);q(t,$&e)},Y=(t,e)=>{const n=y(e);for(n&&(e=-e),q(t,(e>63?M:0)|(n?R:0)|63&e),e=h(e/64);e>0;)q(t,(e>$?M:0)|$&e),e=h(e/128)},K=new Uint8Array(3e4),X=K.length/3,Z=_&&_.encodeInto?(t,e)=>{if(e.length<X){const n=_.encodeInto(e,K).written||0;G(t,n);for(let e=0;e<n;e++)q(t,K[e])}else tt(t,E(e))}:(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;G(t,r);for(let e=0;e<r;e++)q(t,n.codePointAt(e))},Q=(t,e)=>{const n=t.cbuf.length,r=t.cpos,o=p(n-r,e.length),i=e.length-o;t.cbuf.set(e.subarray(0,o),r),t.cpos+=o,i>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(g(2*n,i)),t.cbuf.set(e.subarray(o)),t.cpos=i)},tt=(t,e)=>{G(t,e.byteLength),Q(t,e)},et=(t,e)=>{((t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(L(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(2*g(n,e)),t.cpos=0)})(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},nt=new DataView(new ArrayBuffer(4)),rt=(t,e)=>{switch(typeof e){case"string":q(t,119),Z(t,e);break;case"number":z(e)&&d(e)<=2147483647?(q(t,125),Y(t,e)):(n=e,nt.setFloat32(0,n),nt.getFloat32(0)===n?(q(t,124),((t,e)=>{et(t,4).setFloat32(0,e,!1)})(t,e)):(q(t,123),((t,e)=>{et(t,8).setFloat64(0,e,!1)})(t,e)));break;case"bigint":q(t,122),((t,e)=>{et(t,8).setBigInt64(0,e,!1)})(t,e);break;case"object":if(null===e)q(t,126);else if(l(e)){q(t,117),G(t,e.length);for(let n=0;n<e.length;n++)rt(t,e[n])}else if(e instanceof Uint8Array)q(t,116),tt(t,e);else{q(t,118);const n=Object.keys(e);G(t,n.length);for(let r=0;r<n.length;r++){const o=n[r];Z(t,o),rt(t,e[o])}}break;case"boolean":q(t,e?120:121);break;default:q(t,127)}var n};class ot extends W{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&G(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const it=t=>{t.count>0&&(Y(t.encoder,1===t.count?t.s:-t.s),t.count>1&&G(t.encoder,t.count-2))};class st{constructor(){this.encoder=new W,this.s=0,this.count=0}write(t){this.s===t?this.count++:(it(this),this.count=1,this.s=t)}toUint8Array(){return it(this),V(this.encoder)}}const at=t=>{if(t.count>0){const e=2*t.diff+(1===t.count?0:1);Y(t.encoder,e),t.count>1&&G(t.encoder,t.count-2)}};class ct{constructor(){this.encoder=new W,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(at(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return at(this),V(this.encoder)}}class ut{constructor(){this.sarr=[],this.s="",this.lensE=new st}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new W;return this.sarr.push(this.s),this.s="",Z(t,this.sarr.join("")),Q(t,this.lensE.toUint8Array()),V(t)}}const lt=t=>new Error(t),ft=()=>{throw lt("Method unimplemented")},ht=()=>{throw lt("Unexpected case")},dt=lt("Unexpected end of array"),pt=lt("Integer out of Range");class gt{constructor(t){this.arr=t,this.pos=0}}const yt=t=>new gt(t),mt=t=>t.pos!==t.arr.length,wt=t=>((t,e)=>{const n=L(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n})(t,vt(t)),bt=t=>t.arr[t.pos++],vt=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const r=t.arr[t.pos++];if(e+=(r&$)*n,n*=128,r<M)return e;if(e>F)throw pt}throw dt},_t=t=>{let e=t.arr[t.pos++],n=63&e,r=64;const o=(e&R)>0?-1:1;if(0==(e&M))return o*n;const i=t.arr.length;for(;t.pos<i;){if(e=t.arr[t.pos++],n+=(e&$)*r,r*=128,e<M)return o*n;if(n>F)throw pt}throw dt},Et=k?t=>k.decode(wt(t)):t=>{let e=vt(t);if(0===e)return"";{let n=String.fromCodePoint(bt(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(bt(t));else for(;e>0;){const r=e<1e4?e:1e4,o=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,o),e-=r}return decodeURIComponent(escape(n))}},kt=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},xt=[t=>{},t=>null,_t,t=>kt(t,4).getFloat32(0,!1),t=>kt(t,8).getFloat64(0,!1),t=>kt(t,8).getBigInt64(0,!1),t=>!1,t=>!0,Et,t=>{const e=vt(t),n={};for(let r=0;r<e;r++)n[Et(t)]=Ct(t);return n},t=>{const e=vt(t),n=[];for(let r=0;r<e;r++)n.push(Ct(t));return n},wt],Ct=t=>xt[127-bt(t)](t);class St extends gt{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),mt(this)?this.count=vt(this)+1:this.count=-1),this.count--,this.s}}class At extends gt{constructor(t){super(t),this.s=0,this.count=0}read(){if(0===this.count){this.s=_t(this);const t=y(this.s);this.count=1,t&&(this.s=-this.s,this.count=vt(this)+2)}return this.count--,this.s}}class It extends gt{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const t=_t(this),e=1&t;this.diff=h(t/2),this.count=1,e&&(this.count=vt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class Dt{constructor(t){this.decoder=new At(t),this.str=Et(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}crypto.subtle;const Tt=crypto.getRandomValues.bind(crypto),Ot=(Math.random,()=>Tt(new Uint32Array(1))[0]),jt=[1e7]+-1e3+-4e3+-8e3+-1e11,Pt=()=>jt.replace(/[018]/g,(t=>(t^Ot()&15>>t/4).toString(16))),Bt=t=>new Promise(t);Promise.all.bind(Promise);class Nt{constructor(t,e){this.left=t,this.right=e}}const Ut=(t,e)=>new Nt(t,e),Lt="undefined"!=typeof document?document:{},Rt=("undefined"!=typeof DOMParser&&new DOMParser,Lt.ELEMENT_NODE,Lt.TEXT_NODE,Lt.CDATA_SECTION_NODE,Lt.COMMENT_NODE,Lt.DOCUMENT_NODE,Lt.DOCUMENT_TYPE_NODE,Lt.DOCUMENT_FRAGMENT_NODE,Symbol),Mt=Date.now,$t=Rt(),Ft=Rt(),zt=Rt(),Wt=Rt(),Ht=Rt(),Vt=Rt(),qt=Rt(),Jt=Rt(),Gt=Rt();Mt();const Yt={[$t]:Ut("font-weight","bold"),[Ft]:Ut("font-weight","normal"),[zt]:Ut("color","blue"),[Ht]:Ut("color","green"),[Wt]:Ut("color","grey"),[Vt]:Ut("color","red"),[qt]:Ut("color","purple"),[Jt]:Ut("color","orange"),[Gt]:Ut("color","black")},Kt=U?t=>{const e=[],n=[],o=r();let i=[],s=0;for(;s<t.length;s++){const r=t[s],i=Yt[r];if(void 0!==i)o.set(i.left,i.right);else{if(r.constructor!==String&&r.constructor!==Number)break;{const t=((t,e)=>{const n=[];for(const[r,o]of t)n.push(e(o,r));return n})(o,((t,e)=>`${e}:${t};`)).join("");s>0||t.length>0?(e.push("%c"+r),n.push(t)):e.push(r)}}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const e=t[s];e instanceof Symbol||i.push(e)}return i}:t=>{const e=[],n=[];let r=0;for(;r<t.length;r++){const o=t[r];o.constructor===String||o.constructor===Number?e.push(o):o.constructor===Object&&n.push(JSON.stringify(o))}return n},Xt=(...t)=>{console.log(...Kt(t)),Zt.forEach((e=>e.print(t)))},Zt=s(),Qt=t=>({[Symbol.iterator](){return this},next:t}),te=(t,e)=>Qt((()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}})),ee=Object.assign,ne=Object.keys,re=t=>ne(t).length;class oe extends f{constructor(t,e){super(),this.doc=t,this.awareness=e}}class ie{constructor(t,e){this.clock=t,this.len=e}}class se{constructor(){this.clients=new Map}}const ae=(t,e,n)=>e.clients.forEach(((e,r)=>{const o=t.doc.store.clients.get(r);for(let r=0;r<e.length;r++){const i=e[r];jn(t,o,i.clock,i.len,n)}})),ce=(t,e)=>{const n=t.clients.get(e.client);return void 0!==n&&null!==((t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const o=h((n+r)/2),i=t[o],s=i.clock;if(s<=e){if(e<s+i.len)return o;n=o+1}else r=o-1}return null})(n,e.clock)},ue=t=>{t.clients.forEach((t=>{let e,n;for(t.sort(((t,e)=>t.clock-e.clock)),e=1,n=1;e<t.length;e++){const r=t[n-1],o=t[e];r.clock+r.len>=o.clock?r.len=g(r.len,o.clock+o.len-r.clock):(n<e&&(t[n]=o),n++)}t.length=n}))},le=t=>{const e=new se;for(let n=0;n<t.length;n++)t[n].clients.forEach(((r,o)=>{if(!e.clients.has(o)){const i=r.slice();for(let e=n+1;e<t.length;e++)c(i,t[e].clients.get(o)||[]);e.clients.set(o,i)}}));return ue(e),e},fe=(t,e,n,r)=>{i(t.clients,e,(()=>[])).push(new ie(n,r))},he=()=>new se,de=t=>{const e=he();return t.clients.forEach(((t,n)=>{const r=[];for(let e=0;e<t.length;e++){const n=t[e];if(n.deleted){const o=n.id.clock;let i=n.length;if(e+1<t.length)for(let n=t[e+1];e+1<t.length&&n.deleted;n=t[1+ ++e])i+=n.length;r.push(new ie(o,i))}}r.length>0&&e.clients.set(n,r)})),e},pe=(t,e)=>{G(t.restEncoder,e.clients.size),u(e.clients.entries()).sort(((t,e)=>e[0]-t[0])).forEach((([e,n])=>{t.resetDsCurVal(),G(t.restEncoder,e);const r=n.length;G(t.restEncoder,r);for(let e=0;e<r;e++){const r=n[e];t.writeDsClock(r.clock),t.writeDsLen(r.len)}}))},ge=t=>{const e=new se,n=vt(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const n=vt(t.restDecoder),r=vt(t.restDecoder);if(r>0){const o=i(e.clients,n,(()=>[]));for(let e=0;e<r;e++)o.push(new ie(t.readDsClock(),t.readDsLen()))}}return e},ye=(t,e,n)=>{const r=new se,o=vt(t.restDecoder);for(let i=0;i<o;i++){t.resetDsCurVal();const o=vt(t.restDecoder),i=vt(t.restDecoder),s=n.clients.get(o)||[],a=Cn(n,o);for(let n=0;n<i;n++){const n=t.readDsClock(),i=n+t.readDsLen();if(n<a){a<i&&fe(r,o,a,i-a);let t=An(s,n),c=s[t];for(!c.deleted&&c.id.clock<n&&(s.splice(t+1,0,$o(e,c,n-c.id.clock)),t++);t<s.length&&(c=s[t++],c.id.clock<i);)c.deleted||(i<c.id.clock+c.length&&s.splice(t,0,$o(e,c,i-c.id.clock)),c.delete(e))}else fe(r,o,n,i-n)}}if(r.clients.size>0){const t=new Ae;return G(t.restEncoder,0),pe(t,r),t.toUint8Array()}return null},me=(t,e)=>{if(t.clients.size!==e.clients.size)return!1;for(const[n,r]of t.clients.entries()){const t=e.clients.get(n);if(void 0===t||r.length!==t.length)return!1;for(let e=0;e<r.length;e++){const n=r[e],o=t[e];if(n.clock!==o.clock||n.len!==o.len)return!1}}return!0},we=Ot;class be extends f{constructor({guid:t=Pt(),collectionid:e=null,gc:n=!0,gcFilter:r=(()=>!0),meta:o=null,autoLoad:i=!1,shouldLoad:s=!0}={}){super(),this.gc=n,this.gcFilter=r,this.clientID=we(),this.guid=t,this.collectionid=e,this.share=new Map,this.store=new kn,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=s,this.autoLoad=i,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=Bt((t=>{this.on("load",(()=>{this.isLoaded=!0,t(this)}))}));const a=()=>Bt((t=>{const e=n=>{void 0!==n&&!0!==n||(this.off("sync",e),t())};this.on("sync",e)}));this.on("sync",(t=>{!1===t&&this.isSynced&&(this.whenSynced=a()),this.isSynced=void 0===t||!0===t,this.isLoaded||this.emit("load",[])})),this.whenSynced=a()}load(){const t=this._item;null===t||this.shouldLoad||Fn(t.parent.doc,(t=>{t.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(u(this.subdocs).map((t=>t.guid)))}transact(t,e=null){return Fn(this,t,e)}get(t,e=Sr){const n=i(this.share,t,(()=>{const t=new e;return t._integrate(this,null),t})),r=n.constructor;if(e!==Sr&&r!==e){if(r===Sr){const r=new e;r._map=n._map,n._map.forEach((t=>{for(;null!==t;t=t.left)t.parent=r})),r._start=n._start;for(let t=r._start;null!==t;t=t.right)t.parent=r;return r._length=n._length,this.share.set(t,r),r._integrate(this,null),r}throw new Error(`Type with the name ${t} has already been defined with a different constructor`)}return n}getArray(t=""){return this.get(t,qr)}getText(t=""){return this.get(t,lo)}getMap(t=""){return this.get(t,Gr)}getXmlFragment(t=""){return this.get(t,ho)}toJSON(){const t={};return this.share.forEach(((e,n)=>{t[n]=e.toJSON()})),t}destroy(){u(this.subdocs).forEach((t=>t.destroy()));const t=this._item;if(null!==t){this._item=null;const e=t.content;e.doc=new be({guid:this.guid,...e.opts,shouldLoad:!1}),e.doc._item=t,Fn(t.parent.doc,(n=>{const r=e.doc;t.deleted||n.subdocsAdded.add(r),n.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}}class ve{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return vt(this.restDecoder)}readDsLen(){return vt(this.restDecoder)}}class _e extends ve{readLeftID(){return qe(vt(this.restDecoder),vt(this.restDecoder))}readRightID(){return qe(vt(this.restDecoder),vt(this.restDecoder))}readClient(){return vt(this.restDecoder)}readInfo(){return bt(this.restDecoder)}readString(){return Et(this.restDecoder)}readParentInfo(){return 1===vt(this.restDecoder)}readTypeRef(){return vt(this.restDecoder)}readLen(){return vt(this.restDecoder)}readAny(){return Ct(this.restDecoder)}readBuf(){return(t=>{const e=(n=t.byteLength,new Uint8Array(n));var n;return e.set(t),e})(wt(this.restDecoder))}readJSON(){return JSON.parse(Et(this.restDecoder))}readKey(){return Et(this.restDecoder)}}class Ee{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=vt(this.restDecoder),this.dsCurrVal}readDsLen(){const t=vt(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class ke extends Ee{constructor(t){super(t),this.keys=[],vt(t),this.keyClockDecoder=new It(wt(t)),this.clientDecoder=new At(wt(t)),this.leftClockDecoder=new It(wt(t)),this.rightClockDecoder=new It(wt(t)),this.infoDecoder=new St(wt(t),bt),this.stringDecoder=new Dt(wt(t)),this.parentInfoDecoder=new St(wt(t),bt),this.typeRefDecoder=new At(wt(t)),this.lenDecoder=new At(wt(t))}readLeftID(){return new He(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new He(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Ct(this.restDecoder)}readBuf(){return wt(this.restDecoder)}readJSON(){return Ct(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const t=this.stringDecoder.read();return this.keys.push(t),t}}}class xe{constructor(){this.restEncoder=H()}toUint8Array(){return V(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){G(this.restEncoder,t)}writeDsLen(t){G(this.restEncoder,t)}}class Ce extends xe{writeLeftID(t){G(this.restEncoder,t.client),G(this.restEncoder,t.clock)}writeRightID(t){G(this.restEncoder,t.client),G(this.restEncoder,t.clock)}writeClient(t){G(this.restEncoder,t)}writeInfo(t){J(this.restEncoder,t)}writeString(t){Z(this.restEncoder,t)}writeParentInfo(t){G(this.restEncoder,t?1:0)}writeTypeRef(t){G(this.restEncoder,t)}writeLen(t){G(this.restEncoder,t)}writeAny(t){rt(this.restEncoder,t)}writeBuf(t){tt(this.restEncoder,t)}writeJSON(t){Z(this.restEncoder,JSON.stringify(t))}writeKey(t){Z(this.restEncoder,t)}}class Se{constructor(){this.restEncoder=H(),this.dsCurrVal=0}toUint8Array(){return V(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const e=t-this.dsCurrVal;this.dsCurrVal=t,G(this.restEncoder,e)}writeDsLen(t){0===t&&ht(),G(this.restEncoder,t-1),this.dsCurrVal+=t}}class Ae extends Se{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new ct,this.clientEncoder=new st,this.leftClockEncoder=new ct,this.rightClockEncoder=new ct,this.infoEncoder=new ot(J),this.stringEncoder=new ut,this.parentInfoEncoder=new ot(J),this.typeRefEncoder=new st,this.lenEncoder=new st}toUint8Array(){const t=H();return G(t,0),tt(t,this.keyClockEncoder.toUint8Array()),tt(t,this.clientEncoder.toUint8Array()),tt(t,this.leftClockEncoder.toUint8Array()),tt(t,this.rightClockEncoder.toUint8Array()),tt(t,V(this.infoEncoder)),tt(t,this.stringEncoder.toUint8Array()),tt(t,V(this.parentInfoEncoder)),tt(t,this.typeRefEncoder.toUint8Array()),tt(t,this.lenEncoder.toUint8Array()),Q(t,V(this.restEncoder)),V(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){rt(this.restEncoder,t)}writeBuf(t){tt(this.restEncoder,t)}writeJSON(t){rt(this.restEncoder,t)}writeKey(t){const e=this.keyMap.get(t);void 0===e?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(e)}}const Ie=(t,e,n)=>{const r=new Map;n.forEach(((t,n)=>{Cn(e,n)>t&&r.set(n,t)})),xn(e).forEach(((t,e)=>{n.has(e)||r.set(e,0)})),G(t.restEncoder,r.size),u(r.entries()).sort(((t,e)=>e[0]-t[0])).forEach((([n,r])=>{((t,e,n,r)=>{r=g(r,e[0].id.clock);const o=An(e,r);G(t.restEncoder,e.length-o),t.writeClient(n),G(t.restEncoder,r);const i=e[o];i.write(t,r-i.id.clock);for(let n=o+1;n<e.length;n++)e[n].write(t,0)})(t,e.clients.get(n),n,r)}))},De=(t,e,n,o=new ke(t))=>Fn(e,(t=>{t.local=!1;let e=!1;const n=t.doc,s=n.store,a=((t,e)=>{const n=r(),o=vt(t.restDecoder);for(let r=0;r<o;r++){const r=vt(t.restDecoder),o=new Array(r),i=t.readClient();let s=vt(t.restDecoder);n.set(i,{i:0,refs:o});for(let n=0;n<r;n++){const r=t.readInfo();switch(31&r){case 0:{const e=t.readLen();o[n]=new bo(qe(i,s),e),s+=e;break}case 10:{const e=vt(t.restDecoder);o[n]=new qo(qe(i,s),e),s+=e;break}default:{const a=0==(192&r),c=new Wo(qe(i,s),null,(r&M)===M?t.readLeftID():null,null,(r&R)===R?t.readRightID():null,a?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,a&&32==(32&r)?t.readString():null,Ho(t,r));o[n]=c,s+=c.length}}}}return n})(o,n),c=((t,e,n)=>{const r=[];let o=u(n.keys()).sort(((t,e)=>t-e));if(0===o.length)return null;const s=()=>{if(0===o.length)return null;let t=n.get(o[o.length-1]);for(;t.refs.length===t.i;){if(o.pop(),!(o.length>0))return null;t=n.get(o[o.length-1])}return t};let a=s();if(null===a&&0===r.length)return null;const c=new kn,l=new Map,f=(t,e)=>{const n=l.get(t);(null==n||n>e)&&l.set(t,e)};let h=a.refs[a.i++];const d=new Map,p=()=>{for(const t of r){const e=t.id.client,r=n.get(e);r?(r.i--,c.clients.set(e,r.refs.slice(r.i)),n.delete(e),r.i=0,r.refs=[]):c.clients.set(e,[t]),o=o.filter((t=>t!==e))}r.length=0};for(;;){if(h.constructor!==qo){const o=i(d,h.id.client,(()=>Cn(e,h.id.client)))-h.id.clock;if(o<0)r.push(h),f(h.id.client,h.id.clock-1),p();else{const i=h.getMissing(t,e);if(null!==i){r.push(h);const t=n.get(i)||{refs:[],i:0};if(t.refs.length!==t.i){h=t.refs[t.i++];continue}f(i,Cn(e,i)),p()}else(0===o||o<h.length)&&(h.integrate(t,o),d.set(h.id.client,h.id.clock+h.length))}}if(r.length>0)h=r.pop();else if(null!==a&&a.i<a.refs.length)h=a.refs[a.i++];else{if(a=s(),null===a)break;h=a.refs[a.i++]}}if(c.clients.size>0){const t=new Ae;return Ie(t,c,new Map),G(t.restEncoder,0),{missing:l,update:t.toUint8Array()}}return null})(t,s,a),l=s.pendingStructs;if(l){for(const[t,n]of l.missing)if(n<Cn(s,t)){e=!0;break}if(c){for(const[t,e]of c.missing){const n=l.missing.get(t);(null==n||n>e)&&l.missing.set(t,e)}l.update=or([l.update,c.update])}}else s.pendingStructs=c;const f=ye(o,t,s);if(s.pendingDs){const e=new ke(yt(s.pendingDs));vt(e.restDecoder);const n=ye(e,t,s);s.pendingDs=f&&n?or([f,n]):f||n}else s.pendingDs=f;if(e){const e=s.pendingStructs.update;s.pendingStructs=null,Oe(t.doc,e)}}),n,!1),Te=(t,e,n)=>De(t,e,n,new _e(t)),Oe=(t,e,n,r=ke)=>{const o=yt(e);De(o,t,n,new r(o))},je=(t,e,n)=>Oe(t,e,n,_e),Pe=(t,e=new Uint8Array([0]),n=new Ae)=>{((t,e,n=new Map)=>{Ie(t,e.store,n),pe(t,de(e.store))})(n,t,Ue(e));const r=[n.toUint8Array()];if(t.store.pendingDs&&r.push(t.store.pendingDs),t.store.pendingStructs&&r.push(ir(t.store.pendingStructs.update,e)),r.length>1){if(n.constructor===Ce)return Zn(r.map(((t,e)=>0===e?t:gr(t))));if(n.constructor===Ae)return or(r)}return r[0]},Be=(t,e)=>Pe(t,e,new Ce),Ne=t=>{const e=new Map,n=vt(t.restDecoder);for(let r=0;r<n;r++){const n=vt(t.restDecoder),r=vt(t.restDecoder);e.set(n,r)}return e},Ue=t=>Ne(new ve(yt(t))),Le=(t,e)=>(G(t.restEncoder,e.size),u(e.entries()).sort(((t,e)=>e[0]-t[0])).forEach((([e,n])=>{G(t.restEncoder,e),G(t.restEncoder,n)})),t),Re=t=>((t,e=new Se)=>(t instanceof Map?Le(e,t):((t,e)=>{Le(t,xn(e.store))})(e,t),e.toUint8Array()))(t,new xe);class Me{constructor(){this.l=[]}}const $e=()=>new Me,Fe=(t,e)=>t.l.push(e),ze=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter((t=>e!==t)),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},We=(t,e,n)=>A(t.l,[e,n]);class He{constructor(t,e){this.client=t,this.clock=e}}const Ve=(t,e)=>t===e||null!==t&&null!==e&&t.client===e.client&&t.clock===e.clock,qe=(t,e)=>new He(t,e),Je=(t,e)=>{G(t,e.client),G(t,e.clock)},Ge=t=>qe(vt(t),vt(t)),Ye=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw ht()},Ke=(t,e)=>{for(;null!==e;){if(e.parent===t)return!0;e=e.parent._item}return!1},Xe=t=>{const e=[];let n=t._start;for(;n;)e.push(n),n=n.right;console.log("Children: ",e),console.log("Children content: ",e.filter((t=>!t.deleted)).map((t=>t.content)))};class Ze{constructor(t,e=t.getMap("users")){const n=new Map;this.yusers=e,this.doc=t,this.clients=new Map,this.dss=n;const r=(t,e)=>{const n=t.get("ds"),r=t.get("ids"),o=t=>this.clients.set(t,e);n.observe((t=>{t.changes.added.forEach((t=>{t.content.getContent().forEach((t=>{t instanceof Uint8Array&&this.dss.set(e,le([this.dss.get(e)||he(),ge(new ve(yt(t)))]))}))}))})),this.dss.set(e,le(n.map((t=>ge(new ve(yt(t))))))),r.observe((t=>t.changes.added.forEach((t=>t.content.getContent().forEach(o))))),r.forEach(o)};e.observe((t=>{t.keysChanged.forEach((t=>r(e.get(t),t)))})),e.forEach(r)}setUserMapping(t,e,n,{filter:r=(()=>!0)}={}){const o=this.yusers;let i=o.get(n);i||(i=new Gr,i.set("ids",new qr),i.set("ds",new qr),o.set(n,i)),i.get("ids").push([e]),o.observe((t=>{setTimeout((()=>{const t=o.get(n);if(t!==i){i=t,this.clients.forEach(((t,e)=>{n===t&&i.get("ids").push([e])}));const e=new xe,r=this.dss.get(n);r&&(pe(e,r),i.get("ds").push([e.toUint8Array()]))}}),0)})),t.on("afterTransaction",(t=>{setTimeout((()=>{const e=i.get("ds"),n=t.deleteSet;if(t.local&&n.clients.size>0&&r(t,n)){const t=new xe;pe(t,n),e.push([t.toUint8Array()])}}))}))}getUserByClientId(t){return this.clients.get(t)||null}getUserByDeletedId(t){for(const[e,n]of this.dss.entries())if(ce(n,t))return e;return null}}class Qe{constructor(t,e,n,r=0){this.type=t,this.tname=e,this.item=n,this.assoc=r}}const tn=t=>{const e={};return t.type&&(e.type=t.type),t.tname&&(e.tname=t.tname),t.item&&(e.item=t.item),null!=t.assoc&&(e.assoc=t.assoc),e},en=t=>new Qe(null==t.type?null:qe(t.type.client,t.type.clock),t.tname||null,null==t.item?null:qe(t.item.client,t.item.clock),null==t.assoc?0:t.assoc);class nn{constructor(t,e,n=0){this.type=t,this.index=e,this.assoc=n}}const rn=(t,e,n)=>{let r=null,o=null;return null===t._item?o=Ye(t):r=qe(t._item.id.client,t._item.id.clock),new Qe(r,o,e,n)},on=(t,e,n=0)=>{let r=t._start;if(n<0){if(0===e)return rn(t,null,n);e--}for(;null!==r;){if(!r.deleted&&r.countable){if(r.length>e)return rn(t,qe(r.id.client,r.id.clock+e),n);e-=r.length}if(null===r.right&&n<0)return rn(t,r.lastId,n);r=r.right}return rn(t,null,n)},sn=t=>{const e=H();return((t,e)=>{const{type:n,tname:r,item:o,assoc:i}=e;if(null!==o)G(t,0),Je(t,o);else if(null!==r)J(t,1),Z(t,r);else{if(null===n)throw ht();J(t,2),Je(t,n)}Y(t,i)})(e,t),V(e)},an=t=>(t=>{let e=null,n=null,r=null;switch(vt(t)){case 0:r=Ge(t);break;case 1:n=Et(t);break;case 2:e=Ge(t)}const o=mt(t)?_t(t):0;return new Qe(e,n,r,o)})(yt(t)),cn=(t,e)=>{const n=e.store,r=t.item,o=t.type,i=t.tname,s=t.assoc;let a=null,c=0;if(null!==r){if(Cn(n,r.client)<=r.clock)return null;const t=Ro(n,r),e=t.item;if(!(e instanceof Wo))return null;if(a=e.parent,null===a._item||!a._item.deleted){c=e.deleted||!e.countable?0:t.diff+(s>=0?0:1);let n=e.left;for(;null!==n;)!n.deleted&&n.countable&&(c+=n.length),n=n.left}}else{if(null!==i)a=e.get(i);else{if(null===o)throw ht();{if(Cn(n,o.client)<=o.clock)return null;const{item:t}=Ro(n,o);if(!(t instanceof Wo&&t.content instanceof Lo))return null;a=t.content.type}}c=s>=0?a._length:0}return((t,e,n=0)=>new nn(t,e,n))(a,c,t.assoc)},un=(t,e)=>t===e||null!==t&&null!==e&&t.tname===e.tname&&Ve(t.item,e.item)&&Ve(t.type,e.type)&&t.assoc===e.assoc;class ln{constructor(t,e){this.ds=t,this.sv=e}}const fn=(t,e)=>{const n=t.ds.clients,r=e.ds.clients,o=t.sv,i=e.sv;if(o.size!==i.size||n.size!==r.size)return!1;for(const[t,e]of o.entries())if(i.get(t)!==e)return!1;for(const[t,e]of n.entries()){const n=r.get(t)||[];if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++){const r=e[t],o=n[t];if(r.clock!==o.clock||r.len!==o.len)return!1}}return!0},hn=(t,e=new Se)=>(pe(e,t.ds),Le(e,t.sv),e.toUint8Array()),dn=t=>hn(t,new xe),pn=(t,e=new Ee(yt(t)))=>new ln(ge(e),Ne(e)),gn=t=>pn(t,new ve(yt(t))),yn=(t,e)=>new ln(t,e),mn=yn(he(),new Map),wn=t=>yn(de(t.store),xn(t.store)),bn=(t,e)=>void 0===e?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!ce(e.ds,t.id),vn=(t,e)=>{const n=i(t.meta,vn,s),r=t.doc.store;n.has(e)||(e.sv.forEach(((e,n)=>{e<Cn(r,n)&&Tn(t,qe(n,e))})),ae(t,e.ds,(t=>{})),n.add(e))},_n=(t,e,n=new be)=>{if(t.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");const{sv:r,ds:o}=e,i=new Ae;return t.transact((e=>{let n=0;r.forEach((t=>{t>0&&n++})),G(i.restEncoder,n);for(const[n,o]of r){if(0===o)continue;o<Cn(t.store,n)&&Tn(e,qe(n,o));const r=t.store.clients.get(n)||[],s=An(r,o-1);G(i.restEncoder,s+1),i.writeClient(n),G(i.restEncoder,0);for(let t=0;t<=s;t++)r[t].write(i,0)}pe(i,o)})),Oe(n,i.toUint8Array(),"snapshot"),n},En=(t,e)=>((t,e,n=ke)=>{const r=new n(yt(e)),o=new qn(r,!1);for(let e=o.curr;null!==e;e=o.next())if((t.sv.get(e.id.client)||0)<e.id.clock+e.length)return!1;const i=le([t.ds,ge(r)]);return me(t.ds,i)})(t,e,_e);class kn{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const xn=t=>{const e=new Map;return t.clients.forEach(((t,n)=>{const r=t[t.length-1];e.set(n,r.id.clock+r.length)})),e},Cn=(t,e)=>{const n=t.clients.get(e);if(void 0===n)return 0;const r=n[n.length-1];return r.id.clock+r.length},Sn=(t,e)=>{let n=t.clients.get(e.id.client);if(void 0===n)n=[],t.clients.set(e.id.client,n);else{const t=n[n.length-1];if(t.id.clock+t.length!==e.id.clock)throw ht()}n.push(e)},An=(t,e)=>{let n=0,r=t.length-1,o=t[r],i=o.id.clock;if(i===e)return r;let s=h(e/(i+o.length-1)*r);for(;n<=r;){if(o=t[s],i=o.id.clock,i<=e){if(e<i+o.length)return s;n=s+1}else r=s-1;s=h((n+r)/2)}throw ht()},In=(t,e)=>{const n=t.clients.get(e.client);return n[An(n,e.clock)]},Dn=(t,e,n)=>{const r=An(e,n),o=e[r];return o.id.clock<n&&o instanceof Wo?(e.splice(r+1,0,$o(t,o,n-o.id.clock)),r+1):r},Tn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Dn(t,n,e.clock)]},On=(t,e,n)=>{const r=e.clients.get(n.client),o=An(r,n.clock),i=r[o];return n.clock!==i.id.clock+i.length-1&&i.constructor!==bo&&r.splice(o+1,0,$o(t,i,n.clock-i.id.clock+1)),i},jn=(t,e,n,r,o)=>{if(0===r)return;const i=n+r;let s,a=Dn(t,e,n);do{s=e[a++],i<s.id.clock+s.length&&Dn(t,e,i),o(s)}while(a<e.length&&e[a].id.clock<i)};class Pn{constructor(t,e,n){this.doc=t,this.deleteSet=new se,this.beforeState=xn(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Bn=(t,e)=>!(0===e.deleteSet.clients.size&&!((t,n)=>{for(const[n,i]of t)if(r=i,o=n,e.beforeState.get(o)!==r)return!0;var r,o;return!1})(e.afterState)||(ue(e.deleteSet),((t,e)=>{Ie(t,e.doc.store,e.beforeState)})(t,e),pe(t,e.deleteSet),0)),Nn=(t,e,n)=>{const r=e._item;(null===r||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&i(t.changed,e,s).add(n)},Un=(t,e)=>{let n=t[e],r=t[e-1],o=e;for(;o>0&&r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n);n=r,r=t[--o-1])n instanceof Wo&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);const i=e-o;return i&&t.splice(e+1-i,i),i},Ln=(t,e,n)=>{for(const[r,o]of t.clients.entries()){const t=e.clients.get(r);for(let r=o.length-1;r>=0;r--){const i=o[r],s=i.clock+i.len;for(let r=An(t,i.clock),o=t[r];r<t.length&&o.id.clock<s;o=t[++r]){const o=t[r];if(i.clock+i.len<=o.id.clock)break;o instanceof Wo&&o.deleted&&!o.keep&&n(o)&&o.gc(e,!1)}}}},Rn=(t,e)=>{t.clients.forEach(((t,n)=>{const r=e.clients.get(n);for(let e=t.length-1;e>=0;e--){const n=t[e];for(let t=p(r.length-1,1+An(r,n.clock+n.len-1)),e=r[t];t>0&&e.id.clock>=n.clock;e=r[t])t-=1+Un(r,t)}}))},Mn=(t,e,n)=>{Ln(t,e,n),Rn(t,e)},$n=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,o=r.store,i=n.deleteSet,s=n._mergeStructs;try{ue(i),n.afterState=xn(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const t=[];n.changed.forEach(((e,r)=>t.push((()=>{null!==r._item&&r._item.deleted||r._callObserver(n,e)})))),t.push((()=>{n.changedParentTypes.forEach(((t,e)=>{e._dEH.l.length>0&&(null===e._item||!e._item.deleted)&&((t=t.filter((t=>null===t.target._item||!t.target._item.deleted))).forEach((t=>{t.currentTarget=e,t._path=null})),t.sort(((t,e)=>t.path.length-e.path.length)),We(e._dEH,t,n))}))})),t.push((()=>r.emit("afterTransaction",[n,r]))),A(t,[]),n._needFormattingCleanup&&ao(n)}finally{r.gc&&Ln(i,o,r.gcFilter),Rn(i,o),n.afterState.forEach(((t,e)=>{const r=n.beforeState.get(e)||0;if(r!==t){const t=o.clients.get(e),n=g(An(t,r),1);for(let e=t.length-1;e>=n;)e-=1+Un(t,e)}}));for(let t=s.length-1;t>=0;t--){const{client:e,clock:n}=s[t].id,r=o.clients.get(e),i=An(r,n);i+1<r.length&&Un(r,i+1)>1||i>0&&Un(r,i)}if(n.local||n.afterState.get(r.clientID)===n.beforeState.get(r.clientID)||(Xt(Jt,$t,"[yjs] ",Ft,Vt,"Changed the client-id because another client seems to be using it."),r.clientID=we()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const t=new Ce;Bn(t,n)&&r.emit("update",[t.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const t=new Ae;Bn(t,n)&&r.emit("updateV2",[t.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:c,subdocsRemoved:u}=n;(a.size>0||u.size>0||c.size>0)&&(a.forEach((t=>{t.clientID=r.clientID,null==t.collectionid&&(t.collectionid=r.collectionid),r.subdocs.add(t)})),u.forEach((t=>r.subdocs.delete(t))),r.emit("subdocs",[{loaded:c,added:a,removed:u},r,n]),u.forEach((t=>t.destroy()))),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):$n(t,e+1)}}},Fn=(t,e,n=null,r=!0)=>{const o=t._transactionCleanups;let i=!1,s=null;null===t._transaction&&(i=!0,t._transaction=new Pn(t,n,r),o.push(t._transaction),1===o.length&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{s=e(t._transaction)}finally{if(i){const e=t._transaction===o[0];t._transaction=null,e&&$n(o,0)}}return s};class zn{constructor(t,e){this.insertions=e,this.deletions=t,this.meta=new Map}}const Wn=(t,e,n)=>{ae(t,n.deletions,(t=>{t instanceof Wo&&e.scope.some((e=>Ke(e,t)))&&Mo(t,!1)}))},Hn=(t,e,n)=>{let r=null,o=null;const i=t.doc,s=t.scope;if(Fn(i,(n=>{for(;e.length>0&&null===r;){const o=i.store,a=e.pop(),c=new Set,u=[];let l=!1;ae(n,a.insertions,(t=>{if(t instanceof Wo){if(null!==t.redone){let{item:e,diff:r}=Ro(o,t.id);r>0&&(e=Tn(n,qe(e.id.client,e.id.clock+r))),t=e}!t.deleted&&s.some((e=>Ke(e,t)))&&u.push(t)}})),ae(n,a.deletions,(t=>{t instanceof Wo&&s.some((e=>Ke(e,t)))&&!ce(a.insertions,t.id)&&c.add(t)})),c.forEach((e=>{l=null!==zo(n,e,c,a.insertions,t.ignoreRemoteMapChanges,t)||l}));for(let e=u.length-1;e>=0;e--){const r=u[e];t.deleteFilter(r)&&(r.delete(n),l=!0)}r=l?a:null}n.changed.forEach(((t,e)=>{t.has(null)&&e._searchMarker&&(e._searchMarker.length=0)})),o=n}),t),null!=r){const e=o.changedParentTypes;t.emit("stack-item-popped",[{stackItem:r,type:n,changedParentTypes:e},t])}return r};class Vn extends f{constructor(t,{captureTimeout:e=500,captureTransaction:n=(t=>!0),deleteFilter:r=(()=>!0),trackedOrigins:o=new Set([null]),ignoreRemoteMapChanges:i=!1,doc:s=(l(t)?t[0].doc:t.doc)}={}){super(),this.scope=[],this.addToScope(t),this.deleteFilter=r,o.add(this),this.trackedOrigins=o,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=s,this.lastChange=0,this.ignoreRemoteMapChanges=i,this.captureTimeout=e,this.afterTransactionHandler=t=>{if(!(this.captureTransaction(t)&&this.scope.some((e=>t.changedParentTypes.has(e)))&&(this.trackedOrigins.has(t.origin)||t.origin&&this.trackedOrigins.has(t.origin.constructor))))return;const e=this.undoing,n=this.redoing,r=e?this.redoStack:this.undoStack;e?this.stopCapturing():n||this.clear(!1,!0);const o=new se;t.afterState.forEach(((e,n)=>{const r=t.beforeState.get(n)||0,i=e-r;i>0&&fe(o,n,r,i)}));const i=Mt();let s=!1;if(this.lastChange>0&&i-this.lastChange<this.captureTimeout&&r.length>0&&!e&&!n){const e=r[r.length-1];e.deletions=le([e.deletions,t.deleteSet]),e.insertions=le([e.insertions,o])}else r.push(new zn(t.deleteSet,o)),s=!0;e||n||(this.lastChange=i),ae(t,t.deleteSet,(t=>{t instanceof Wo&&this.scope.some((e=>Ke(e,t)))&&Mo(t,!0)}));const a=[{stackItem:r[r.length-1],origin:t.origin,type:e?"redo":"undo",changedParentTypes:t.changedParentTypes},this];s?this.emit("stack-item-added",a):this.emit("stack-item-updated",a)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",(()=>{this.destroy()}))}addToScope(t){(t=l(t)?t:[t]).forEach((t=>{this.scope.every((e=>e!==t))&&this.scope.push(t)}))}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}clear(t=!0,e=!0){(t&&this.canUndo()||e&&this.canRedo())&&this.doc.transact((n=>{t&&(this.undoStack.forEach((t=>Wn(n,this,t))),this.undoStack=[]),e&&(this.redoStack.forEach((t=>Wn(n,this,t))),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:e}])}))}stopCapturing(){this.lastChange=0}undo(){let t;this.undoing=!0;try{t=Hn(this,this.undoStack,"undo")}finally{this.undoing=!1}return t}redo(){let t;this.redoing=!0;try{t=Hn(this,this.redoStack,"redo")}finally{this.redoing=!1}return t}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}class qn{constructor(t,e){this.gen=function*(t){const e=vt(t.restDecoder);for(let n=0;n<e;n++){const e=vt(t.restDecoder),n=t.readClient();let r=vt(t.restDecoder);for(let o=0;o<e;o++){const e=t.readInfo();if(10===e){const e=vt(t.restDecoder);yield new qo(qe(n,r),e),r+=e}else if(0!=(31&e)){const o=0==(192&e),i=new Wo(qe(n,r),null,(e&M)===M?t.readLeftID():null,null,(e&R)===R?t.readRightID():null,o?t.readParentInfo()?t.readString():t.readLeftID():null,o&&32==(32&e)?t.readString():null,Ho(t,e));yield i,r+=i.length}else{const e=t.readLen();yield new bo(qe(n,r),e),r+=e}}}}(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===qo);return this.curr}}const Jn=t=>Gn(t,_e),Gn=(t,e=ke)=>{const n=[],r=new e(yt(t)),o=new qn(r,!1);for(let t=o.curr;null!==t;t=o.next())n.push(t);Xt("Structs: ",n);const i=ge(r);Xt("DeleteSet: ",i)},Yn=t=>Kn(t,_e),Kn=(t,e=ke)=>{const n=[],r=new e(yt(t)),o=new qn(r,!1);for(let t=o.curr;null!==t;t=o.next())n.push(t);return{structs:n,ds:ge(r)}};class Xn{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const Zn=t=>or(t,_e,Ce),Qn=(t,e=Se,n=ke)=>{const r=new e,o=new qn(new n(yt(t)),!1);let i=o.curr;if(null!==i){let t=0,e=i.id.client,n=0!==i.id.clock,s=n?0:i.id.clock+i.length;for(;null!==i;i=o.next())e!==i.id.client&&(0!==s&&(t++,G(r.restEncoder,e),G(r.restEncoder,s)),e=i.id.client,s=0,n=0!==i.id.clock),i.constructor===qo&&(n=!0),n||(s=i.id.clock+i.length);0!==s&&(t++,G(r.restEncoder,e),G(r.restEncoder,s));const a=H();return G(a,t),((t,e)=>{Q(t,V(e))})(a,r.restEncoder),r.restEncoder=a,r.toUint8Array()}return G(r.restEncoder,0),r.toUint8Array()},tr=t=>Qn(t,xe,_e),er=(t,e=ke)=>{const n=new Map,r=new Map,o=new qn(new e(yt(t)),!1);let i=o.curr;if(null!==i){let t=i.id.client,e=i.id.clock;for(n.set(t,e);null!==i;i=o.next())t!==i.id.client&&(r.set(t,e),n.set(i.id.client,i.id.clock),t=i.id.client),e=i.id.clock+i.length;r.set(t,e)}return{from:n,to:r}},nr=t=>er(t,_e),rr=(t,e)=>{if(t.constructor===bo){const{client:n,clock:r}=t.id;return new bo(qe(n,r+e),t.length-e)}if(t.constructor===qo){const{client:n,clock:r}=t.id;return new qo(qe(n,r+e),t.length-e)}{const n=t,{client:r,clock:o}=n.id;return new Wo(qe(r,o+e),null,qe(r,o+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},or=(t,e=ke,n=Ae)=>{if(1===t.length)return t[0];const r=t.map((t=>new e(yt(t))));let o=r.map((t=>new qn(t,!0))),i=null;const s=new n,a=new Xn(s);for(;o=o.filter((t=>null!==t.curr)),o.sort(((t,e)=>{if(t.curr.id.client===e.curr.id.client){const n=t.curr.id.clock-e.curr.id.clock;return 0===n?t.curr.constructor===e.curr.constructor?0:t.curr.constructor===qo?1:-1:n}return e.curr.id.client-t.curr.id.client})),0!==o.length;){const t=o[0],e=t.curr.id.client;if(null!==i){let n=t.curr,r=!1;for(;null!==n&&n.id.clock+n.length<=i.struct.id.clock+i.struct.length&&n.id.client>=i.struct.id.client;)n=t.next(),r=!0;if(null===n||n.id.client!==e||r&&n.id.clock>i.struct.id.clock+i.struct.length)continue;if(e!==i.struct.id.client)cr(a,i.struct,i.offset),i={struct:n,offset:0},t.next();else if(i.struct.id.clock+i.struct.length<n.id.clock)if(i.struct.constructor===qo)i.struct.length=n.id.clock+n.length-i.struct.id.clock;else{cr(a,i.struct,i.offset);const t=n.id.clock-i.struct.id.clock-i.struct.length;i={struct:new qo(qe(e,i.struct.id.clock+i.struct.length),t),offset:0}}else{const e=i.struct.id.clock+i.struct.length-n.id.clock;e>0&&(i.struct.constructor===qo?i.struct.length-=e:n=rr(n,e)),i.struct.mergeWith(n)||(cr(a,i.struct,i.offset),i={struct:n,offset:0},t.next())}}else i={struct:t.curr,offset:0},t.next();for(let n=t.curr;null!==n&&n.id.client===e&&n.id.clock===i.struct.id.clock+i.struct.length&&n.constructor!==qo;n=t.next())cr(a,i.struct,i.offset),i={struct:n,offset:0}}null!==i&&(cr(a,i.struct,i.offset),i=null),ur(a);const c=r.map((t=>ge(t))),u=le(c);return pe(s,u),s.toUint8Array()},ir=(t,e,n=ke,r=Ae)=>{const o=Ue(e),i=new r,s=new Xn(i),a=new n(yt(t)),c=new qn(a,!1);for(;c.curr;){const t=c.curr,e=t.id.client,n=o.get(e)||0;if(c.curr.constructor!==qo)if(t.id.clock+t.length>n)for(cr(s,t,g(n-t.id.clock,0)),c.next();c.curr&&c.curr.id.client===e;)cr(s,c.curr,0),c.next();else for(;c.curr&&c.curr.id.client===e&&c.curr.id.clock+c.curr.length<=n;)c.next();else c.next()}ur(s);const u=ge(a);return pe(i,u),i.toUint8Array()},sr=(t,e)=>ir(t,e,_e,Ce),ar=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:V(t.encoder.restEncoder)}),t.encoder.restEncoder=H(),t.written=0)},cr=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&ar(t),0===t.written&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),G(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},ur=t=>{ar(t);const e=t.encoder.restEncoder;G(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];G(e,r.written),Q(e,r.restEncoder)}},lr=(t,e,n,r)=>{const o=new n(yt(t)),i=new qn(o,!1),s=new r,a=new Xn(s);for(let t=i.curr;null!==t;t=i.next())cr(a,e(t),0);ur(a);const c=ge(o);return pe(s,c),s.toUint8Array()},fr=({formatting:t=!0,subdocs:e=!0,yxml:n=!0}={})=>{let o=0;const s=r(),a=r(),c=r(),u=r();return u.set(null,null),r=>{switch(r.constructor){case bo:case qo:return r;case Wo:{const f=r,h=f.content;switch(h.constructor){case _o:break;case Lo:if(n){const t=h.type;t instanceof po&&(t.nodeName=i(a,t.nodeName,(()=>"node-"+o))),t instanceof yo&&(t.hookName=i(a,t.hookName,(()=>"hook-"+o)))}break;case Ao:{const t=h;t.arr=t.arr.map((()=>o));break}case vo:h.content=new Uint8Array([o]);break;case ko:{const t=h;e&&(t.opts={},t.doc.guid=o+"");break}case xo:h.embed={};break;case Co:{const e=h;t&&(e.key=i(c,e.key,(()=>o+"")),e.value=i(u,e.value,(()=>({i:o}))));break}case So:{const t=h;t.arr=t.arr.map((()=>o));break}case Io:{const t=h;t.str=(l=o%10+"",((t,e)=>{const n=new Array(t);for(let e=0;e<t;e++)n[e]=l;return n})(t.str.length).join(""));break}default:ht()}return f.parentSub&&(f.parentSub=i(s,f.parentSub,(()=>o+""))),o++,r}default:ht()}var l}},hr=(t,e)=>lr(t,fr(e),_e,Ce),dr=(t,e)=>lr(t,fr(e),ke,Ae),pr=t=>lr(t,I,_e,Ae),gr=t=>lr(t,I,ke,Ce),yr="You must not compute changes after the event-handler fired.";class mr{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=wr(this.currentTarget,this.target))}deletes(t){return ce(this.transaction.deleteSet,t.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw lt(yr);const t=new Map,e=this.target;this.transaction.changed.get(e).forEach((n=>{if(null!==n){const r=e._map.get(n);let o,i;if(this.adds(r)){let t=r.left;for(;null!==t&&this.adds(t);)t=t.left;if(this.deletes(r)){if(null===t||!this.deletes(t))return;o="delete",i=a(t.content.getContent())}else null!==t&&this.deletes(t)?(o="update",i=a(t.content.getContent())):(o="add",i=void 0)}else{if(!this.deletes(r))return;o="delete",i=a(r.content.getContent())}t.set(n,{action:o,oldValue:i})}})),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(null===t){if(0===this.transaction.doc._transactionCleanups.length)throw lt(yr);const e=this.target,n=s(),r=s(),o=[];if(t={added:n,deleted:r,delta:o,keys:this.keys},this.transaction.changed.get(e).has(null)){let t=null;const i=()=>{t&&o.push(t)};for(let o=e._start;null!==o;o=o.right)o.deleted?this.deletes(o)&&!this.adds(o)&&(null!==t&&void 0!==t.delete||(i(),t={delete:0}),t.delete+=o.length,r.add(o)):this.adds(o)?(null!==t&&void 0!==t.insert||(i(),t={insert:[]}),t.insert=t.insert.concat(o.content.getContent()),n.add(o)):(null!==t&&void 0!==t.retain||(i(),t={retain:0}),t.retain+=o.length);null!==t&&void 0===t.retain&&i()}this._changes=t}return t}}const wr=(t,e)=>{const n=[];for(;null!==e._item&&e!==t;){if(null!==e._item.parentSub)n.unshift(e._item.parentSub);else{let t=0,r=e._item.parent._start;for(;r!==e._item&&null!==r;)r.deleted||t++,r=r.right;n.unshift(t)}e=e._item.parent}return n};let br=0;class vr{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=br++}}const _r=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=br++},Er=(t,e)=>{if(null===t._start||0===e||null===t._searchMarker)return null;const n=0===t._searchMarker.length?null:t._searchMarker.reduce(((t,n)=>d(e-t.index)<d(e-n.index)?t:n));let r=t._start,o=0;for(null!==n&&(r=n.p,o=n.index,(t=>{t.timestamp=br++})(n));null!==r.right&&o<e;){if(!r.deleted&&r.countable){if(e<o+r.length)break;o+=r.length}r=r.right}for(;null!==r.left&&o>e;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);for(;null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);return null!==n&&d(n.index-o)<r.parent.length/80?(_r(n,r,o),n):((t,e,n)=>{if(t.length>=80){const r=t.reduce(((t,e)=>t.timestamp<e.timestamp?t:e));return _r(r,e,n),r}{const r=new vr(e,n);return t.push(r),r}})(t._searchMarker,r,o)},kr=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const o=t[r];if(n>0){let e=o.p;for(e.marker=!1;e&&(e.deleted||!e.countable);)e=e.left,e&&!e.deleted&&e.countable&&(o.index-=e.length);if(null===e||!0===e.marker){t.splice(r,1);continue}o.p=e,e.marker=!0}(e<o.index||n>0&&e===o.index)&&(o.index=g(e,o.index+n))}},xr=t=>{let e=t._start;const n=[];for(;e;)n.push(e),e=e.right;return n},Cr=(t,e,n)=>{const r=t,o=e.changedParentTypes;for(;i(o,t,(()=>[])).push(n),null!==t._item;)t=t._item.parent;We(r._eH,n,e)};class Sr{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=$e(),this._dEH=$e(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw ft()}clone(){throw ft()}_write(t){}get _first(){let t=this._start;for(;null!==t&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Fe(this._eH,t)}observeDeep(t){Fe(this._dEH,t)}unobserve(t){ze(this._eH,t)}unobserveDeep(t){ze(this._dEH,t)}toJSON(){}}const Ar=(t,e,n)=>{e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const o=[];let i=t._start;for(;null!==i&&r>0;){if(i.countable&&!i.deleted){const t=i.content.getContent();if(t.length<=e)e-=t.length;else{for(let n=e;n<t.length&&r>0;n++)o.push(t[n]),r--;e=0}}i=i.right}return o},Ir=t=>{const e=[];let n=t._start;for(;null!==n;){if(n.countable&&!n.deleted){const t=n.content.getContent();for(let n=0;n<t.length;n++)e.push(t[n])}n=n.right}return e},Dr=(t,e)=>{const n=[];let r=t._start;for(;null!==r;){if(r.countable&&bn(r,e)){const t=r.content.getContent();for(let e=0;e<t.length;e++)n.push(t[e])}r=r.right}return n},Tr=(t,e)=>{let n=0,r=t._start;for(;null!==r;){if(r.countable&&!r.deleted){const o=r.content.getContent();for(let r=0;r<o.length;r++)e(o[r],n++,t)}r=r.right}},Or=(t,e)=>{const n=[];return Tr(t,((r,o)=>{n.push(e(r,o,t))})),n},jr=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==e&&e.deleted;)e=e.right;if(null===e)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const t=n[r++];return n.length<=r&&(n=null),{done:!1,value:t}}}},Pr=(t,e)=>{const n=Er(t,e);let r=t._start;for(null!==n&&(r=n.p,e-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},Br=(t,e,n,r)=>{let o=n;const i=t.doc,s=i.clientID,a=i.store,c=null===n?e._start:n.right;let u=[];const l=()=>{u.length>0&&(o=new Wo(qe(s,Cn(a,s)),o,o&&o.lastId,c,c&&c.id,e,null,new Ao(u)),o.integrate(t,0),u=[])};r.forEach((n=>{if(null===n)u.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(n);break;default:switch(l(),n.constructor){case Uint8Array:case ArrayBuffer:o=new Wo(qe(s,Cn(a,s)),o,o&&o.lastId,c,c&&c.id,e,null,new vo(new Uint8Array(n))),o.integrate(t,0);break;case be:o=new Wo(qe(s,Cn(a,s)),o,o&&o.lastId,c,c&&c.id,e,null,new ko(n)),o.integrate(t,0);break;default:if(!(n instanceof Sr))throw new Error("Unexpected content type in insert operation");o=new Wo(qe(s,Cn(a,s)),o,o&&o.lastId,c,c&&c.id,e,null,new Lo(n)),o.integrate(t,0)}}})),l()},Nr=lt("Length exceeded!"),Ur=(t,e,n,r)=>{if(n>e._length)throw Nr;if(0===n)return e._searchMarker&&kr(e._searchMarker,n,r.length),Br(t,e,null,r);const o=n,i=Er(e,n);let s=e._start;for(null!==i&&(s=i.p,0==(n-=i.index)&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));null!==s;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&Tn(t,qe(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&kr(e._searchMarker,o,r.length),Br(t,e,s,r)},Lr=(t,e,n,r)=>{if(0===r)return;const o=n,i=r,s=Er(e,n);let a=e._start;for(null!==s&&(a=s.p,n-=s.index);null!==a&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Tn(t,qe(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&null!==a;)a.deleted||(r<a.length&&Tn(t,qe(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw Nr;e._searchMarker&&kr(e._searchMarker,o,-i+r)},Rr=(t,e,n)=>{const r=e._map.get(n);void 0!==r&&r.delete(t)},Mr=(t,e,n,r)=>{const o=e._map.get(n)||null,i=t.doc,s=i.clientID;let a;if(null==r)a=new Ao([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Ao([r]);break;case Uint8Array:a=new vo(r);break;case be:a=new ko(r);break;default:if(!(r instanceof Sr))throw new Error("Unexpected content type");a=new Lo(r)}new Wo(qe(s,Cn(i.store,s)),o,o&&o.lastId,null,null,e,n,a).integrate(t,0)},$r=(t,e)=>{const n=t._map.get(e);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Fr=t=>{const e={};return t._map.forEach(((t,n)=>{t.deleted||(e[n]=t.content.getContent()[t.length-1])})),e},zr=(t,e)=>{const n=t._map.get(e);return void 0!==n&&!n.deleted},Wr=(t,e,n)=>{let r=t._map.get(e)||null;for(;null!==r&&(!n.sv.has(r.id.client)||r.id.clock>=(n.sv.get(r.id.client)||0));)r=r.left;return null!==r&&bn(r,n)?r.content.getContent()[r.length-1]:void 0},Hr=t=>{return e=t.entries(),n=t=>!t[1].deleted,Qt((()=>{let t;do{t=e.next()}while(!t.done&&!n(t.value));return t}));var e,n};class Vr extends mr{constructor(t,e){super(t,e),this._transaction=e}}class qr extends Sr{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const e=new qr;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new qr}clone(){const t=new qr;return t.insert(0,this.toArray().map((t=>t instanceof Sr?t.clone():t))),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(t,e){super._callObserver(t,e),Cr(this,t,new Vr(this,t))}insert(t,e){null!==this.doc?Fn(this.doc,(n=>{Ur(n,this,t,e)})):this._prelimContent.splice(t,0,...e)}push(t){null!==this.doc?Fn(this.doc,(e=>{((t,e,n)=>{let r=(e._searchMarker||[]).reduce(((t,e)=>e.index>t.index?e:t),{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;Br(t,e,r,n)})(e,this,t)})):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,e=1){null!==this.doc?Fn(this.doc,(n=>{Lr(n,this,t,e)})):this._prelimContent.splice(t,e)}get(t){return Pr(this,t)}toArray(){return Ir(this)}slice(t=0,e=this.length){return Ar(this,t,e)}toJSON(){return this.map((t=>t instanceof Sr?t.toJSON():t))}map(t){return Or(this,t)}forEach(t){Tr(this,t)}[Symbol.iterator](){return jr(this)}_write(t){t.writeTypeRef(To)}}class Jr extends mr{constructor(t,e,n){super(t,e),this.keysChanged=n}}class Gr extends Sr{constructor(t){super(),this._prelimContent=null,this._prelimContent=void 0===t?new Map:new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach(((t,e)=>{this.set(e,t)})),this._prelimContent=null}_copy(){return new Gr}clone(){const t=new Gr;return this.forEach(((e,n)=>{t.set(n,e instanceof Sr?e.clone():e)})),t}_callObserver(t,e){Cr(this,t,new Jr(this,t,e))}toJSON(){const t={};return this._map.forEach(((e,n)=>{if(!e.deleted){const r=e.content.getContent()[e.length-1];t[n]=r instanceof Sr?r.toJSON():r}})),t}get size(){return[...Hr(this._map)].length}keys(){return te(Hr(this._map),(t=>t[0]))}values(){return te(Hr(this._map),(t=>t[1].content.getContent()[t[1].length-1]))}entries(){return te(Hr(this._map),(t=>[t[0],t[1].content.getContent()[t[1].length-1]]))}forEach(t){this._map.forEach(((e,n)=>{e.deleted||t(e.content.getContent()[e.length-1],n,this)}))}[Symbol.iterator](){return this.entries()}delete(t){null!==this.doc?Fn(this.doc,(e=>{Rr(e,this,t)})):this._prelimContent.delete(t)}set(t,e){return null!==this.doc?Fn(this.doc,(n=>{Mr(n,this,t,e)})):this._prelimContent.set(t,e),e}get(t){return $r(this,t)}has(t){return zr(this,t)}clear(){null!==this.doc?Fn(this.doc,(t=>{this.forEach((function(e,n,r){Rr(t,r,n)}))})):this._prelimContent.clear()}_write(t){t.writeTypeRef(Oo)}}const Yr=(t,e)=>t===e||"object"==typeof t&&"object"==typeof e&&t&&e&&((t,e)=>t===e||re(t)===re(e)&&((t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0})(t,((t,n)=>(void 0!==t||((t,e)=>Object.prototype.hasOwnProperty.call(t,e))(e,n))&&e[n]===t)))(t,e);class Kr{constructor(t,e,n,r){this.left=t,this.right=e,this.index=n,this.currentAttributes=r}forward(){null===this.right&&ht(),this.right.content.constructor===Co?this.right.deleted||to(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}const Xr=(t,e,n)=>{for(;null!==e.right&&n>0;)e.right.content.constructor===Co?e.right.deleted||to(e.currentAttributes,e.right.content):e.right.deleted||(n<e.right.length&&Tn(t,qe(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length),e.left=e.right,e.right=e.right.right;return e},Zr=(t,e,n)=>{const r=new Map,o=Er(e,n);if(o){const e=new Kr(o.p.left,o.p,o.index,r);return Xr(t,e,n-o.index)}{const o=new Kr(null,e._start,0,r);return Xr(t,o,n)}},Qr=(t,e,n,r)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===Co&&Yr(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const o=t.doc,i=o.clientID;r.forEach(((r,s)=>{const a=n.left,c=n.right,u=new Wo(qe(i,Cn(o.store,i)),a,a&&a.lastId,c,c&&c.id,e,null,new Co(s,r));u.integrate(t,0),n.right=u,n.forward()}))},to=(t,e)=>{const{key:n,value:r}=e;null===r?t.delete(n):t.set(n,r)},eo=(t,e)=>{for(;null!==t.right&&(t.right.deleted||t.right.content.constructor===Co&&Yr(e[t.right.content.key]||null,t.right.content.value));)t.forward()},no=(t,e,n,r)=>{const o=t.doc,i=o.clientID,s=new Map;for(const a in r){const c=r[a],u=n.currentAttributes.get(a)||null;if(!Yr(u,c)){s.set(a,u);const{left:r,right:l}=n;n.right=new Wo(qe(i,Cn(o.store,i)),r,r&&r.lastId,l,l&&l.id,e,null,new Co(a,c)),n.right.integrate(t,0),n.forward()}}return s},ro=(t,e,n,r,o)=>{n.currentAttributes.forEach(((t,e)=>{void 0===o[e]&&(o[e]=null)}));const i=t.doc,s=i.clientID;eo(n,o);const a=no(t,e,n,o),c=r.constructor===String?new Io(r):r instanceof Sr?new Lo(r):new xo(r);let{left:u,right:l,index:f}=n;e._searchMarker&&kr(e._searchMarker,n.index,c.getLength()),l=new Wo(qe(s,Cn(i.store,s)),u,u&&u.lastId,l,l&&l.id,e,null,c),l.integrate(t,0),n.right=l,n.index=f,n.forward(),Qr(t,e,n,a)},oo=(t,e,n,r,o)=>{const i=t.doc,s=i.clientID;eo(n,o);const a=no(t,e,n,o);t:for(;null!==n.right&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===Co));){if(!n.right.deleted)switch(n.right.content.constructor){case Co:{const{key:e,value:i}=n.right.content,s=o[e];if(void 0!==s){if(Yr(s,i))a.delete(e);else{if(0===r)break t;a.set(e,i)}n.right.delete(t)}else n.currentAttributes.set(e,i);break}default:r<n.right.length&&Tn(t,qe(n.right.id.client,n.right.id.clock+r)),r-=n.right.length}n.forward()}if(r>0){let o="";for(;r>0;r--)o+="\n";n.right=new Wo(qe(s,Cn(i.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Io(o)),n.right.integrate(t,0),n.forward()}Qr(t,e,n,a)},io=(t,e,n,o,i)=>{let s=e;const a=r();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Co){const t=s.content;a.set(t.key,t)}s=s.right}let c=0,u=!1;for(;e!==s;){if(n===e&&(u=!0),!e.deleted){const n=e.content;switch(n.constructor){case Co:{const{key:r,value:s}=n,l=o.get(r)||null;a.get(r)===n&&l!==s||(e.delete(t),c++,u||(i.get(r)||null)!==s||l===s||(null===l?i.delete(r):i.set(r,l))),u||e.deleted||to(i,n);break}}}e=e.right}return c},so=t=>{let e=0;return Fn(t.doc,(n=>{let i=t._start,s=t._start,a=r();const c=o(a);for(;s;)!1===s.deleted&&(s.content.constructor===Co?to(c,s.content):(e+=io(n,i,s,a,c),a=o(c),i=s)),s=s.right})),e},ao=t=>{const e=new Set,n=t.doc;for(const[r,o]of t.afterState.entries()){const i=t.beforeState.get(r)||0;o!==i&&jn(t,n.store.clients.get(r),i,o,(t=>{t.deleted||t.content.constructor!==Co||t.constructor===bo||e.add(t.parent)}))}Fn(n,(n=>{ae(t,t.deleteSet,(t=>{if(t instanceof bo||!t.parent._hasFormatting||e.has(t.parent))return;const r=t.parent;t.content.constructor===Co?e.add(r):((t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Co){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}})(n,t)}));for(const t of e)so(t)}))},co=(t,e,n)=>{const r=n,i=o(e.currentAttributes),s=e.right;for(;n>0&&null!==e.right;){if(!1===e.right.deleted)switch(e.right.content.constructor){case Lo:case xo:case Io:n<e.right.length&&Tn(t,qe(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t)}e.forward()}s&&io(t,s,e.right,i,e.currentAttributes);const a=(e.left||e.right).parent;return a._searchMarker&&kr(a._searchMarker,e.index,-r+n),e};class uo extends mr{constructor(t,e,n){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,n.forEach((t=>{null===t?this.childListChanged=!0:this.keysChanged.add(t)}))}get changes(){if(null===this._changes){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(null===this._delta){const t=this.target.doc,e=[];Fn(t,(t=>{const n=new Map,r=new Map;let o=this.target._start,i=null;const s={};let a="",c=0,u=0;const l=()=>{if(null!==i){let t=null;switch(i){case"delete":u>0&&(t={delete:u}),u=0;break;case"insert":("object"==typeof a||a.length>0)&&(t={insert:a},n.size>0&&(t.attributes={},n.forEach(((e,n)=>{null!==e&&(t.attributes[n]=e)})))),a="";break;case"retain":c>0&&(t={retain:c},(t=>{for(const e in t)return!1;return!0})(s)||(t.attributes=ee({},s))),c=0}t&&e.push(t),i=null}};for(;null!==o;){switch(o.content.constructor){case Lo:case xo:this.adds(o)?this.deletes(o)||(l(),i="insert",a=o.content.getContent()[0],l()):this.deletes(o)?("delete"!==i&&(l(),i="delete"),u+=1):o.deleted||("retain"!==i&&(l(),i="retain"),c+=1);break;case Io:this.adds(o)?this.deletes(o)||("insert"!==i&&(l(),i="insert"),a+=o.content.str):this.deletes(o)?("delete"!==i&&(l(),i="delete"),u+=o.length):o.deleted||("retain"!==i&&(l(),i="retain"),c+=o.length);break;case Co:{const{key:e,value:a}=o.content;if(this.adds(o)){if(!this.deletes(o)){const c=n.get(e)||null;Yr(c,a)?null!==a&&o.delete(t):("retain"===i&&l(),Yr(a,r.get(e)||null)?delete s[e]:s[e]=a)}}else if(this.deletes(o)){r.set(e,a);const t=n.get(e)||null;Yr(t,a)||("retain"===i&&l(),s[e]=t)}else if(!o.deleted){r.set(e,a);const n=s[e];void 0!==n&&(Yr(n,a)?null!==n&&o.delete(t):("retain"===i&&l(),null===a?delete s[e]:s[e]=a))}o.deleted||("insert"===i&&l(),to(n,o.content));break}}o=o.right}for(l();e.length>0;){const t=e[e.length-1];if(void 0===t.retain||void 0!==t.attributes)break;e.pop()}})),this._delta=e}return this._delta}}class lo extends Sr{constructor(t){super(),this._pending=void 0!==t?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach((t=>t()))}catch(t){console.error(t)}this._pending=null}_copy(){return new lo}clone(){const t=new lo;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);const n=new uo(this,t,e);Cr(this,t,n),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){let t="",e=this._start;for(;null!==e;)!e.deleted&&e.countable&&e.content.constructor===Io&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:e=!0}={}){null!==this.doc?Fn(this.doc,(n=>{const r=new Kr(null,this._start,0,new Map);for(let o=0;o<t.length;o++){const i=t[o];if(void 0!==i.insert){const s=e||"string"!=typeof i.insert||o!==t.length-1||null!==r.right||"\n"!==i.insert.slice(-1)?i.insert:i.insert.slice(0,-1);("string"!=typeof s||s.length>0)&&ro(n,this,r,s,i.attributes||{})}else void 0!==i.retain?oo(n,this,r,i.retain,i.attributes||{}):void 0!==i.delete&&co(n,r,i.delete)}})):this._pending.push((()=>this.applyDelta(t)))}toDelta(t,e,n){const r=[],o=new Map,i=this.doc;let s="",a=this._start;function c(){if(s.length>0){const t={};let e=!1;o.forEach(((n,r)=>{e=!0,t[r]=n}));const n={insert:s};e&&(n.attributes=t),r.push(n),s=""}}const u=()=>{for(;null!==a;){if(bn(a,t)||void 0!==e&&bn(a,e))switch(a.content.constructor){case Io:{const r=o.get("ychange");void 0===t||bn(a,t)?void 0===e||bn(a,e)?void 0!==r&&(c(),o.delete("ychange")):void 0!==r&&r.user===a.id.client&&"added"===r.type||(c(),o.set("ychange",n?n("added",a.id):{type:"added"})):void 0!==r&&r.user===a.id.client&&"removed"===r.type||(c(),o.set("ychange",n?n("removed",a.id):{type:"removed"})),s+=a.content.str;break}case Lo:case xo:{c();const t={insert:a.content.getContent()[0]};if(o.size>0){const e={};t.attributes=e,o.forEach(((t,n)=>{e[n]=t}))}r.push(t);break}case Co:bn(a,t)&&(c(),to(o,a.content))}a=a.right}c()};return t||e?Fn(i,(n=>{t&&vn(n,t),e&&vn(n,e),u()}),"cleanup"):u(),r}insert(t,e,n){if(e.length<=0)return;const r=this.doc;null!==r?Fn(r,(r=>{const o=Zr(r,this,t);n||(n={},o.currentAttributes.forEach(((t,e)=>{n[e]=t}))),ro(r,this,o,e,n)})):this._pending.push((()=>this.insert(t,e,n)))}insertEmbed(t,e,n={}){const r=this.doc;null!==r?Fn(r,(r=>{const o=Zr(r,this,t);ro(r,this,o,e,n)})):this._pending.push((()=>this.insertEmbed(t,e,n)))}delete(t,e){if(0===e)return;const n=this.doc;null!==n?Fn(n,(n=>{co(n,Zr(n,this,t),e)})):this._pending.push((()=>this.delete(t,e)))}format(t,e,n){if(0===e)return;const r=this.doc;null!==r?Fn(r,(r=>{const o=Zr(r,this,t);null!==o.right&&oo(r,this,o,e,n)})):this._pending.push((()=>this.format(t,e,n)))}removeAttribute(t){null!==this.doc?Fn(this.doc,(e=>{Rr(e,this,t)})):this._pending.push((()=>this.removeAttribute(t)))}setAttribute(t,e){null!==this.doc?Fn(this.doc,(n=>{Mr(n,this,t,e)})):this._pending.push((()=>this.setAttribute(t,e)))}getAttribute(t){return $r(this,t)}getAttributes(){return Fr(this)}_write(t){t.writeTypeRef(jo)}}class fo{constructor(t,e=(()=>!0)){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(null!==t&&(!this._firstCall||t.deleted||!this._filter(e)))do{if(e=t.content.type,t.deleted||e.constructor!==po&&e.constructor!==ho||null===e._start)for(;null!==t;){if(null!==t.right){t=t.right;break}t=t.parent===this._root?null:t.parent._item}else t=e._start}while(null!==t&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,null===t?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class ho extends Sr{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ho}clone(){const t=new ho;return t.insert(0,this.toArray().map((t=>t instanceof Sr?t.clone():t))),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(t){return new fo(this,t)}querySelector(t){t=t.toUpperCase();const e=new fo(this,(e=>e.nodeName&&e.nodeName.toUpperCase()===t)).next();return e.done?null:e.value}querySelectorAll(t){return t=t.toUpperCase(),u(new fo(this,(e=>e.nodeName&&e.nodeName.toUpperCase()===t)))}_callObserver(t,e){Cr(this,t,new go(this,e,t))}toString(){return Or(this,(t=>t.toString())).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},n){const r=t.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),Tr(this,(o=>{r.insertBefore(o.toDOM(t,e,n),null)})),r}insert(t,e){null!==this.doc?Fn(this.doc,(n=>{Ur(n,this,t,e)})):this._prelimContent.splice(t,0,...e)}insertAfter(t,e){if(null!==this.doc)Fn(this.doc,(n=>{const r=t&&t instanceof Sr?t._item:t;Br(n,this,r,e)}));else{const n=this._prelimContent,r=null===t?0:n.findIndex((e=>e===t))+1;if(0===r&&null!==t)throw lt("Reference item not found");n.splice(r,0,...e)}}delete(t,e=1){null!==this.doc?Fn(this.doc,(n=>{Lr(n,this,t,e)})):this._prelimContent.splice(t,e)}toArray(){return Ir(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Pr(this,t)}slice(t=0,e=this.length){return Ar(this,t,e)}forEach(t){Tr(this,t)}_write(t){t.writeTypeRef(Bo)}}class po extends ho{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach(((t,e)=>{this.setAttribute(e,t)})),this._prelimAttrs=null}_copy(){return new po(this.nodeName)}clone(){const t=new po(this.nodeName);return((t,e)=>{for(const n in t)e(t[n],n)})(this.getAttributes(),((e,n)=>{"string"==typeof e&&t.setAttribute(n,e)})),t.insert(0,this.toArray().map((t=>t instanceof Sr?t.clone():t))),t}toString(){const t=this.getAttributes(),e=[],n=[];for(const e in t)n.push(e);n.sort();const r=n.length;for(let o=0;o<r;o++){const r=n[o];e.push(r+'="'+t[r]+'"')}const o=this.nodeName.toLocaleLowerCase();return`<${o}${e.length>0?" "+e.join(" "):""}>${super.toString()}</${o}>`}removeAttribute(t){null!==this.doc?Fn(this.doc,(e=>{Rr(e,this,t)})):this._prelimAttrs.delete(t)}setAttribute(t,e){null!==this.doc?Fn(this.doc,(n=>{Mr(n,this,t,e)})):this._prelimAttrs.set(t,e)}getAttribute(t){return $r(this,t)}hasAttribute(t){return zr(this,t)}getAttributes(){return Fr(this)}toDOM(t=document,e={},n){const r=t.createElement(this.nodeName),o=this.getAttributes();for(const t in o){const e=o[t];"string"==typeof e&&r.setAttribute(t,e)}return Tr(this,(o=>{r.appendChild(o.toDOM(t,e,n))})),void 0!==n&&n._createAssociation(r,this),r}_write(t){t.writeTypeRef(Po),t.writeKey(this.nodeName)}}class go extends mr{constructor(t,e,n){super(t,n),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach((t=>{null===t?this.childListChanged=!0:this.attributesChanged.add(t)}))}}class yo extends Gr{constructor(t){super(),this.hookName=t}_copy(){return new yo(this.hookName)}clone(){const t=new yo(this.hookName);return this.forEach(((e,n)=>{t.set(n,e)})),t}toDOM(t=document,e={},n){const r=e[this.hookName];let o;return o=void 0!==r?r.createDom(this):document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(o,this),o}_write(t){t.writeTypeRef(No),t.writeKey(this.hookName)}}class mo extends lo{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new mo}clone(){const t=new mo;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,n){const r=t.createTextNode(this.toString());return void 0!==n&&n._createAssociation(r,this),r}toString(){return this.toDelta().map((t=>{const e=[];for(const n in t.attributes){const r=[];for(const e in t.attributes[n])r.push({key:e,value:t.attributes[n][e]});r.sort(((t,e)=>t.key<e.key?-1:1)),e.push({nodeName:n,attrs:r})}e.sort(((t,e)=>t.nodeName<e.nodeName?-1:1));let n="";for(let t=0;t<e.length;t++){const r=e[t];n+=`<${r.nodeName}`;for(let t=0;t<r.attrs.length;t++){const e=r.attrs[t];n+=` ${e.key}="${e.value}"`}n+=">"}n+=t.insert;for(let t=e.length-1;t>=0;t--)n+=`</${e[t].nodeName}>`;return n})).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(Uo)}}class wo{constructor(t,e){this.id=t,this.length=e}get deleted(){throw ft()}mergeWith(t){return!1}write(t,e,n){throw ft()}integrate(t,e){throw ft()}}class bo extends wo{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){e>0&&(this.id.clock+=e,this.length-=e),Sn(t.doc.store,this)}write(t,e){t.writeInfo(0),t.writeLen(this.length-e)}getMissing(t,e){return null}}class vo{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new vo(this.content)}splice(t){throw ft()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}class _o{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new _o(this.len)}splice(t){const e=new _o(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){fe(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}const Eo=(t,e)=>new be({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class ko{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),null!==t.meta&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new ko(Eo(this.doc.guid,this.opts))}splice(t){throw ft()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}class xo{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new xo(this.embed)}splice(t){throw ft()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}class Co{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Co(this.key,this.value)}splice(t){throw ft()}mergeWith(t){return!1}integrate(t,e){const n=e.parent;n._searchMarker=null,n._hasFormatting=!0}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}class So{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new So(this.arr)}splice(t){const e=new So(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const n=this.arr.length;t.writeLen(n-e);for(let r=e;r<n;r++){const e=this.arr[r];t.writeString(void 0===e?"undefined":JSON.stringify(e))}}getRef(){return 2}}class Ao{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ao(this.arr)}splice(t){const e=new Ao(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const n=this.arr.length;t.writeLen(n-e);for(let r=e;r<n;r++){const e=this.arr[r];t.writeAny(e)}}getRef(){return 8}}class Io{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Io(this.str)}splice(t){const e=new Io(this.str.slice(t));this.str=this.str.slice(0,t);const n=this.str.charCodeAt(t-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,t-1)+"",e.str=""+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(0===e?this.str:this.str.slice(e))}getRef(){return 4}}const Do=[t=>new qr,t=>new Gr,t=>new lo,t=>new po(t.readKey()),t=>new ho,t=>new yo(t.readKey()),t=>new mo],To=0,Oo=1,jo=2,Po=3,Bo=4,No=5,Uo=6;class Lo{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Lo(this.type._copy())}splice(t){throw ft()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;null!==e;)e.deleted?e.id.clock<(t.beforeState.get(e.id.client)||0)&&t._mergeStructs.push(e):e.delete(t),e=e.right;this.type._map.forEach((e=>{e.deleted?e.id.clock<(t.beforeState.get(e.id.client)||0)&&t._mergeStructs.push(e):e.delete(t)})),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;null!==e;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach((e=>{for(;null!==e;)e.gc(t,!0),e=e.left})),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const Ro=(t,e)=>{let n,r=e,o=0;do{o>0&&(r=qe(r.client,r.clock+o)),n=In(t,r),o=r.clock-n.id.clock,r=n.redone}while(null!==r&&n instanceof Wo);return{item:n,diff:o}},Mo=(t,e)=>{for(;null!==t&&t.keep!==e;)t.keep=e,t=t.parent._item},$o=(t,e,n)=>{const{client:r,clock:o}=e.id,i=new Wo(qe(r,o+n),e,qe(r,o+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),null!==e.redone&&(i.redone=qe(e.redone.client,e.redone.clock+n)),e.right=i,null!==i.right&&(i.right.left=i),t._mergeStructs.push(i),null!==i.parentSub&&null===i.right&&i.parent._map.set(i.parentSub,i),e.length=n,i},Fo=(t,e)=>((t,n)=>{for(let n=0;n<t.length;n++)if(r=t[n],ce(r.deletions,e))return!0;var r;return!1})(t),zo=(t,e,n,r,o,i)=>{const s=t.doc,a=s.store,c=s.clientID,u=e.redone;if(null!==u)return Tn(t,u);let l,f=e.parent._item,h=null;if(null!==f&&!0===f.deleted){if(null===f.redone&&(!n.has(f)||null===zo(t,f,n,r,o,i)))return null;for(;null!==f.redone;)f=Tn(t,f.redone)}const d=null===f?e.parent:f.content.type;if(null===e.parentSub){for(h=e.left,l=e;null!==h;){let e=h;for(;null!==e&&e.parent._item!==f;)e=null===e.redone?null:Tn(t,e.redone);if(null!==e&&e.parent._item===f){h=e;break}h=h.left}for(;null!==l;){let e=l;for(;null!==e&&e.parent._item!==f;)e=null===e.redone?null:Tn(t,e.redone);if(null!==e&&e.parent._item===f){l=e;break}l=l.right}}else if(l=null,e.right&&!o){for(h=e;null!==h&&null!==h.right&&(h.right.redone||ce(r,h.right.id)||Fo(i.undoStack,h.right.id)||Fo(i.redoStack,h.right.id));)for(h=h.right;h.redone;)h=Tn(t,h.redone);if(h&&null!==h.right)return null}else h=d._map.get(e.parentSub)||null;const p=Cn(a,c),g=qe(c,p),y=new Wo(g,h,h&&h.lastId,l,l&&l.id,d,e.parentSub,e.content.copy());return e.redone=g,Mo(y,!0),y.integrate(t,0),y};class Wo extends wo{constructor(t,e,n,r,o,i,s,a){super(t,a.getLength()),this.origin=n,this.left=e,this.right=r,this.rightOrigin=o,this.parent=i,this.parentSub=s,this.redone=null,this.content=a,this.info=this.content.isCountable()?2:0}set marker(t){(8&this.info)>0!==t&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(t){this.keep!==t&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(t){this.deleted!==t&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(t,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Cn(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Cn(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===He&&this.id.client!==this.parent.client&&this.parent.clock>=Cn(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=On(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Tn(t,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===bo||this.right&&this.right.constructor===bo)&&(this.parent=null),this.parent){if(this.parent.constructor===He){const t=In(e,this.parent);t.constructor===bo?this.parent=null:this.parent=t.content.type}}else this.left&&this.left.constructor===Wo&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Wo&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(t,e){if(e>0&&(this.id.clock+=e,this.left=On(t,t.doc.store,qe(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let e,n=this.left;if(null!==n)e=n.right;else if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start;const r=new Set,o=new Set;for(;null!==e&&e!==this.right;){if(o.add(e),r.add(e),Ve(this.origin,e.origin)){if(e.id.client<this.id.client)n=e,r.clear();else if(Ve(this.rightOrigin,e.rightOrigin))break}else{if(null===e.origin||!o.has(In(t.doc.store,e.origin)))break;r.has(In(t.doc.store,e.origin))||(n=e,r.clear())}e=e.right}this.left=n}if(null!==this.left){const t=this.left.right;this.right=t,this.left.right=this}else{let t;if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start,this.parent._start=this;this.right=t}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(t)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Sn(t.doc.store,this),this.content.integrate(t,this),Nn(t,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(t)}else new bo(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;null!==t&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;null!==t&&t.deleted;)t=t.left;return t}get lastId(){return 1===this.length?this.id:qe(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&Ve(t.origin,this.lastId)&&this.right===t&&Ve(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&null===this.redone&&null===t.redone&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const e=this.parent._searchMarker;return e&&e.forEach((e=>{e.p===t&&(e.p=this,!this.deleted&&this.countable&&(e.index-=this.length))})),t.keep&&(this.keep=!0),this.right=t.right,null!==this.right&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const e=this.parent;this.countable&&null===this.parentSub&&(e._length-=this.length),this.markDeleted(),fe(t.deleteSet,this.id.client,this.id.clock,this.length),Nn(t,e,this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw ht();this.content.gc(t),e?((t,e,n)=>{const r=t.clients.get(e.id.client);r[An(r,e.id.clock)]=n})(t,this,new bo(this.id,this.length)):this.content=new _o(this.length)}write(t,e){const n=e>0?qe(this.id.client,this.id.clock+e-1):this.origin,r=this.rightOrigin,o=this.parentSub,i=31&this.content.getRef()|(null===n?0:M)|(null===r?0:R)|(null===o?0:32);if(t.writeInfo(i),null!==n&&t.writeLeftID(n),null!==r&&t.writeRightID(r),null===n&&null===r){const e=this.parent;if(void 0!==e._item){const n=e._item;if(null===n){const n=Ye(e);t.writeParentInfo(!0),t.writeString(n)}else t.writeParentInfo(!1),t.writeLeftID(n.id)}else e.constructor===String?(t.writeParentInfo(!0),t.writeString(e)):e.constructor===He?(t.writeParentInfo(!1),t.writeLeftID(e)):ht();null!==o&&t.writeString(o)}this.content.write(t,e)}}const Ho=(t,e)=>Vo[31&e](t),Vo=[()=>{ht()},t=>new _o(t.readLen()),t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const e=t.readString();"undefined"===e?n.push(void 0):n.push(JSON.parse(e))}return new So(n)},t=>new vo(t.readBuf()),t=>new Io(t.readString()),t=>new xo(t.readJSON()),t=>new Co(t.readKey(),t.readJSON()),t=>new Lo(Do[t.readTypeRef()](t)),t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new Ao(n)},t=>new ko(Eo(t.readString(),t.readAny())),()=>{ht()}];class qo extends wo{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){ht()}write(t,e){t.writeInfo(10),G(t.restEncoder,this.length-e)}getMissing(t,e){return null}}const Jo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},Go="__ $YJS$ __";!0===Jo[Go]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),Jo[Go]=!0}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&e&&t;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach((e=>r[e]=()=>t[e]));return r.default=()=>t,__webpack_require__.d(n,r),n},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};(()=>{const t=__webpack_require__(8176),e=__webpack_require__(4218);__webpack_require__(4780)(e),__webpack_require__(3489)(e),__webpack_require__(953)(e),__webpack_require__(6615)(e);const n=t.create({host:"localhost",port:"5002",protocol:"http",repo:"yjs-demo/"+Math.random(),EXPERIMENTAL:{pubsub:!0}});console.log("Before calling ipfs.id()"),n.id().then((t=>{console.log("IPFS node ready with address "+t.id)})).catch((t=>{console.error("Error while getting IPFS node ID:",t)})),console.log("After calling ipfs.id()"),n.once("ready",(()=>n.id(((t,r)=>{if(t)throw t;console.log("IPFS node ready with address "+r.id),e({db:{name:"memory"},connector:{name:"ipfs",room:"ipfs-yjs-demo",ipfs:n},share:{textfield:"Text"}}).then((t=>{t.share.textfield.bind(document.getElementById("textfield"))}))}))))})()})();
//# sourceMappingURL=app.bundle.js.map